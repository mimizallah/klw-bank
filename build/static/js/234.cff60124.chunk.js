(this["webpackJsonpklw-bank"]=this["webpackJsonpklw-bank"]||[]).push([[234],{1763:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return tt}));var r=i(92),a=i(89),n=i(88),o=i(107),l=i(106),s=i(90),c=i(91),b=i(94),u=i(145),p=i(101),y=i(102),j=i(281),v=i(110),d=i(97),O=i(96),f=(i(98),i(93),i(136)),h=i(95),m=i(167),g=i(157),S=i(130),x=i(259),w=i(541),V=i(485),z=i(311),I=i(326),R=i(302),N=i(1105),k=i(324),T=i(244),q=i(325),D=i(99),F=i(165),A=i(719),L=i(105),P=i(700),M=i(468),_=i(447),B=i(403),U=Object(g.f)(),E=Object(_.b)(),C=Object(_.b)(),J=Object(_.b)(),W=Object(g.i)(0,0,1),G=Object(g.i)(0,1,0),K=Object(g.i)(1,0,0);function X(e){Object(m.h)(U,e),Object(m.s)(U,U);var t=Math.atan2(U[1],U[0]),i=Object(M.i)(Object(_.b)(),W,-t);Object(m.v)(U,U,i);var r=-1*Math.atan2(U[2],U[0]);return[Object(B.b)(t)+270,Object(B.b)(r)+90]}function Y(e,t){return Object(M.i)(C,W,Object(B.d)(e-270)),Object(M.i)(J,G,Object(B.d)(t-90)),Object(M.g)(E,C,J),Object(m.h)(U,K),Object(m.v)(U,U,E),Object(m.s)(U,U),[U[0],U[1],U[2]]}var H=i(191),Q=function(e){Object(s.a)(i,e);var t=Object(c.a)(i);function i(e){var r;return Object(a.a)(this,i),(r=t.call(this,e)).enabled=!0,r.label="",r.normal=null,r.point=null,r}return Object(n.a)(i,[{key:"orientation",get:function(){if(!Array.isArray(this.normal)||3!==this.normal.length)return 0;var e=X(this.normal),t=Object(D.a)(e,2),i=t[0];t[1];return A.a.normalize(Object(O.i)(i),0,!0)},set:function(e){var t=Y(e,this.tilt);this._set("normal",t),this._set("orientation",e)}},{key:"tilt",get:function(){if(!Array.isArray(this.normal)||3!==this.normal.length)return 0;var e=X(this.normal),t=Object(D.a)(e,2),i=(t[0],t[1]);return A.a.normalize(Object(O.i)(i),0,!0)},set:function(e){var t=Y(this.orientation,e);this._set("normal",t),this._set("tilt",e)}}]),i}(Object(F.b)(L.a));Object(b.a)([Object(d.b)({type:Boolean,json:{write:!0}})],Q.prototype,"enabled",void 0),Object(b.a)([Object(d.b)({type:String,json:{write:!0}})],Q.prototype,"label",void 0),Object(b.a)([Object(d.b)({type:Number,json:{read:!1},clonable:!1,range:{min:0,max:360}}),Object(H.a)((function(e){return A.a.normalize(Object(O.i)(e),0,!0)}))],Q.prototype,"orientation",null),Object(b.a)([Object(d.b)({type:Number,json:{read:!1},clonable:!1,range:{min:0,max:360}}),Object(H.a)((function(e){return A.a.normalize(Object(O.i)(e),0,!0)}))],Q.prototype,"tilt",null),Object(b.a)([Object(d.b)({type:[Number],json:{write:!0}})],Q.prototype,"normal",void 0),Object(b.a)([Object(d.b)({type:[Number],json:{write:!0}})],Q.prototype,"point",void 0);var Z=Q=Object(b.a)([Object(h.a)("esri.layers.voxel.VoxelSlice")],Q),$=i(215),ee=function(e){Object(s.a)(i,e);var t=Object(c.a)(i);function i(){var e;return Object(a.a)(this,i),(e=t.apply(this,arguments)).enabled=!0,e.href=null,e.id=null,e.label="",e.normal=null,e.point=null,e.sizeInPixel=null,e.slices=null,e.timeId=0,e.variableId=null,e}return Object(n.a)(i,[{key:"orientation",get:function(){if(!Array.isArray(this.normal)||3!==this.normal.length)return 0;var e=X(this.normal),t=Object(D.a)(e,2),i=t[0];t[1];return A.a.normalize(Object(O.i)(i),0,!0)}},{key:"tilt",get:function(){if(!Array.isArray(this.normal)||3!==this.normal.length)return 0;var e=X(this.normal),t=Object(D.a)(e,2),i=(t[0],t[1]);return A.a.normalize(Object(O.i)(i),0,!0)}}]),i}(Object(F.b)(L.a));Object(b.a)([Object(d.b)({type:Boolean,json:{default:!0,write:!0}})],ee.prototype,"enabled",void 0),Object(b.a)([Object(d.b)({type:String,json:{origins:{service:{read:$.g}},write:{enabled:!0,isRequired:!0}}}),Object(P.a)({origins:["web-scene"],type:"resource",prefix:"sections",compress:!0})],ee.prototype,"href",void 0),Object(b.a)([Object(d.b)({type:O.a,json:{write:{enabled:!0,isRequired:!0}}})],ee.prototype,"id",void 0),Object(b.a)([Object(d.b)({type:String,json:{write:!0}})],ee.prototype,"label",void 0),Object(b.a)([Object(d.b)({type:Number,clonable:!1,readOnly:!0,range:{min:0,max:360}})],ee.prototype,"orientation",null),Object(b.a)([Object(d.b)({type:Number,clonable:!1,readOnly:!0,range:{min:0,max:360}})],ee.prototype,"tilt",null),Object(b.a)([Object(d.b)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],ee.prototype,"normal",void 0),Object(b.a)([Object(d.b)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],ee.prototype,"point",void 0),Object(b.a)([Object(d.b)({type:[O.a],json:{write:{enabled:!0,isRequired:!0}}})],ee.prototype,"sizeInPixel",void 0),Object(b.a)([Object(d.b)({type:[Z],json:{write:!0}})],ee.prototype,"slices",void 0),Object(b.a)([Object(d.b)({type:O.a,json:{default:0,write:!0}})],ee.prototype,"timeId",void 0),Object(b.a)([Object(d.b)({type:O.a,json:{write:{enabled:!0,isRequired:!0}}})],ee.prototype,"variableId",void 0);var te=ee=Object(b.a)([Object(h.a)("esri.layers.voxel.VoxelSection")],ee),ie=function(e){Object(s.a)(i,e);var t=Object(c.a)(i);function i(){var e;return Object(a.a)(this,i),(e=t.apply(this,arguments)).diffuseFactor=.5,e.specularFactor=.5,e}return Object(n.a)(i)}(L.a);Object(b.a)([Object(d.b)({type:Number,range:{min:0,max:1},json:{default:.5,write:!0}})],ie.prototype,"diffuseFactor",void 0),Object(b.a)([Object(d.b)({type:Number,range:{min:0,max:1},json:{default:.5,write:!0}})],ie.prototype,"specularFactor",void 0);var re=ie=Object(b.a)([Object(h.a)("esri.layers.voxel.VoxelSimpleShading")],ie),ae=function(e){Object(s.a)(i,e);var t=Object(c.a)(i);function i(){var e;return Object(a.a)(this,i),(e=t.apply(this,arguments)).continuity=null,e.hasNoData=!1,e.noData=0,e.offset=0,e.scale=1,e.type=null,e}return Object(n.a)(i)}(L.a);Object(b.a)([Object(d.b)({type:["discrete","continuous"],json:{write:!0}})],ae.prototype,"continuity",void 0),Object(b.a)([Object(d.b)({type:Boolean,json:{write:!0}})],ae.prototype,"hasNoData",void 0),Object(b.a)([Object(d.b)({type:Number,json:{write:!0}})],ae.prototype,"noData",void 0),Object(b.a)([Object(d.b)({type:Number,json:{write:!0}})],ae.prototype,"offset",void 0),Object(b.a)([Object(d.b)({type:Number,json:{write:!0}})],ae.prototype,"scale",void 0),Object(b.a)([Object(d.b)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],ae.prototype,"type",void 0);var ne=ae=Object(b.a)([Object(h.a)("esri.layers.voxel.VoxelFormat")],ae),oe=function(e){Object(s.a)(i,e);var t=Object(c.a)(i);function i(){var e;return Object(a.a)(this,i),(e=t.apply(this,arguments)).id=null,e.description="",e.name=null,e.originalFormat=null,e.renderingFormat=null,e.unit="",e.volumeId=0,e.type=null,e}return Object(n.a)(i)}(L.a);Object(b.a)([Object(d.b)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],oe.prototype,"id",void 0),Object(b.a)([Object(d.b)({type:String,json:{write:!0}})],oe.prototype,"description",void 0),Object(b.a)([Object(d.b)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],oe.prototype,"name",void 0),Object(b.a)([Object(d.b)({type:ne,json:{write:!0}})],oe.prototype,"originalFormat",void 0),Object(b.a)([Object(d.b)({type:ne,json:{write:{enabled:!0,isRequired:!0}}})],oe.prototype,"renderingFormat",void 0),Object(b.a)([Object(d.b)({type:String,json:{write:!0}})],oe.prototype,"unit",void 0),Object(b.a)([Object(d.b)({type:Number,json:{write:!0}})],oe.prototype,"volumeId",void 0),Object(b.a)([Object(d.b)({type:["stc-hot-spot-results","stc-cluster-outlier-results","stc-estimated-bin","generic-nearest-interpolated"],json:{write:!0}})],oe.prototype,"type",void 0);var le=oe=Object(b.a)([Object(h.a)("esri.layers.voxel.VoxelVariable")],oe),se=i(116),ce=i(143),be=function(e){Object(s.a)(i,e);var t=Object(c.a)(i);function i(){var e;return Object(a.a)(this,i),(e=t.apply(this,arguments)).color=ce.a.fromArray([0,0,0,0]),e.value=0,e.enabled=!0,e.label="",e.colorLocked=!1,e}return Object(n.a)(i)}(Object(F.b)(L.a));Object(b.a)([Object(d.b)({type:ce.a,json:{type:[O.a],write:{enabled:!0,isRequired:!0}}})],be.prototype,"color",void 0),Object(b.a)([Object(d.b)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],be.prototype,"value",void 0),Object(b.a)([Object(d.b)({type:Boolean,json:{default:!0,write:!0}})],be.prototype,"enabled",void 0),Object(b.a)([Object(d.b)({type:String,json:{write:!0}})],be.prototype,"label",void 0),Object(b.a)([Object(d.b)({type:Boolean,json:{default:!1,write:!0}})],be.prototype,"colorLocked",void 0);var ue=be=Object(b.a)([Object(h.a)("esri.layers.voxel.VoxelIsosurface")],be),pe=i(264),ye=i(141),je=function(e){Object(s.a)(i,e);var t=Object(c.a)(i);function i(){var e;return Object(a.a)(this,i),(e=t.apply(this,arguments)).color=null,e.position=0,e}return Object(n.a)(i)}(Object(F.b)(L.a));Object(b.a)([Object(d.b)({type:ce.a,json:{type:[O.a],write:{enabled:!0,isRequired:!0}}})],je.prototype,"color",void 0),Object(b.a)([Object(d.b)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],je.prototype,"position",void 0);var ve=je=Object(b.a)([Object(h.a)("esri.layers.voxel.VoxelColorStop")],je),de=function(e){Object(s.a)(i,e);var t=Object(c.a)(i);function i(){var e;return Object(a.a)(this,i),(e=t.apply(this,arguments)).opacity=1,e.position=0,e}return Object(n.a)(i)}(Object(F.b)(L.a));Object(b.a)([Object(d.b)({type:Number,json:{name:"alpha",write:{enabled:!0,isRequired:!0}}})],de.prototype,"opacity",void 0),Object(b.a)([Object(d.b)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],de.prototype,"position",void 0);var Oe=de=Object(b.a)([Object(h.a)("esri.layers.voxel.VoxelOpacityStop")],de),fe=function(e){Object(s.a)(i,e);var t=Object(c.a)(i);function i(){var e;return Object(a.a)(this,i),(e=t.apply(this,arguments)).enabled=!1,e.range=null,e}return Object(n.a)(i)}(Object(F.b)(L.a));Object(b.a)([Object(d.b)({type:Boolean,json:{default:!1,write:!0}})],fe.prototype,"enabled",void 0),Object(b.a)([Object(d.b)({type:[Number],json:{write:!0}})],fe.prototype,"range",void 0);var he,me,ge=fe=Object(b.a)([Object(h.a)("esri.layers.voxel.VoxelRangeFilter")],fe);(me=he||(he={}))[me.Color=1]="Color",me[me.Alpha=2]="Alpha",me[me.Both=3]="Both";var Se=function(e){Object(s.a)(i,e);var t=Object(c.a)(i);function i(e){var r;return Object(a.a)(this,i),(r=t.call(this,e)).interpolation=null,r.stretchRange=null,r.rangeFilter=null,r._colorMapSize=256,r.colorStops=new(u.a.ofType(ve)),r.opacityStops=new(u.a.ofType(Oe)),r}return Object(n.a)(i,[{key:"colorStops",set:function(e){this._set("colorStops",Object(pe.b)(e,this._get("colorStops"),u.a.ofType(ve)))}},{key:"opacityStops",set:function(e){this._set("opacityStops",Object(pe.b)(e,this._get("opacityStops"),u.a.ofType(Oe)))}},{key:"getPreviousNext",value:function(e,t,i){for(var r=e;--r>0&&t[r].type!==i&&t[r].type!==he.Both;);for(var a=e,n=t.length;++a<n&&t[a].type!==i&&t[a].type!==he.Both;);return[r,a]}},{key:"rasterizedTransferFunction",get:function(){var e=this,t=[];if(this.colorStops.length<2)return t;var i,a=[],n=[],o=Object(r.a)(this.colorStops);try{for(o.s();!(i=o.n()).done;){var l=i.value;if(!l.color)return t;n.push({color:{r:l.color.r,g:l.color.g,b:l.color.b,a:Math.round(255*(1-l.color.a))},position:l.position,type:he.Color})}}catch(k){o.e(k)}finally{o.f()}if(0===this.opacityStops.length){var s,c=Object(r.a)(n);try{for(c.s();!(s=c.n()).done;){var b=s.value;a.push({color:b.color,position:b.position})}}catch(k){c.e(k)}finally{c.f()}}else{var u,p=Object(r.a)(this.opacityStops);try{for(p.s();!(u=p.n()).done;){var y,j=u.value,v=Object(ye.e)(j.position,0,1),d=Math.round(255*Object(ye.e)(1-j.opacity,0,1)),O=!1,f=Object(r.a)(n);try{for(f.s();!(y=f.n()).done;){var h=y.value;if(h.type===he.Color&&Math.abs(h.position-v)<1e-5){h.color.a=d,h.type=he.Both,O=!0;break}}}catch(k){f.e(k)}finally{f.f()}O||n.push({color:{r:0,g:0,b:0,a:d},position:j.position,type:he.Alpha})}}catch(k){p.e(k)}finally{p.f()}n.sort((function(e,t){return e.position<t.position?-1:1}));for(var m=n.length,g=function(){var t=n[S];if(t.type!==he.Both)if(t.type===he.Color){var i=e.getPreviousNext(S,n,he.Alpha),r=Object(D.a)(i,2),a=r[0],o=r[1];if(-1!==a&&o!==m){var l=(t.position-n[a].position)/(n[o].position-n[a].position);t.color.a=Math.round(Object(ye.k)(n[a].color.a,n[o].color.a,l))}else t.color.a=-1!==a?n[a].color.a:n[o].color.a}else{var s=e.getPreviousNext(S,n,he.Color),c=Object(D.a)(s,2),b=c[0],u=c[1];if(-1!==b&&u!==m){var p=(t.position-n[b].position)/(n[u].position-n[b].position),y=n[b].color,j=n[u].color;we.forEach((function(e){t.color[e]=Math.round(Object(ye.k)(y[e],j[e],p))}))}else-1!==b?we.forEach((function(e){t.color[e]=n[b].color[e]})):we.forEach((function(e){t.color[e]=n[u].color[e]}))}},S=0;S<m;++S)g();var x,w=Object(r.a)(n);try{for(w.s();!(x=w.n()).done;){var V=x.value;a.push({color:V.color,position:V.position})}}catch(k){w.e(k)}finally{w.f()}}a[0].position=0,a[a.length-1].position=1;for(var z=0,I=1,R=function(){for(var i=N/e._colorMapSize;i>a[I].position;)z=I++;var r=(i-a[z].position)/(a[I].position-a[z].position),n=a[z].color,o=a[I].color,l=new ce.a;we.forEach((function(e){l[e]=Math.round(Object(ye.k)(n[e],o[e],r))})),l.a=Object(ye.e)(1-Object(ye.k)(n.a,o.a,r)/255,0,1),t.push(l)},N=0;N<this._colorMapSize;++N)R();return t}},{key:"getColorForContinuousDataValue",value:function(e,t){var i=this.rasterizedTransferFunction;if(this.colorStops.length<2||!Array.isArray(this.stretchRange)||this.stretchRange.length<2||i.length<256)return null;var r=this.stretchRange[0],a=this.stretchRange[1];if(r>a){var n=r;r=a,a=n}e=Object(ye.e)(e,r,a);var o=i[Math.round((e-r)/(a-r)*(this._colorMapSize-1))].clone();return t||(o.a=1),o}}]),i}(Object(F.b)(L.a));Object(b.a)([Object(d.b)({type:["linear","nearest"],json:{write:!0}})],Se.prototype,"interpolation",void 0),Object(b.a)([Object(d.b)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],Se.prototype,"stretchRange",void 0),Object(b.a)([Object(d.b)({type:u.a.ofType(ve),json:{write:{enabled:!0,overridePolicy:function(){return{enabled:!!this.colorStops&&this.colorStops.length>0}}}}})],Se.prototype,"colorStops",null),Object(b.a)([Object(d.b)({type:u.a.ofType(Oe),json:{read:{source:"alphaStops"},write:{enabled:!0,target:"alphaStops",overridePolicy:function(){return{enabled:!!this.opacityStops&&this.opacityStops.length>0}}}}})],Se.prototype,"opacityStops",null),Object(b.a)([Object(d.b)({type:ge,json:{write:!0}})],Se.prototype,"rangeFilter",void 0),Object(b.a)([Object(d.b)({type:[ce.a],clonable:!1,json:{read:!1}})],Se.prototype,"rasterizedTransferFunction",null);var xe=Se=Object(b.a)([Object(h.a)("esri.layers.voxel.VoxelTransferFunctionStyle")],Se),we=["r","g","b"],Ve=function(e){Object(s.a)(i,e);var t=Object(c.a)(i);function i(){var e;return Object(a.a)(this,i),(e=t.apply(this,arguments)).color=ce.a.fromArray([0,0,0,0]),e.value=0,e.enabled=!0,e.label="",e}return Object(n.a)(i)}(Object(F.b)(L.a));Object(b.a)([Object(d.b)({type:ce.a,json:{type:[O.a],write:{enabled:!0,isRequired:!0}}})],Ve.prototype,"color",void 0),Object(b.a)([Object(d.b)({type:O.a,json:{write:{enabled:!0,isRequired:!0}}})],Ve.prototype,"value",void 0),Object(b.a)([Object(d.b)({type:Boolean,json:{default:!0,write:!0}})],Ve.prototype,"enabled",void 0),Object(b.a)([Object(d.b)({type:String,json:{write:!0}})],Ve.prototype,"label",void 0);var ze,Ie=Ve=Object(b.a)([Object(h.a)("esri.layers.voxel.VoxelUniqueValue")],Ve),Re=ze=function(e){Object(s.a)(i,e);var t=Object(c.a)(i);function i(e){var r;return Object(a.a)(this,i),(r=t.call(this,e)).variableId=0,r.label="",r.transferFunction=null,r.uniqueValues=null,r.isosurfaces=null,r.uniqueValues=new(u.a.ofType(Ie)),r.isosurfaces=new(u.a.ofType(ue)),r}return Object(n.a)(i,[{key:"clone",value:function(){return new ze({variableId:this.variableId,label:this.label,transferFunction:Object(se.a)(this.transferFunction),uniqueValues:Object(se.a)(this.uniqueValues),isosurfaces:Object(se.a)(this.isosurfaces)})}}]),i}(L.a);Object(b.a)([Object(d.b)({type:O.a,json:{write:{enabled:!0,isRequired:!0}}})],Re.prototype,"variableId",void 0),Object(b.a)([Object(d.b)({type:String,json:{write:!0}})],Re.prototype,"label",void 0),Object(b.a)([Object(d.b)({type:xe,json:{write:{enabled:!0,overridePolicy:function(){return{enabled:!this.uniqueValues||this.uniqueValues.length<1}}}}})],Re.prototype,"transferFunction",void 0),Object(b.a)([Object(d.b)({type:u.a.ofType(Ie),json:{write:{enabled:!0,overridePolicy:function(){return{enabled:!!this.uniqueValues&&this.uniqueValues.length>0}}}}})],Re.prototype,"uniqueValues",void 0),Object(b.a)([Object(d.b)({type:u.a.ofType(ue),json:{write:{enabled:!0,overridePolicy:function(){var e=!this.uniqueValues||this.uniqueValues.length<1,t=!!this.isosurfaces&&this.isosurfaces.length>0;return{enabled:e&&t}}}}})],Re.prototype,"isosurfaces",void 0);var Ne=Re=ze=Object(b.a)([Object(h.a)("esri.layers.voxel.VoxelVariableStyle")],Re),ke=i(135),Te=i(125),qe=i(132),De=function(e){Object(s.a)(i,e);var t=Object(c.a)(i);function i(){var e;return Object(a.a)(this,i),(e=t.apply(this,arguments)).values=null,e}return Object(n.a)(i)}(L.a);Object(b.a)([Object(d.b)({type:[Number],json:{write:!0}})],De.prototype,"values",void 0);var Fe=De=Object(b.a)([Object(h.a)("esri.layers.voxel.VoxelIrregularSpacing")],De),Ae=function(e){Object(s.a)(i,e);var t=Object(c.a)(i);function i(){var e;return Object(a.a)(this,i),(e=t.apply(this,arguments)).scale=1,e.offset=0,e}return Object(n.a)(i)}(L.a);Object(b.a)([Object(d.b)({type:Number,json:{write:!0}})],Ae.prototype,"scale",void 0),Object(b.a)([Object(d.b)({type:Number,json:{write:!0}})],Ae.prototype,"offset",void 0);var Le=Ae=Object(b.a)([Object(h.a)("esri.layers.voxel.VoxelRegularSpacing")],Ae),Pe=function(e){Object(s.a)(i,e);var t=Object(c.a)(i);function i(){var e;return Object(a.a)(this,i),(e=t.apply(this,arguments)).irregularSpacing=null,e.isPositiveUp=!0,e.isWrappedDateLine=!1,e.label=null,e.name=null,e.quantity=null,e.regularSpacing=null,e.size=0,e.unit=null,e}return Object(n.a)(i,[{key:"isRegular",get:function(){return(null==this.irregularSpacing||void 0===this.irregularSpacing)&&null!==this.regularSpacing}},{key:"getRange",value:function(){var e;return this.isRegular?[this.regularSpacing.offset,this.regularSpacing.offset+this.regularSpacing.scale*(this.size-1)]:Array.isArray(null===(e=this.irregularSpacing)||void 0===e?void 0:e.values)&&this.irregularSpacing.values.length>1?[this.irregularSpacing.values[0],this.irregularSpacing.values[this.irregularSpacing.values.length-1]]:[0,0]}}]),i}(L.a);Object(b.a)([Object(d.b)({type:Fe,json:{write:!0}})],Pe.prototype,"irregularSpacing",void 0),Object(b.a)([Object(d.b)({type:Boolean,json:{write:!0}})],Pe.prototype,"isPositiveUp",void 0),Object(b.a)([Object(d.b)({type:Boolean,json:{write:!0}})],Pe.prototype,"isWrappedDateLine",void 0),Object(b.a)([Object(d.b)({type:String,json:{write:!0}})],Pe.prototype,"label",void 0),Object(b.a)([Object(d.b)({type:String,json:{write:!0}})],Pe.prototype,"name",void 0),Object(b.a)([Object(d.b)({type:String,json:{write:!0}})],Pe.prototype,"quantity",void 0),Object(b.a)([Object(d.b)({type:Le,json:{write:!0}})],Pe.prototype,"regularSpacing",void 0),Object(b.a)([Object(d.b)({type:Number,json:{write:!0}})],Pe.prototype,"size",void 0),Object(b.a)([Object(d.b)({type:String,json:{write:!0}})],Pe.prototype,"unit",void 0),Object(b.a)([Object(d.b)({type:Boolean,json:{read:!1}})],Pe.prototype,"isRegular",null);var Me=Pe=Object(b.a)([Object(h.a)("esri.layers.voxel.VoxelDimension")],Pe),_e="esri.layers.voxel.VoxelVolume",Be=y.a.getLogger(_e),Ue=function(e){Object(s.a)(i,e);var t=Object(c.a)(i);function i(e){var r;return Object(a.a)(this,i),(r=t.call(this,e)).id=0,r.dimensions=null,r.spatialReference=Te.a.WGS84,r}return Object(n.a)(i,[{key:"zDimension",get:function(){if(!this.dimensions)return-1;if(!Array.isArray(this.dimensions))return-1;if(4!==this.dimensions.length)return-1;for(var e=2;e<4;++e)if(this.dimensions[e].size>0)return e;return-1}},{key:"isValid",get:function(){return!!this.dimensions&&!!Array.isArray(this.dimensions)&&4===this.dimensions.length&&!(this.dimensions[0].size<1||this.dimensions[1].size<1)&&!(-1===this.zDimension||this.dimensions[this.zDimension].size<1)}},{key:"originInLayerSpace3D",get:function(){if(!this.isValid||"xyt"===this.volumeType)return[0,0,0];var e=this.dimensions[0].getRange(),t=this.dimensions[1].getRange(),i=this.dimensions[2],r=i.isRegular?i.getRange():[0,i.size];return[e[0],t[0],r[0]]}},{key:"voxelSizeInLayerSpaceSigned",get:function(){if(!this.isValid||"xyt"===this.volumeType)return[0,0,0];for(var e=this.dimensions[0].getRange(),t=this.dimensions[1].getRange(),i=this.dimensions[2],r=i.isRegular?i.getRange():[0,i.size],a=[this.sizeInVoxels[0],this.sizeInVoxels[1],this.sizeInVoxels[2]],n=0;n<3;++n)a[n]<2?a[n]=1:a[n]-=1;return i.isRegular&&!i.isPositiveUp&&(a[2]*=-1),[(e[1]-e[0])/a[0],(t[1]-t[0])/a[1],(r[1]-r[0])/a[2]]}},{key:"volumeType",get:function(){if(this.isValid){var e=this.dimensions[2].size>0,t=this.dimensions[3].size>0;if(!e&&t)return"xyt";if(e&&t)return"xyzt"}return"xyz"}},{key:"sizeInVoxels",get:function(){if(!this.isValid)return[0,0,0];var e=this.zDimension;return[this.dimensions[0].size,this.dimensions[1].size,this.dimensions[e].size]}},{key:"computeVoxelSpaceLocation",value:function(e){var t,i;if(!this.isValid)return[0,0,0];if("xyt"===this.volumeType)return Be.error("computeVoxelSpacePosition cannot be used with XYT volumes."),[0,0,0];if(!Object(qe.d)(this.spatialReference,e.spatialReference))return Be.error("pos argument should have the same spatial reference as the VoxelLayer."),[0,0,0];var r=Object(g.i)(e.x,e.y,null!==(t=e.z)&&void 0!==t?t:0);Object(m.g)(r,r,this.originInLayerSpace3D),Object(m.d)(r,r,this.voxelSizeInLayerSpaceSigned);var a=this.dimensions[this.zDimension];if(!a.isRegular&&Array.isArray(null===(i=a.irregularSpacing)||void 0===i?void 0:i.values)&&a.irregularSpacing.values.length>1)for(var n,o=null!==(n=e.z)&&void 0!==n?n:0,l=a.irregularSpacing.values,s=a.isPositiveUp?1:-1,c=l.reduce((function(e,t){return Math.abs(s*t-o)<Math.abs(s*e-o)?t:e})),b=0;b<l.length;++b)if(l[b]===c){r[2]=b;break}return[r[0],r[1],r[2]]}},{key:"computeLayerSpaceLocation",value:function(e){var t;if(!this.isValid)return new ke.a({x:0,y:0,spatialReference:this.spatialReference});var i=Object(g.j)(e);if(Object(m.c)(i,i,this.voxelSizeInLayerSpaceSigned),Object(m.f)(i,i,this.originInLayerSpace3D),"xyt"===this.volumeType)return new ke.a({x:i[0],y:i[1],spatialReference:this.spatialReference});var r=this.dimensions[this.zDimension];return r.isRegular||Array.isArray(null===(t=r.irregularSpacing)||void 0===t?void 0:t.values)&&(e[2]<0?i[2]=r.irregularSpacing.values[0]:e[2]<r.irregularSpacing.values.length?i[2]=r.irregularSpacing.values[e[2]]:i[2]=r.irregularSpacing.values[r.irregularSpacing.values.length-1],r.isPositiveUp||(i[2]*=-1)),new ke.a({x:i[0],y:i[1],z:i[2],spatialReference:this.spatialReference})}}]),i}(L.a);Object(b.a)([Object(d.b)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],Ue.prototype,"id",void 0),Object(b.a)([Object(d.b)({type:[Me],json:{write:{enabled:!0,isRequired:!0}}})],Ue.prototype,"dimensions",void 0),Object(b.a)([Object(d.b)({type:Te.a,json:{read:{enabled:!1}}})],Ue.prototype,"spatialReference",void 0),Object(b.a)([Object(d.b)({type:Number,json:{read:!1}})],Ue.prototype,"zDimension",null),Object(b.a)([Object(d.b)({type:[Boolean],json:{read:!1}})],Ue.prototype,"isValid",null),Object(b.a)([Object(d.b)({type:[Number],json:{read:!1}})],Ue.prototype,"originInLayerSpace3D",null),Object(b.a)([Object(d.b)({type:[Number],json:{read:!1}})],Ue.prototype,"voxelSizeInLayerSpaceSigned",null),Object(b.a)([Object(d.b)({type:["xyz","xyzt","xyt"],json:{read:{enabled:!1}}})],Ue.prototype,"volumeType",null),Object(b.a)([Object(d.b)({type:[Number],json:{read:!1}})],Ue.prototype,"sizeInVoxels",null);var Ee,Ce=Ue=Object(b.a)([Object(h.a)(_e)],Ue),Je=Ee=function(e){Object(s.a)(i,e);var t=Object(c.a)(i);function i(){var e;return Object(a.a)(this,i),(e=t.apply(this,arguments)).apronWidth=1,e.brickSize=[32,32,32],e.maxLodLevel=0,e.nodeSize=[4,4,4],e}return Object(n.a)(i,[{key:"isValid",value:function(){var e=new Ee;return e.apronWidth===this.apronWidth&&e.maxLodLevel===this.maxLodLevel&&!!this.brickSize&&!!this.nodeSize&&!(!Array.isArray(this.brickSize)||!Array.isArray(this.nodeSize))&&3===this.brickSize.length&&3===this.nodeSize.length&&32===this.brickSize[0]&&32===this.brickSize[1]&&32===this.brickSize[2]&&4===this.nodeSize[0]&&4===this.nodeSize[1]&&4===this.nodeSize[2]}}]),i}(L.a);Object(b.a)([Object(d.b)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],Je.prototype,"apronWidth",void 0),Object(b.a)([Object(d.b)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],Je.prototype,"brickSize",void 0),Object(b.a)([Object(d.b)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],Je.prototype,"maxLodLevel",void 0),Object(b.a)([Object(d.b)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],Je.prototype,"nodeSize",void 0);var We=Je=Ee=Object(b.a)([Object(h.a)("esri.layers.voxel.VoxelVolumeIndex")],Je),Ge=function(e){Object(s.a)(i,e);var t=Object(c.a)(i);function i(e){var r;return Object(a.a)(this,i),(r=t.call(this,e)).enabled=!0,r.label="",r.normal=null,r.point=null,r}return Object(n.a)(i,[{key:"orientation",get:function(){if(!Array.isArray(this.normal)||3!==this.normal.length)return 0;var e=X(this.normal),t=Object(D.a)(e,2),i=t[0];t[1];return A.a.normalize(Object(O.i)(i),0,!0)},set:function(e){var t=Y(e,this.tilt);this._set("normal",t),this._set("orientation",e)}},{key:"tilt",get:function(){if(!Array.isArray(this.normal)||3!==this.normal.length)return 0;var e=X(this.normal),t=Object(D.a)(e,2),i=(t[0],t[1]);return A.a.normalize(Object(O.i)(i),0,!0)},set:function(e){var t=Y(this.orientation,e);this._set("normal",t),this._set("tilt",e)}}]),i}(Object(F.b)(L.a));Object(b.a)([Object(d.b)({type:Boolean,json:{default:!0,write:!0}})],Ge.prototype,"enabled",void 0),Object(b.a)([Object(d.b)({type:String,json:{write:!0}})],Ge.prototype,"label",void 0),Object(b.a)([Object(d.b)({type:Number,json:{read:!1},clonable:!1,range:{min:0,max:360}}),Object(H.a)((function(e){return A.a.normalize(Object(O.i)(e),0,!0)}))],Ge.prototype,"orientation",null),Object(b.a)([Object(d.b)({type:Number,json:{read:!1},clonable:!1,range:{min:0,max:360}}),Object(H.a)((function(e){return A.a.normalize(Object(O.i)(e),0,!0)}))],Ge.prototype,"tilt",null),Object(b.a)([Object(d.b)({type:[Number],json:{write:!0}})],Ge.prototype,"normal",void 0),Object(b.a)([Object(d.b)({type:[Number],json:{write:!0}})],Ge.prototype,"point",void 0);var Ke,Xe=Ge=Object(b.a)([Object(h.a)("esri.layers.voxel.VoxelDynamicSection")],Ge),Ye=Ke=function(e){Object(s.a)(i,e);var t=Object(c.a)(i);function i(e){var r;return Object(a.a)(this,i),(r=t.call(this,e)).volumeId=0,r.verticalExaggeration=1,r.exaggerationMode="scale-height",r.verticalOffset=0,r.slices=new(u.a.ofType(Z)),r.dynamicSections=new(u.a.ofType(Xe)),r}return Object(n.a)(i,[{key:"slices",set:function(e){this._set("slices",Object(pe.b)(e,this._get("slices"),u.a.ofType(Z)))}},{key:"dynamicSections",set:function(e){this._set("dynamicSections",Object(pe.b)(e,this._get("dynamicSections"),u.a.ofType(Xe)))}},{key:"clone",value:function(){return new Ke({volumeId:this.volumeId,verticalExaggeration:this.verticalExaggeration,exaggerationMode:this.exaggerationMode,verticalOffset:this.verticalOffset,slices:Object(se.a)(this.slices),dynamicSections:Object(se.a)(this.dynamicSections)})}}]),i}(L.a);Object(b.a)([Object(d.b)({type:O.a,json:{write:{enabled:!0,isRequired:!0}}})],Ye.prototype,"volumeId",void 0),Object(b.a)([Object(d.b)({type:Number,json:{default:1,write:!0}})],Ye.prototype,"verticalExaggeration",void 0),Object(b.a)([Object(d.b)({type:["scale-position","scale-height"],json:{default:"scale-height",write:!0}})],Ye.prototype,"exaggerationMode",void 0),Object(b.a)([Object(d.b)({type:Number,json:{default:0,write:!0}})],Ye.prototype,"verticalOffset",void 0),Object(b.a)([Object(d.b)({type:u.a.ofType(Z),json:{write:{enabled:!0,overridePolicy:function(){return{enabled:!!this.slices&&this.slices.length>0}}}}})],Ye.prototype,"slices",null),Object(b.a)([Object(d.b)({type:u.a.ofType(Xe),json:{write:{enabled:!0,overridePolicy:function(){return{enabled:!!this.dynamicSections&&this.dynamicSections.length>0}}}}})],Ye.prototype,"dynamicSections",null);var He=Ye=Ke=Object(b.a)([Object(h.a)("esri.layers.voxel.VoxelVolumeStyle")],Ye),Qe=i(486),Ze="esri.layers.VoxelLayer",$e=y.a.getLogger(Ze),et=function(e){Object(s.a)(i,e);var t=Object(c.a)(i);function i(e){var r;return Object(a.a)(this,i),(r=t.call(this,e)).serviceRoot="",r.operationalLayerType="Voxel",r.legendEnabled=!0,r.title=null,r.sections=null,r.currentVariableId=0,r.volumeStyles=null,r.renderMode="volume",r.variableStyles=null,r.enableSlices=!0,r.enableSections=!0,r.enableDynamicSections=!0,r.enableIsosurfaces=!0,r.shading=new re,r.opacity=1,r.variables=new u.a,r.volumes=new u.a,r.index=null,r.minScale=0,r.maxScale=0,r.type="voxel",r.version={major:Number.NaN,minor:Number.NaN,versionString:""},r.fullExtent=null,r.popupEnabled=!0,r.popupTemplate=null,r.test=null,r.volumeStyles=new(u.a.ofType(He)),r.variableStyles=new(u.a.ofType(Ne)),r.sections=new(u.a.ofType(te)),(null===e||void 0===e?void 0:e.constantUpscaling)&&(r.test={constantUpscaling:!0}),r}return Object(n.a)(i,[{key:"url",set:function(e){this._set("url",Object(k.g)(e,$e))}},{key:"load",value:function(e){var t=this,i=null!=e?e.signal:null,r=this.loadFromPortal({supportedTypes:["Scene Service"]},e).catch(v.m).then((function(){return t._fetchService(i)})).then((function(){return t.serviceRoot=t.url}));return this.addResolvingPromise(r),Promise.resolve(this)}},{key:"read",value:function(e,t){Object(o.a)(Object(l.a)(i.prototype),"read",this).call(this,e,t);var a,n=Object(r.a)(this.volumes);try{for(n.s();!(a=n.n()).done;){a.value.spatialReference=this.spatialReference}}catch(s){n.e(s)}finally{n.f()}}},{key:"readVersion",value:function(e,t){return Object(o.a)(Object(l.a)(i.prototype),"parseVersionString",this).call(this,e)}},{key:"validateLayer",value:function(e){if(e.layerType&&e.layerType!==this.operationalLayerType)throw new p.a("voxel-layer:layer-type-not-supported","VoxelLayer does not support this layer type",{layerType:e.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor)||this.version.major<3)throw new p.a("layer:service-version-not-supported","Service version is not supported.",{serviceVersion:this.version.versionString,supportedVersions:"3.x"});if(this.version.major>3)throw new p.a("layer:service-version-too-new","Service version is too new.",{serviceVersion:this.version.versionString,supportedVersions:"3.x"})}},{key:"readFullExtent",value:function(e,t,i){if(null!=e&&"object"==typeof e){var r=S.a.fromJSON(e,i);if(0===r.zmin&&0===r.zmax&&Array.isArray(t.volumes)){var a=Ce.fromJSON(t.volumes[0]);if(a.isValid&&"xyt"!==a.volumeType){var n=a.dimensions[2];if(n.isRegular){var o=n.regularSpacing.offset,l=n.regularSpacing.offset+n.regularSpacing.scale*(n.size-1);if(o>l){var s=o;o=l,l=s}r.zmin=o,r.zmax=l}}}return r}return null}},{key:"voxelFields",get:function(){var e=[new q.a({name:"Voxel.ServiceValue",alias:"Value",domain:null,editable:!1,length:128,type:"string"}),new q.a({name:"Voxel.ServiceVariableLabel",alias:"Variable",domain:null,editable:!1,length:128,type:"string"}),new q.a({name:"Voxel.Position",alias:"Voxel Position",domain:null,editable:!1,length:128,type:"string"})],t=this.getVolume(null);if(null!=t){if("xyzt"===t.volumeType||"xyt"===t.volumeType){var i=new q.a({name:"Voxel.ServiceLocalTime",alias:"Local Time",domain:null,editable:!1,length:128,type:"string"});e.push(i);var r=new q.a({name:"Voxel.ServiceNativeTime",alias:"Native Time",domain:null,editable:!1,length:128,type:"string"});e.push(r)}if("xyt"!==t.volumeType){var a=new q.a({name:"Voxel.ServiceDepth",alias:"Depth",domain:null,editable:!1,length:128,type:"string"});e.push(a)}}return e}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"createPopupTemplate",value:function(e){var t=this.voxelFields,i=this.title;return Object(Qe.a)({fields:t,title:i},e)}},{key:"getConfiguration",value:function(){var e,t,i={layerType:this.operationalLayerType,version:this.version.versionString,name:this.title,spatialReference:this.spatialReference,fullExtent:this.fullExtent,volumes:this.volumes.toJSON(),variables:this.variables.toJSON(),index:null===(e=this.index)||void 0===e?void 0:e.toJSON(),sections:this.getSections(),style:{volumeStyles:this.getVolumeStyles(),currentVariableId:this.currentVariableId,renderMode:this.renderMode,variableStyles:this.getVariableStyles(),enableSections:this.enableSections,enableDynamicSections:this.enableDynamicSections,enableIsosurfaces:this.enableIsosurfaces,enableSlices:this.enableSlices,shading:this.shading}};return i.index&&null!==(t=this.index)&&void 0!==t&&t.isValid()?JSON.stringify(i):""}},{key:"getVariableStyle",value:function(e){var t;if(t=null!=e?e:this.currentVariableId,!this.variableStyles||-1===t)return null;var i=this.variableStyles.findIndex((function(e){return e.variableId===t}));return i<0?null:this.variableStyles.at(i)}},{key:"getVariable",value:function(e){var t;if(t=null!=e?e:this.currentVariableId,!this.variables||-1===t)return null;var i=this.variables.findIndex((function(e){return e.id===t}));return i<0?null:this.variables.at(i)}},{key:"getVolume",value:function(e){var t=this.getVariable(e);return null!=t?this.volumes.find((function(e){return e.id===t.volumeId})):null}},{key:"getVolumeStyle",value:function(e){var t=this.getVariable(e);return null!=t?this.volumeStyles.find((function(e){return e.volumeId===t.volumeId})):null}},{key:"getColorForContinuousDataValue",value:function(e,t,i){var r,a=this.getVariable(e);if(null==a||"continuous"!==(null===(r=a.renderingFormat)||void 0===r?void 0:r.continuity))return null;if(!this.variableStyles)return null;var n=this.variableStyles.findIndex((function(t){return t.variableId===e}));if(n<0)return null;var o=this.variableStyles.at(n);return null!==o&&void 0!==o&&o.transferFunction?o.transferFunction.getColorForContinuousDataValue(t,i):null}},{key:"getSections",value:function(){var e,t=[],i=Object(r.a)(this.sections);try{for(i.s();!(e=i.n()).done;){var a=e.value;t.push(new te({enabled:a.enabled,href:a.href,id:a.id,label:a.label,normal:a.normal,point:a.point,sizeInPixel:a.sizeInPixel,slices:a.slices,timeId:a.timeId,variableId:a.variableId}))}}catch(n){i.e(n)}finally{i.f()}return t}},{key:"getVariableStyles",value:function(){var e,t=[],i=Object(r.a)(this.variableStyles);try{for(i.s();!(e=i.n()).done;){var a=e.value,n=this._getVariable(a);if(null!=n){var o=a.clone();o.isosurfaces.length>4&&(o.isosurfaces=o.isosurfaces.slice(0,3),$e.error("A maximum of 4 isosurfaces are supported for Voxel Layers."));var l,s=Object(r.a)(o.isosurfaces);try{for(s.s();!(l=s.n()).done;){var c=l.value;if(!c.colorLocked){var b=this.getColorForContinuousDataValue(o.variableId,c.value,!1);null===b||b.equals(c.color)||(c.color=b)}}}catch(j){s.e(j)}finally{s.f()}if("continuous"===n.renderingFormat.continuity)(null===o.transferFunction||o.transferFunction.colorStops.length<2)&&$e.error("VoxelVariableStyle for variable ".concat(n.id," is invalid. At least 2 color stops are required in the transferFunction for continuous Voxel Layer variables.")),null!==o.transferFunction&&(Array.isArray(o.transferFunction.stretchRange)&&2===o.transferFunction.stretchRange.length||($e.error("VoxelVariableStyle for variable ".concat(n.id," is invalid. The stretchRange of the transferFunction for continuous Voxel Layer variables must be of the form [minimumDataValue, maximumDataValue].")),o.transferFunction.stretchRange=[0,1],o.transferFunction.colorStops.removeAll()));else if("discrete"===n.renderingFormat.continuity)if(0===a.uniqueValues.length)$e.error("VoxelVariableStyle for variable ".concat(n.id," is invalid. Unique values are required for discrete Voxel Layer variables."));else{var u,p=Object(r.a)(a.uniqueValues);try{for(p.s();!(u=p.n()).done;){var y=u.value;null!==y.label&&void 0!==y.label||null===y.value||void 0===y.value||(y.label=y.value.toString())}}catch(j){p.e(j)}finally{p.f()}}t.push(o)}else $e.error("VoxelVariable ID=".concat(a.variableId," doesn't exist, VoxelVariableStyle for this VoxelVariable will be ignored."))}}catch(j){i.e(j)}finally{i.f()}return t}},{key:"getVolumeStyles",value:function(){var e,t=[],i=Object(r.a)(this.volumeStyles);try{for(i.s();!(e=i.n()).done;){var a=e.value,n=this._getVolumeFromVolumeId(a.volumeId);if(null!=n){var o,l=a.clone(),s=Object(r.a)(l.slices);try{for(s.s();!(o=s.n()).done;){var c=o.value;this._isPlaneValid(c,[0,1,n.zDimension],n.dimensions)||(c.enabled=!1,c.label="invalid")}}catch(y){s.e(y)}finally{s.f()}var b,u=Object(r.a)(l.dynamicSections);try{for(u.s();!(b=u.n()).done;){var p=b.value;this._isPlaneValid(p,[0,1,n.zDimension],n.dimensions)||(p.enabled=!1,p.label="invalid")}}catch(y){u.e(y)}finally{u.f()}t.push(l)}else $e.error("VoxelVolume ID=".concat(a.volumeId," doesn't exist, VoxelVolumeStyle for this VoxelVolume will be ignored."))}}catch(y){i.e(y)}finally{i.f()}return t}},{key:"_getVariable",value:function(e){var t,i=e.variableId,a=Object(r.a)(this.variables);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(n.id===i)return n}}catch(o){a.e(o)}finally{a.f()}return null}},{key:"_getVolumeFromVolumeId",value:function(e){var t,i=Object(r.a)(this.volumes);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.id===e)return a}}catch(n){i.e(n)}finally{i.f()}return null}},{key:"_isPlaneValid",value:function(e,t,i){if(!e.point)return!1;if(!Array.isArray(e.point)||3!==e.point.length)return!1;if(!e.normal)return!1;if(!Array.isArray(e.normal)||3!==e.normal.length)return!1;var r=Object(g.i)(e.normal[0],e.normal[1],e.normal[2]);Object(m.s)(r,r);return!(Math.abs(r[0])+Math.abs(r[1])+Math.abs(r[2])<1e-6)&&(e.normal[0]=r[0],e.normal[1]=r[1],e.normal[2]=r[2],!0)}}]),i}(Object(N.b)(Object(V.a)(Object(z.a)(Object(I.a)(Object(R.a)(Object(j.a)(Object(w.a)(x.a))))))));Object(b.a)([Object(d.b)({type:["Voxel"]})],et.prototype,"operationalLayerType",void 0),Object(b.a)([Object(d.b)(T.e)],et.prototype,"legendEnabled",void 0),Object(b.a)([Object(d.b)({json:{write:!0}})],et.prototype,"title",void 0),Object(b.a)([Object(d.b)(T.o)],et.prototype,"url",null),Object(b.a)([Object(d.b)({type:u.a.ofType(te),json:{origins:{"web-scene":{name:"layerDefinition.sections",write:!0}}}})],et.prototype,"sections",void 0),Object(b.a)([Object(d.b)({type:O.a,json:{origins:{"web-scene":{name:"layerDefinition.style.currentVariableId",write:{enabled:!0,isRequired:!0,ignoreOrigin:!0}},service:{name:"style.currentVariableId"}}}})],et.prototype,"currentVariableId",void 0),Object(b.a)([Object(d.b)({type:u.a.ofType(He),json:{origins:{"web-scene":{name:"layerDefinition.style.volumeStyles",write:!0},service:{name:"style.volumeStyles"}}}})],et.prototype,"volumeStyles",void 0),Object(b.a)([Object(d.b)({type:["volume","surfaces"],json:{origins:{"web-scene":{name:"layerDefinition.style.renderMode",write:!0},service:{name:"style.renderMode"}}}})],et.prototype,"renderMode",void 0),Object(b.a)([Object(d.b)({type:u.a.ofType(Ne),json:{origins:{"web-scene":{name:"layerDefinition.style.variableStyles",write:!0},service:{name:"style.variableStyles"}}}})],et.prototype,"variableStyles",void 0),Object(b.a)([Object(d.b)({type:Boolean,json:{origins:{"web-scene":{name:"layerDefinition.style.enableSlices",write:!0},service:{name:"style.enableSlices"}}}})],et.prototype,"enableSlices",void 0),Object(b.a)([Object(d.b)({type:Boolean,json:{origins:{"web-scene":{name:"layerDefinition.style.enableSections",write:!0},service:{name:"style.enableSections"}}}})],et.prototype,"enableSections",void 0),Object(b.a)([Object(d.b)({type:Boolean,json:{origins:{"web-scene":{name:"layerDefinition.style.enableDynamicSections",write:!0},service:{name:"style.enableDynamicSections"}}}})],et.prototype,"enableDynamicSections",void 0),Object(b.a)([Object(d.b)({type:Boolean,json:{origins:{"web-scene":{name:"layerDefinition.style.enableIsosurfaces",write:!0},service:{name:"style.enableIsosurfaces"}}}})],et.prototype,"enableIsosurfaces",void 0),Object(b.a)([Object(d.b)({type:re,json:{origins:{"web-scene":{name:"layerDefinition.style.shading",write:!0},service:{name:"style.shading"}}}})],et.prototype,"shading",void 0),Object(b.a)([Object(d.b)({type:["show","hide"]})],et.prototype,"listMode",void 0),Object(b.a)([Object(d.b)({type:Number,range:{min:0,max:1},nonNullable:!0,json:{read:!1,write:!1,origins:{"web-scene":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],et.prototype,"opacity",void 0),Object(b.a)([Object(d.b)({type:u.a.ofType(le)})],et.prototype,"variables",void 0),Object(b.a)([Object(d.b)({type:u.a.ofType(Ce)})],et.prototype,"volumes",void 0),Object(b.a)([Object(d.b)({type:We})],et.prototype,"index",void 0),Object(b.a)([Object(d.b)({type:Number,json:{name:"layerDefinition.minScale",read:!1,write:!1,origins:{service:{read:!1,write:!1}}}})],et.prototype,"minScale",void 0),Object(b.a)([Object(d.b)({type:Number,json:{name:"layerDefinition.maxScale",read:!1,write:!1,origins:{service:{read:!1,write:!1}}}})],et.prototype,"maxScale",void 0),Object(b.a)([Object(d.b)({json:{read:!1},readOnly:!0})],et.prototype,"type",void 0),Object(b.a)([Object(d.b)({readOnly:!0,json:{name:"serviceVersion"}})],et.prototype,"version",void 0),Object(b.a)([Object(f.a)("service","version")],et.prototype,"readVersion",null),Object(b.a)([Object(d.b)({type:S.a})],et.prototype,"fullExtent",void 0),Object(b.a)([Object(f.a)("service","fullExtent",["fullExtent"])],et.prototype,"readFullExtent",null),Object(b.a)([Object(d.b)({readOnly:!0,clonable:!1,json:{read:!1}})],et.prototype,"voxelFields",null),Object(b.a)([Object(d.b)(T.k)],et.prototype,"popupEnabled",void 0),Object(b.a)([Object(d.b)({readOnly:!0})],et.prototype,"defaultPopupTemplate",null);var tt=et=Object(b.a)([Object(h.a)(Ze)],et)},700:function(e,t,i){"use strict";i.d(t,"a",(function(){return v}));var r=i(4),a=i(12),n=i(1),o=i(92),l=i(638),s=i(128),c=i(564),b=i(500),u=i(292),p=i(97),y=i(701),j=i(215);function v(e){var t,i=null!==(t=null===e||void 0===e?void 0:e.origins)&&void 0!==t?t:[void 0];return function(t,r){var a,c=function(e,t,i){var r;if("resource"===(null===e||void 0===e?void 0:e.type))return function(e,t,i){var r=Object(b.b)(t,i);return{type:String,read:function(e,t,i){var a=Object(j.g)(e,t,i);return r.type===String?a:"function"==typeof r.type?new r.type({url:a}):void 0},write:{writer:function(t,a,o,c){if(!c||!c.resources)return"string"==typeof t?void(a[o]=Object(j.h)(t,c)):void(a[o]=t.write({},c));var b=function(e){return null==e?null:"string"==typeof e?e:e.url}(t),p=Object(j.h)(b,Object(n.a)(Object(n.a)({},c),{},{verifyItemRelativeUrls:c&&c.verifyItemRelativeUrls?{writtenUrls:c.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0}),j.a.NO),v=r.type!==String&&(!Object(l.a)(this)||c&&c.origin&&this.originIdOf(i)>Object(u.e)(c.origin)),h={object:this,propertyName:i,value:t,targetUrl:p,dest:a,targetPropertyName:o,context:c,params:e};c&&c.portalItem&&p&&!Object(s.w)(p)?v?function(e){var t,i=e.context,r=e.targetUrl,a=e.params,o=e.value,l=e.dest,c=e.targetPropertyName;if(!i.portalItem)return;var b=i.portalItem.resourceFromPath(r),u=f(o,r,i),p=Object(y.a)(u),j=Object(s.q)(b.path),v=null!==(t=null===a||void 0===a?void 0:a.compress)&&void 0!==t&&t;p===j?(i.resources&&O(Object(n.a)(Object(n.a)({},e),{},{resource:b,content:u,compress:v,updates:i.resources.toUpdate})),l[c]=r):d(e)}(h):function(e){var t=e.context,i=e.targetUrl,r=e.dest,a=e.targetPropertyName;t.portalItem&&t.resources&&(t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(i),compress:!1}),r[a]=i)}(h):c&&c.portalItem&&(null==p||null!=Object(j.e)(p)||Object(s.x)(p)||v)?d(h):a[o]=p}}}}(e,t,i);switch(null!==(r=null===e||void 0===e?void 0:e.type)&&void 0!==r?r:"other"){case"other":return{read:!0,write:!0};case"url":return{read:j.b.read,write:j.b.write}}}(e,t,r),v=Object(o.a)(i);try{for(v.s();!(a=v.n()).done;){var h=a.value,m=Object(p.c)(t,h,r);for(var g in c)m[g]=c[g]}}catch(S){v.e(S)}finally{v.f()}}}function d(e){var t,i,r,a=e.targetUrl,o=e.params,l=e.value,b=e.context,u=e.dest,p=e.targetPropertyName;if(b.portalItem){var v=Object(j.f)(a),d=null!==(t=null===v||void 0===v?void 0:v.filename)&&void 0!==t?t:Object(c.b)(),m=null!==(i=null===o||void 0===o?void 0:o.prefix)&&void 0!==i?i:null===v||void 0===v?void 0:v.prefix,g=f(l,a,b),S=Object(s.D)(m,d),x="".concat(S,".").concat(Object(y.a)(g)),w=b.portalItem.resourceFromPath(x);Object(s.x)(a)&&b.resources&&b.resources.pendingOperations.push(function(e){return h.apply(this,arguments)}(a).then((function(e){w.path="".concat(S,".").concat(Object(y.a)(e)),u[p]=w.itemRelativeUrl})).catch((function(){})));var V=null!==(r=null===o||void 0===o?void 0:o.compress)&&void 0!==r&&r;b.resources&&O(Object(n.a)(Object(n.a)({},e),{},{resource:w,content:g,compress:V,updates:b.resources.toAdd})),u[p]=w.itemRelativeUrl}}function O(e){var t=e.object,i=e.propertyName,r=e.updates,a=e.resource,n=e.content,o=e.compress;r.push({resource:a,content:n,compress:o,finish:function(e){!function(e,t,i){"string"==typeof e[t]?e[t]=i.url:e[t].url=i.url}(t,i,e)}})}function f(e,t,i){return"string"==typeof e?{url:t}:new Blob([JSON.stringify(e.toJSON(i))],{type:"application/json"})}function h(){return(h=Object(a.a)(Object(r.a)().mark((function e(t){var a,n,o;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(i.bind(null,129));case 2:return a=e.sent.default,e.next=5,a(t,{responseType:"blob"});case 5:return n=e.sent,o=n.data,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},701:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(128);function a(e){return n[function(e){return e instanceof Blob?e.type:function(e){var t=Object(r.q)(e);return s[t]||o}(e.url)}(e)]||l}var n={},o="text/plain",l=n[o],s={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(var c in s)n[s[c]]=c}}]);
//# sourceMappingURL=234.cff60124.chunk.js.map
(this["webpackJsonpklw-bank"]=this["webpackJsonpklw-bank"]||[]).push([[247],{2288:function(e,t,n){"use strict";n.r(t),n.d(t,"getContrastingBackgroundTheme",(function(){return W})),n.d(t,"getRenderSymbolParameters",(function(){return J})),n.d(t,"previewSymbol2D",(function(){return R}));var a=n(4),i=n(1),r=n(12),l=n(143),o=n(101),u=n(237),c=n(108),s=n(1025),d=n(1026),h=n(1178),p=n(393);n(600),n(396);function v(e){var t=e.r,n=e.g,a=e.b,i=e.a;return i<1&&(t=Math.round(i*t+255*(1-i)),n=Math.round(i*n+255*(1-i)),a=Math.round(i*a+255*(1-i))),new l.a({r:t,g:n,b:a})}function f(e,t){var n=null!==t&&void 0!==t&&t.ignoreAlpha?e:v(e);return.2126*n.r+.7152*n.g+.0722*n.b}var m="picture-fill",b="picture-marker",w="simple-fill",y="simple-line",g="simple-marker",j="text",k="Aa",O=d.a.size,x=d.a.maxSize,L=d.a.maxOutlineSize,M=d.a.lineWidth,z=225,C=document.createElement("canvas");function S(e,t){var n=C.getContext("2d"),a=[];return t&&(t.weight&&a.push(t.weight),t.size&&a.push(t.size+"px"),t.family&&a.push(t.family)),n.font=a.join(" "),n.measureText(e).width}var F=7.2/2.54,E=72/2.54;function q(e){var t=null===e||void 0===e?void 0:e.size;return{width:null!=t&&"object"==typeof t&&"width"in t?Object(c.c)(t.width):null,height:null!=t&&"object"==typeof t&&"height"in t?Object(c.c)(t.height):null}}function D(e,t){return T.apply(this,arguments)}function T(){return(T=Object(r.a)(Object(a.a)().mark((function e(t,n){var i,r,l;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.fill,r=t.color,"pattern"!==(null===i||void 0===i?void 0:i.type)||!r||t.type===m){e.next=6;break}return e.next=4,Object(s.d)(i.src,r.toCss(!0));case 4:l=e.sent,i.src=l,n.fill=i;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t,n,a){return A.apply(this,arguments)}function A(){return(A=Object(r.a)(Object(a.a)().mark((function e(t,n,i,r){var l,o,c,s,d,h;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("font"in t&&t.font&&"text"===n.shape.type){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Object(u.d)(t.font);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:s=q(r),d=s.width,h=/[\uE600-\uE6FF]/.test(n.shape.text),null!=d||h||(i[0]=S(n.shape.text,{weight:null===(l=n.font)||void 0===l?void 0:l.weight,size:null===(o=n.font)||void 0===o?void 0:o.size,family:null===(c=n.font)||void 0===c?void 0:c.family}));case 11:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}function P(e,t,n,a,r){var l;if(null!=e.haloColor&&null!=e.haloSize){var o;null!==(o=r.masking)&&void 0!==o||(r.masking=n.map((function(){return[]})));var u=Object(c.c)(e.haloSize);a[0]+=u,a[1]+=u,n.unshift([Object(i.a)(Object(i.a)({},t),{},{fill:null,stroke:{color:e.haloColor,width:2*u,join:"round",cap:"round"}})]),r.masking.unshift([{shape:{type:"rect",x:0,y:0,width:a[0]+2*p.a,height:a[1]+2*p.a},fill:[255,255,255],stroke:null},Object(i.a)(Object(i.a)({},t),{},{fill:[0,0,0,0],stroke:null})])}null==e.backgroundColor&&null==e.borderLineColor||(a[0]+=2*p.a,a[1]+=2*p.a,n.unshift([{shape:{type:"rect",x:0,y:0,width:a[0],height:a[1]},fill:e.backgroundColor,stroke:{color:e.borderLineColor,width:Object(c.c)(e.borderLineSize)}}]),null===(l=r.masking)||void 0===l||l.unshift([]))}function B(e,t){return e>t?"dark":"light"}function J(e,t){var n,a,r="number"==typeof(null===t||void 0===t?void 0:t.size)?null===t||void 0===t?void 0:t.size:null,l=null!=r?Object(c.c)(r):null,o=null!=(null===t||void 0===t?void 0:t.maxSize)?Object(c.c)(t.maxSize):null,u=null!=(null===t||void 0===t?void 0:t.rotation)?t.rotation:"angle"in e?e.angle:null,h=Object(s.c)(e),p=Object(s.e)(e);"dark"!==W(e,245)||(null===t||void 0===t?void 0:t.ignoreWhiteSymbols)||(p=Object(i.a)(Object(i.a)({width:.75},p),{},{color:"#bdc3c7"}));var v={shape:null,fill:h,stroke:p,offset:[0,0]};(null===(n=p)||void 0===n?void 0:n.width)&&(p.width=Math.min(p.width,L));var f=(null===(a=p)||void 0===a?void 0:a.width)||0,z=null!=(null===t||void 0===t?void 0:t.size)&&(null==(null===t||void 0===t?void 0:t.scale)||(null===t||void 0===t?void 0:t.scale)),C=0,D=0,T=!1;switch(e.type){case g:var Z=e.style,A=q(t),P=A.width,B=P===A.height&&null!=P?P:null!=l?l:Math.min(Object(c.c)(e.size),o||x);switch(C=B,D=B,Z){case"circle":v.shape={type:"circle",cx:0,cy:0,r:.5*B},z||(C+=f,D+=f);break;case"cross":v.shape={type:"path",path:[{command:"M",values:[0,.5*D]},{command:"L",values:[C,.5*D]},{command:"M",values:[.5*C,0]},{command:"L",values:[.5*C,D]}]};break;case"diamond":v.shape={type:"path",path:[{command:"M",values:[0,.5*D]},{command:"L",values:[.5*C,0]},{command:"L",values:[C,.5*D]},{command:"L",values:[.5*C,D]},{command:"Z",values:[]}]},z||(C+=f,D+=f);break;case"square":v.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[C,0]},{command:"L",values:[C,D]},{command:"L",values:[0,D]},{command:"Z",values:[]}]},z||(C+=f,D+=f),u&&(T=!0);break;case"triangle":v.shape={type:"path",path:[{command:"M",values:[.5*C,0]},{command:"L",values:[C,D]},{command:"L",values:[0,D]},{command:"Z",values:[]}]},z||(C+=f,D+=f),u&&(T=!0);break;case"x":v.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[C,D]},{command:"M",values:[C,0]},{command:"L",values:[0,D]}]},u&&(T=!0);break;case"path":v.shape={type:"path",path:e.path||""},z||(C+=f,D+=f),u&&(T=!0),z=!0}break;case y:var J,R=q(t),V=R.width,H=R.height,U=null!=H?H:null!=l?l:f,G=null!=V?V:M;p&&(p.width=U),C=G,D=U;var I=(null===v||void 0===v||null===(J=v.stroke)||void 0===J?void 0:J.cap)||"butt",K="round"===I;z=!0,v.stroke&&(v.stroke.cap="butt"===I?"square":I),v.shape={type:"path",path:[{command:"M",values:[K?U/2:0,D/2]},{command:"L",values:[K?C-U/2:C,D/2]}]};break;case m:case w:var N,Q="object"==typeof(null===t||void 0===t?void 0:t.symbolConfig)&&!(null===t||void 0===t||null===(N=t.symbolConfig)||void 0===N||!N.isSquareFill),X=q(t),Y=X.width,$=X.height;C=!Q&&Y!==$||null==Y?null!=l?l:O:Y,D=!Q&&Y!==$||null==$?C:$,z||(C+=f,D+=f),z=!0,v.shape=Q?{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[C,0]},{command:"L",values:[C,D]},{command:"L",values:[0,D]},{command:"L",values:[0,0]},{command:"Z",values:[]}]}:d.m.fill[0];break;case b:var _=Math.min(Object(c.c)(e.width),o||x),ee=Math.min(Object(c.c)(e.height),o||x),te=q(t),ne=te.width,ae=ne===te.height&&null!=ne?ne:null!=l?l:Math.max(_,ee),ie=_/ee;C=ie<=1?Math.ceil(ae*ie):ae,D=ie<=1?ae:Math.ceil(ae/ie),v.shape={type:"image",x:-Math.round(C/2),y:-Math.round(D/2),width:C,height:D,src:e.url||""},u&&(T=!0);break;case j:var re=e,le=(null===t||void 0===t?void 0:t.overrideText)||re.text||k,oe=re.font,ue=q(t),ce=ue.width,se=ue.height,de=null!=se?se:null!=l?l:Math.min(Object(c.c)(oe.size),o||x),he=S(le,{weight:oe.weight,size:de,family:oe.family}),pe=/[\uE600-\uE6FF]/.test(le);C=null!==ce&&void 0!==ce?ce:pe?de:he,D=de;var ve=.25*function(e){if(0===e.length)return 0;if(e.length>2){var t=Object(c.d)(1),n=parseFloat(e);switch(e.slice(-2)){case"px":return n;case"pt":return n*t;case"in":return 72*n*t;case"pc":return 12*n*t;case"mm":return n*F*t;case"cm":return n*E*t}}return parseFloat(e)}((oe?de:0).toString());pe&&(ve+=5),v.shape={type:"text",text:le,x:re.xoffset||0,y:re.yoffset||ve,align:"middle",alignBaseline:re.verticalAlignment,decoration:oe&&oe.decoration,rotated:re.rotated,kerning:re.kerning},v.font=oe&&{size:de,style:oe.style,decoration:oe.decoration,weight:oe.weight,family:oe.family}}return{shapeDescriptor:v,size:[C,D],renderOptions:{node:null===t||void 0===t?void 0:t.node,scale:z,opacity:null===t||void 0===t?void 0:t.opacity,rotation:u,useRotationSize:T,effectView:null===t||void 0===t?void 0:t.effectView,ariaLabel:null===t||void 0===t?void 0:t.ariaLabel}}}function R(e,t){return V.apply(this,arguments)}function V(){return(V=Object(r.a)(Object(a.a)().mark((function e(t,n){var r,l,u,c,s,p,v;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=J(t,n),u=l.shapeDescriptor,c=l.size,s=l.renderOptions,u.shape){e.next=3;break}throw new o.a("symbolPreview: renderPreviewHTML2D","symbol not supported.");case 3:return e.next=5,D(t,u);case 5:return e.next=7,Z(t,u,c,n);case 7:return p=[[u]],"object"==typeof(null===n||void 0===n?void 0:n.symbolConfig)&&null!==n&&void 0!==n&&null!==(r=n.symbolConfig)&&void 0!==r&&r.applyColorModulation&&(v=.6*c[0],p.unshift([Object(i.a)(Object(i.a)({},u),{},{offset:[-v,0],fill:Object(d.b)(u.fill,-.3)})]),p.push([Object(i.a)(Object(i.a)({},u),{},{offset:[v,0],fill:Object(d.b)(u.fill,.3)})]),c[0]+=2*v,s.scale=!1),e.abrupt("return",("text"===t.type&&P(t,u,p,c,s),Object(h.b)(p,c,s)));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z,n=Object(s.c)(e),a=Object(s.e)(e),i=!n||"type"in n?null:new l.a(n),r=null!==a&&void 0!==a&&a.color?new l.a(null===a||void 0===a?void 0:a.color):null,o=i?B(f(i),t):null,u=r?B(f(r),t):null;return u?o?o===u?o:t>=z?"light":"dark":u:o}},237:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return p}));var a=n(4),i=n(12),r=n(88),l=n(89),o=n(187),u="arial-unicode-ms",c="woff2",s=new Map,d=new Set,h=Object(r.a)((function e(t,n){Object(l.a)(this,e),this.fontFace=t,this.promise=n}));function p(e){return v.apply(this,arguments)}function v(){return v=Object(i.a)(Object(a.a)().mark((function e(t){var n,i,r,l,u;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=m(t),!(i=s.get(n))){e.next=3;break}return e.abrupt("return",i.promise);case 3:if(r=new FontFace(t.family,"url('".concat(o.a.fontsUrl,"/woff2/").concat(n,".").concat(c,"') format('").concat(c,"')"),{style:t.style,weight:t.weight}),!(l=document.fonts).has(r)||"loading"!==r.status){e.next=6;break}return e.abrupt("return",r.loaded);case 6:return u=r.load().then((function(){return l.add(r),r})),e.abrupt("return",(s.set(n,new h(r,u)),d.add(r),u));case 8:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function f(e){if(!e)return u;var t=e.toLowerCase().split(" ").join("-");switch(t){case"serif":return"noto-serif";case"sans-serif":return"arial-unicode-ms";case"monospace":return"ubuntu-mono";case"fantasy":return"cabin-sketch";case"cursive":return"redressed";default:return t}}function m(e){var t=function(e){if(!e.weight)return"";switch(e.weight.toLowerCase()){case"bold":case"bolder":return"-bold"}return""}(e)+function(e){if(!e.style)return"";switch(e.style.toLowerCase()){case"italic":case"oblique":return"-italic"}return""}(e);return f(e.family)+(t.length>0?t:"-regular")}}}]);
//# sourceMappingURL=247.3c5216cd.chunk.js.map
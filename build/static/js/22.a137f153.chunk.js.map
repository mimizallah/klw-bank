{"version":3,"sources":["../node_modules/@arcgis/core/rest/query/operations/pbfJSONFeatureSet.js","../node_modules/@arcgis/core/rest/query/executeQueryPBF.js","../node_modules/@arcgis/core/rest/query/executeForExtent.js","../node_modules/@arcgis/core/layers/graphics/sources/support/QueryTask.js","../node_modules/@arcgis/core/rest/query/executeQueryJSON.js","../node_modules/@arcgis/core/rest/query/executeForCount.js","../node_modules/@arcgis/core/rest/query/executeForIds.js"],"names":["i","e","t","n","r","s","d","originPosition","_ref2","translate","scale","l","a","h","u","_ref","c","_classCallCheck","this","_options","geometryTypes","_previousCoordinate","_transform","_applyTransform","_lengths","_currentLengthIndex","_toAddInCurrentPath","_vertexDimension","_coordinateBuffer","_coordinateBufferPtr","_attributesConstructor","_createClass","_class","key","value","fields","features","applyTransform","transform","_class2","length","hasZ","geometryType","sourceSpatialReference","spatialReference","_step","_iterator","_createForOfIteratorHelper","done","geometry","err","f","push","o","map","name","_step2","_iterator2","_this","_deriveApplyTransform","hasM","addCoordinate","addCoordinatePoint","createGeometry","createPointGeometry","_addCoordinatePolygon","_createPolygonGeometry","_addCoordinatePolyline","_createPolylineGeometry","_addCoordinateMultipoint","_createMultipointGeometry","attributes","queryGeometry","queryGeometryType","clone","_objectSpread","x","y","z","m","_dehydratedAddPointsCoordinate","paths","rings","points","_transformPathLikeValue","Array","_x4","_x5","_x6","_n","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","p","_yield$t","wrap","_context2","prev","next","from","quantizationParameters","sent","data","abrupt","stop","_m","_callee","_context","then","count","extent","fromJSON","F","_t","_inherits","_super","_createSuper","call","dynamicDataSource","fieldsIndex","gdbVersion","infoFor3D","pbfSupported","queryAttachmentsSupported","url","get","_execute","executeJSON","featureSetFromJSON","_x","_x2","_executeJSON","_e$outStatistics","_normalizeQuery","outStatistics","has","t0","t1","_normalizeFields","_x3","_featureSetFromJSON","_callee3","_yield$o","_context3","_queryIs3DObjectFormat","meshFeatureSetFromJSON","_x7","_executeRelationshipQuery","_callee4","_yield$o2","_yield$o3","_context4","Promise","all","_slicedToArray","default","executeRelationshipQuery","_x8","_x9","_executeRelationshipQueryForCount","_callee5","_yield$o4","_yield$o5","_context5","executeRelationshipQueryForCount","_x10","_x11","_executeAttachmentQuery","_callee6","_yield$o6","_context6","executeAttachmentQuery","fetchAttachments","processAttachmentQueryResult","t2","_x12","_x13","_executeTopFeaturesQuery","_callee7","_yield$o7","_context7","executeTopFeaturesQuery","parsedUrl","_x14","_x15","_executeForTopIds","_callee8","_yield$o8","_context8","executeForTopIds","_x16","_x17","_executeForTopExtents","_callee9","_yield$o9","_context9","executeForTopExtents","_x18","_x19","_executeForTopCount","_callee10","_yield$o10","_context10","executeForTopCount","_x20","_x21","S","_a","_a2","formatOf3DObjects","supportedFormats","queryFormats","outFields","includes","_o$transformFieldRole","transformFieldRoles","originX","originY","originZ","translationX","translationY","translationZ","scaleX","scaleY","scaleZ","rotationX","rotationY","rotationZ","rotationDeg","Object","assign","toJSON","returnGeometry","multipatchOption","type","prototype","readOnly","String","_s","objectIds"],"mappings":"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","file":"static/js/22.a137f153.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{assertIsSome as e,unwrapOrThrow as t}from\"../../../core/maybe.js\";import{getGeometryZScaler as r}from\"../../../geometry/support/zscale.js\";import{unquantizeOptimizedGeometry as s,convertToGeometry as o}from\"../../../layers/graphics/featureConversionUtils.js\";function i(e,t){return t}function n(e,t,r,s){switch(r){case 0:return d(e,t+s,0);case 1:return\"lowerLeft\"===e.originPosition?d(e,t+s,1):l(e,t+s,1)}}function a(e,t,r,s){return 2===r?d(e,t,2):n(e,t,r,s)}function h(e,t,r,s){return 2===r?d(e,t,3):n(e,t,r,s)}function u(e,t,r,s){return 3===r?d(e,t,3):a(e,t,r,s)}function d({translate:e,scale:t},r,s){return e[s]+r*t[s]}function l({translate:e,scale:t},r,s){return e[s]-r*t[s]}class c{constructor(e){this._options=e,this.geometryTypes=[\"esriGeometryPoint\",\"esriGeometryMultipoint\",\"esriGeometryPolyline\",\"esriGeometryPolygon\"],this._previousCoordinate=[0,0],this._transform=null,this._applyTransform=i,this._lengths=[],this._currentLengthIndex=0,this._toAddInCurrentPath=0,this._vertexDimension=0,this._coordinateBuffer=null,this._coordinateBufferPtr=0,this._attributesConstructor=class{}}createFeatureResult(){return{fields:[],features:[]}}finishFeatureResult(e){if(this._options.applyTransform&&(e.transform=null),this._attributesConstructor=class{},this._coordinateBuffer=null,this._lengths.length=0,!e.hasZ)return;const t=r(e.geometryType,this._options.sourceSpatialReference,e.spatialReference);if(null!=t)for(const r of e.features)t(r.geometry)}createSpatialReference(){return{}}addField(t,r){const s=t.fields;e(s),s.push(r);const o=s.map((e=>e.name));this._attributesConstructor=function(){for(const e of o)this[e]=null}}addFeature(e,t){e.features.push(t)}prepareFeatures(e){switch(this._transform=e.transform,this._options.applyTransform&&e.transform&&(this._applyTransform=this._deriveApplyTransform(e)),this._vertexDimension=2,e.hasZ&&this._vertexDimension++,e.hasM&&this._vertexDimension++,e.geometryType){case\"esriGeometryPoint\":this.addCoordinate=(e,t,r)=>this.addCoordinatePoint(e,t,r),this.createGeometry=e=>this.createPointGeometry(e);break;case\"esriGeometryPolygon\":this.addCoordinate=(e,t,r)=>this._addCoordinatePolygon(e,t,r),this.createGeometry=e=>this._createPolygonGeometry(e);break;case\"esriGeometryPolyline\":this.addCoordinate=(e,t,r)=>this._addCoordinatePolyline(e,t,r),this.createGeometry=e=>this._createPolylineGeometry(e);break;case\"esriGeometryMultipoint\":this.addCoordinate=(e,t,r)=>this._addCoordinateMultipoint(e,t,r),this.createGeometry=e=>this._createMultipointGeometry(e)}}createFeature(){return this._lengths.length=0,this._currentLengthIndex=0,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0,this._coordinateBuffer=null,this._coordinateBufferPtr=0,{attributes:new this._attributesConstructor}}allocateCoordinates(){}addLength(e,t,r){0===this._lengths.length&&(this._toAddInCurrentPath=t),this._lengths.push(t)}addQueryGeometry(e,t){const{queryGeometry:r,queryGeometryType:i}=t,n=s(r.clone(),r,!1,!1,this._transform),a=o(n,i,!1,!1);e.queryGeometryType=i,e.queryGeometry={...a}}createPointGeometry(e){const t={x:0,y:0,spatialReference:e.spatialReference};return e.hasZ&&(t.z=0),e.hasM&&(t.m=0),t}addCoordinatePoint(e,r,s){const o=t(this._transform,\"transform\");switch(r=this._applyTransform(o,r,s,0),s){case 0:e.x=r;break;case 1:e.y=r;break;case 2:\"z\"in e?e.z=r:e.m=r;break;case 3:e.m=r}}_transformPathLikeValue(e,r){let s=0;r<=1&&(s=this._previousCoordinate[r],this._previousCoordinate[r]+=e);const o=t(this._transform,\"transform\");return this._applyTransform(o,e,r,s)}_addCoordinatePolyline(e,t,r){this._dehydratedAddPointsCoordinate(e.paths,t,r)}_addCoordinatePolygon(e,t,r){this._dehydratedAddPointsCoordinate(e.rings,t,r)}_addCoordinateMultipoint(e,t,r){0===r&&e.points.push([]);const s=this._transformPathLikeValue(t,r);e.points[e.points.length-1].push(s)}_createPolygonGeometry(e){return{rings:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}_createPolylineGeometry(e){return{paths:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}_createMultipointGeometry(e){return{points:[],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}_dehydratedAddPointsCoordinate(e,t,r){0===r&&0==this._toAddInCurrentPath--&&(e.push([]),this._toAddInCurrentPath=this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);const s=this._transformPathLikeValue(t,r),o=e[e.length-1];0===r&&(this._coordinateBufferPtr=0,this._coordinateBuffer=new Array(this._vertexDimension),o.push(this._coordinateBuffer)),this._coordinateBuffer[this._coordinateBufferPtr++]=s}_deriveApplyTransform(e){const{hasZ:t,hasM:r}=e;return t&&r?u:t?a:r?h:n}}export{c as JSONFeatureSetParserContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{parseUrl as r}from\"../utils.js\";import{JSONFeatureSetParserContext as e}from\"./operations/pbfJSONFeatureSet.js\";import{executeQueryPBF as t}from\"./operations/query.js\";import o from\"../support/FeatureSet.js\";import a from\"../support/Query.js\";async function s(r,e,t){const s=await n(r,a.from(e),t);return o.fromJSON(s)}async function n(o,s,n){const p=r(o),i={...n},u=a.from(s),m=!u.quantizationParameters,{data:f}=await t(p,u,new e({sourceSpatialReference:u.sourceSpatialReference,applyTransform:m}),i);return f}export{s as executeQueryPBF,n as executeRawQueryPBF};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{parseUrl as t}from\"../utils.js\";import{executeQueryForExtent as o}from\"./operations/query.js\";import r from\"../support/Query.js\";import e from\"../../geometry/Extent.js\";async function m(m,n,s){const p=t(m);return o(p,r.from(n),{...s}).then((t=>({count:t.data.count,extent:e.fromJSON(t.data.extent)})))}export{m as executeForExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Error.js\";import has from\"../../../../core/has.js\";import{whenOrAbort as o}from\"../../../../core/promiseUtils.js\";import{urlToObject as s}from\"../../../../core/urlUtils.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as u}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getMimeTypeFormatId as a,getFilenameFormatId as n}from\"../../../support/infoFor3D.js\";import{DataLayerSource as c}from\"../../../support/source/DataLayerSource.js\";import{parseUrl as p}from\"../../../../rest/utils.js\";import{executeForCount as l}from\"../../../../rest/query/executeForCount.js\";import{executeForExtent as m}from\"../../../../rest/query/executeForExtent.js\";import{executeForIds as y}from\"../../../../rest/query/executeForIds.js\";import{executeRawQueryJSON as d}from\"../../../../rest/query/executeQueryJSON.js\";import{executeRawQueryPBF as f}from\"../../../../rest/query/executeQueryPBF.js\";import h from\"../../../../rest/support/FeatureSet.js\";import S from\"../../../../rest/support/Query.js\";let F=class extends t{constructor(e){super(e),this.dynamicDataSource=null,this.fieldsIndex=null,this.gdbVersion=null,this.infoFor3D=null,this.pbfSupported=!1,this.queryAttachmentsSupported=!1,this.sourceSpatialReference=null,this.url=null}get parsedUrl(){return s(this.url)}async execute(e,t){const r=await this.executeJSON(e,t);return this.featureSetFromJSON(e,r,t)}async executeJSON(e,t){const r=this._normalizeQuery(e),o=null!=e.outStatistics?.[0],s=has(\"featurelayer-pbf-statistics\"),i=!o||s;let u;if(this.pbfSupported&&i)try{u=await f(this.url,r,t)}catch(a){if(\"query:parsing-pbf\"!==a.name)throw a;this.pbfSupported=!1}return this.pbfSupported&&i||(u=await d(this.url,r,t)),this._normalizeFields(u.fields),u}async featureSetFromJSON(e,t,r){if(!this._queryIs3DObjectFormat(e)||null==this.infoFor3D||!t.features)return h.fromJSON(t);const{meshFeatureSetFromJSON:s}=await o(import(\"../../../../rest/support/meshFeatureSet.js\"),r);return s(e,this.infoFor3D,t)}executeForCount(e,t){return l(this.url,this._normalizeQuery(e),t)}executeForExtent(e,t){return m(this.url,this._normalizeQuery(e),t)}executeForIds(e,t){return y(this.url,this._normalizeQuery(e),t)}async executeRelationshipQuery(e,t){const[{default:r},{executeRelationshipQuery:s}]=await o(Promise.all([import(\"../../../../rest/support/RelationshipQuery.js\"),import(\"../../../../rest/query/executeRelationshipQuery.js\")]),t);return e=r.from(e),(this.gdbVersion||this.dynamicDataSource)&&((e=e.clone()).gdbVersion=e.gdbVersion||this.gdbVersion,e.dynamicDataSource=e.dynamicDataSource||this.dynamicDataSource),s(this.url,e,t)}async executeRelationshipQueryForCount(e,t){const[{default:r},{executeRelationshipQueryForCount:s}]=await o(Promise.all([import(\"../../../../rest/support/RelationshipQuery.js\"),import(\"../../../../rest/query/executeRelationshipQuery.js\")]),t);return e=r.from(e),(this.gdbVersion||this.dynamicDataSource)&&((e=e.clone()).gdbVersion=e.gdbVersion||this.gdbVersion,e.dynamicDataSource=e.dynamicDataSource||this.dynamicDataSource),s(this.url,e,t)}async executeAttachmentQuery(e,t){const{executeAttachmentQuery:r,fetchAttachments:s,processAttachmentQueryResult:i}=await o(import(\"../../../../rest/query/operations/queryAttachments.js\"),t),u=p(this.url);return i(u,await(this.queryAttachmentsSupported?r(u,e,t):s(u,e,t)))}async executeTopFeaturesQuery(e,t){const{executeTopFeaturesQuery:r}=await o(import(\"../../../../rest/query/executeTopFeaturesQuery.js\"),t);return r(this.parsedUrl,e,this.sourceSpatialReference,t)}async executeForTopIds(e,t){const{executeForTopIds:r}=await o(import(\"../../../../rest/query/executeForTopIds.js\"),t);return r(this.parsedUrl,e,t)}async executeForTopExtents(e,t){const{executeForTopExtents:r}=await o(import(\"../../../../rest/query/executeForTopExtents.js\"),t);return r(this.parsedUrl,e,t)}async executeForTopCount(e,t){const{executeForTopCount:r}=await o(import(\"../../../../rest/query/executeForTopCount.js\"),t);return r(this.parsedUrl,e,t)}_normalizeQuery(e){let t=S.from(e);t.sourceSpatialReference=t.sourceSpatialReference||this.sourceSpatialReference,(this.gdbVersion||this.dynamicDataSource)&&(t=t===e?t.clone():t,t.gdbVersion=e.gdbVersion||this.gdbVersion,t.dynamicDataSource=e.dynamicDataSource?c.from(e.dynamicDataSource):this.dynamicDataSource);const{infoFor3D:o}=this;if(null!=o&&this._queryIs3DObjectFormat(e)){t=t===e?t.clone():t,t.formatOf3DObjects=null;const{supportedFormats:s,queryFormats:i}=o,u=a(\"model/gltf-binary\",s)??n(\"glb\",s),c=a(\"model/gltf+json\",s)??n(\"gtlf\",s);for(const e of i){if(e===u){t.formatOf3DObjects=e;break}e!==c||t.formatOf3DObjects||(t.formatOf3DObjects=e)}if(!t.formatOf3DObjects)throw new r(\"query:unsupported-3d-query-formats\",\"Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf\");if(null==t.outFields||!t.outFields.includes(\"*\")){t=t===e?t.clone():t,null==t.outFields&&(t.outFields=[]);const{originX:r,originY:s,originZ:i,translationX:u,translationY:a,translationZ:n,scaleX:c,scaleY:p,scaleZ:l,rotationX:m,rotationY:y,rotationZ:d,rotationDeg:f}=o.transformFieldRoles;t.outFields.push(r,s,i,u,a,n,c,p,l,m,y,d,f)}}return t}_normalizeFields(e){if(null!=this.fieldsIndex&&null!=e)for(const t of e){const e=this.fieldsIndex.get(t.name);e&&Object.assign(t,e.toJSON())}}_queryIs3DObjectFormat(e){return null!=this.infoFor3D&&!0===e.returnGeometry&&\"xyFootprint\"!==e.multipatchOption&&!e.outStatistics}};e([i({type:c})],F.prototype,\"dynamicDataSource\",void 0),e([i()],F.prototype,\"fieldsIndex\",void 0),e([i()],F.prototype,\"gdbVersion\",void 0),e([i()],F.prototype,\"infoFor3D\",void 0),e([i({readOnly:!0})],F.prototype,\"parsedUrl\",null),e([i()],F.prototype,\"pbfSupported\",void 0),e([i()],F.prototype,\"queryAttachmentsSupported\",void 0),e([i()],F.prototype,\"sourceSpatialReference\",void 0),e([i({type:String})],F.prototype,\"url\",void 0),F=e([u(\"esri.tasks.QueryTask\")],F);const x=F;export{x as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{parseUrl as r}from\"../utils.js\";import{executeQuery as t}from\"./operations/query.js\";import o from\"../support/FeatureSet.js\";import e from\"../support/Query.js\";async function s(r,t,e){const s=await a(r,t,e);return o.fromJSON(s)}async function a(o,s,a){const n=r(o),i={...a},p=e.from(s),{data:u}=await t(n,p,p.sourceSpatialReference,i);return u}export{s as executeQueryJSON,a as executeRawQueryJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{parseUrl as o}from\"../utils.js\";import{executeQueryForCount as r}from\"./operations/query.js\";import t from\"../support/Query.js\";async function n(n,s,m){const p=o(n);return r(p,t.from(s),{...m}).then((o=>o.data.count))}export{n as executeForCount};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{parseUrl as o}from\"../utils.js\";import{executeQueryForIds as r}from\"./operations/query.js\";import t from\"../support/Query.js\";async function s(s,e,m){const n=o(s);return r(n,t.from(e),{...m}).then((o=>o.data.objectIds))}export{s as executeForIds};\n"],"sourceRoot":""}
{"version":3,"sources":["../node_modules/@arcgis/core/analysis/Analysis.js","../node_modules/@arcgis/core/analysis/featureReferenceUtils.js","../node_modules/@arcgis/core/analysis/LineOfSightAnalysisObserver.js","../node_modules/@arcgis/core/analysis/LineOfSightAnalysisTarget.js","../node_modules/@arcgis/core/analysis/LineOfSightAnalysis.js","../node_modules/@arcgis/core/layers/LineOfSightLayer.js","../node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","../node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js","../node_modules/@arcgis/core/portal/support/resourceExtension.js"],"names":["n","l","_i","_inherits","_super","_createSuper","e","_this","_classCallCheck","call","id","concat","Date","now","toString","title","_createClass","key","get","this","_get","set","t","parent","type","releaseAnalysis","analyses","includes","remove","_set","requiredPropertiesForEditing","every","r","i","s","o","p","String","constructOnly","clonable","prototype","value","readOnly","c","a","layer","objectId","objectIdField","attributes","uid","json","write","writer","_e$layer","feature","layerId","target","Number","origins","read","ObjectId","f","position","elevationInfo","m","isRequired","u","_s","d","ofType","v","_t","observer","extent","_this2","addHandles","_computeExtent","pending","targets","spatialReference","_waitComputeExtent","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","abrupt","Promise","resolve","stop","apply","arguments","_step","h","g","x","y","z","_iterator","_createForOfIteratorHelper","done","geometry","_t2$geometry","err","zmin","zmax","removeAll","cast","nonNullable","j","_u","operationalLayerType","analysis","opacity","_load","addResolvingPromise","waitComputeExtent","_this$analysis","ignoreOrigin","service","_t$origins","_t$type","url","resources","_objectSpread","verifyItemRelativeUrls","writtenUrls","rootPath","NO","origin","originIdOf","object","propertyName","targetUrl","dest","targetPropertyName","context","params","portalItem","_o$compress","resourceFromPath","N","path","compress","I","resource","content","updates","toUpdate","U","w","_ref","toKeep","push","_l$filename","_s$prefix","_s$compress","filename","prefix","pendingOperations","_x","_P","P","then","itemRelativeUrl","catch","toAdd","_ref2","finish","O","Blob","JSON","stringify","toJSON","_yield$r","sent","default","responseType","data","png","jpeg","jpg","bmp","gif","txt","xml","svg","zip","pbf","gz"],"mappings":"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","file":"static/js/196.6811db99.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../core/Accessor.js\";import{isSome as r}from\"../core/arrayUtils.js\";import{ClonableMixin as s}from\"../core/Clonable.js\";import{IdentifiableMixin as o}from\"../core/Identifiable.js\";import{JSONSupportMixin as i}from\"../core/JSONSupport.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/has.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";let n=0,l=class extends(i(s(o(t)))){constructor(e){super(e),this.id=`${Date.now().toString(16)}-analysis-${n++}`,this.title=null}get parent(){return this._get(\"parent\")}set parent(e){const t=this.parent;if(null!=t)switch(t.type){case\"line-of-sight\":case\"dimension\":t.releaseAnalysis(this);break;case\"2d\":case\"3d\":t.analyses.includes(this)&&t.analyses.remove(this)}this._set(\"parent\",e)}get isEditable(){return this.requiredPropertiesForEditing.every(r)}};e([p({type:String,constructOnly:!0,clonable:!1})],l.prototype,\"id\",void 0),e([p({type:String})],l.prototype,\"title\",void 0),e([p({constructOnly:!0})],l.prototype,\"type\",void 0),e([p({clonable:!1,value:null})],l.prototype,\"parent\",null),e([p({readOnly:!0})],l.prototype,\"isEditable\",null),e([p({readOnly:!0})],l.prototype,\"requiredPropertiesForEditing\",void 0),l=e([a(\"esri.analysis.Analysis\")],l);const c=l;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction e(e,t){return l(e)===l(t)}function l(e){if(null==e)return null;const l=null!=e.layer?e.layer.id:\"\";let t=null;return t=null!=e.objectId?e.objectId:null!=e.layer&&\"objectIdField\"in e.layer&&null!=e.layer.objectIdField&&null!=e.attributes?e.attributes[e.layer.objectIdField]:e.uid,null==t?null:`o-${l}-${t}`}const t={json:{write:{writer:r,target:{\"feature.layerId\":{type:[Number,String]},\"feature.objectId\":{type:[Number,String]}}},origins:{\"web-scene\":{read:n}}}};function r(e,l){null!=e&&null!=e.layer?.objectIdField&&null!=e.attributes&&(l.feature={layerId:e.layer.id,objectId:e.attributes[e.layer.objectIdField]})}function n(e){if(null!=e.layerId&&null!=e.objectId)return{uid:null,layer:{id:e.layerId,objectIdField:\"ObjectId\"},attributes:{ObjectId:e.objectId}}}export{e as featureReferenceEquals,t as featureReferenceProperty,l as getFeatureId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import{featureReferenceEquals as r,featureReferenceProperty as e}from\"./featureReferenceUtils.js\";import s from\"../core/Accessor.js\";import{ClonableMixin as t}from\"../core/Clonable.js\";import{JSONSupportMixin as i}from\"../core/JSONSupport.js\";import{equalsMaybe as p}from\"../core/maybe.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{subclass as c}from\"../core/accessorSupport/decorators/subclass.js\";import{persistable as n}from\"../core/accessorSupport/decorators/persistable.js\";import m from\"../geometry/Point.js\";import l from\"../symbols/support/ElevationInfo.js\";let f=class extends(i(t(s))){constructor(o){super(o),this.position=null,this.elevationInfo=null,this.feature=null}equals(o){return p(this.position,o.position)&&p(this.elevationInfo,o.elevationInfo)&&r(this.feature,o.feature)}};o([a({type:m,json:{write:{isRequired:!0}}})],f.prototype,\"position\",void 0),o([a({type:l}),n()],f.prototype,\"elevationInfo\",void 0),o([a(e)],f.prototype,\"feature\",void 0),f=o([c(\"esri.analysis.LineOfSightAnalysisObserver\")],f);const u=f;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import{featureReferenceEquals as r,featureReferenceProperty as t}from\"./featureReferenceUtils.js\";import{Clonable as e}from\"../core/Clonable.js\";import{JSONSupportMixin as s}from\"../core/JSONSupport.js\";import{equalsMaybe as i}from\"../core/maybe.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";import{persistable as n}from\"../core/accessorSupport/decorators/persistable.js\";import c from\"../geometry/Point.js\";import m from\"../symbols/support/ElevationInfo.js\";let l=class extends(s(e)){constructor(o){super(o),this.position=null,this.elevationInfo=null,this.feature=null}equals(o){return i(this.position,o.position)&&i(this.elevationInfo,o.elevationInfo)&&r(this.feature,o.feature)}};o([p({type:c}),n()],l.prototype,\"position\",void 0),o([p({type:m}),n()],l.prototype,\"elevationInfo\",void 0),o([p(t)],l.prototype,\"feature\",void 0),l=o([a(\"esri.analysis.LineOfSightAnalysisTarget\")],l);const f=l;export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"./Analysis.js\";import r from\"./LineOfSightAnalysisObserver.js\";import o from\"./LineOfSightAnalysisTarget.js\";import s from\"../core/Collection.js\";import{referenceSetter as i,castForReferenceSetter as n}from\"../core/collectionUtils.js\";import{applySome as l}from\"../core/maybe.js\";import{watch as p,syncAndInitial as a}from\"../core/reactiveUtils.js\";import{property as u}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{subclass as c}from\"../core/accessorSupport/decorators/subclass.js\";import{projectOrLoad as m}from\"../geometry/projection.js\";import{fromValues as g,expandWithVec3 as y,toExtent as f}from\"../geometry/support/aaBoundingBox.js\";import{getGeometryEffectiveElevationMode as h}from\"../support/elevationInfoUtils.js\";const d=s.ofType(o);let v=class extends t{constructor(e){super(e),this.type=\"line-of-sight\",this.observer=null,this.extent=null}initialize(){this.addHandles(p((()=>this._computeExtent()),(e=>{null!=e&&null!=e.pending||this._set(\"extent\",null!=e?e.extent:null)}),a))}get targets(){return this._get(\"targets\")||new d}set targets(e){this._set(\"targets\",i(e,this.targets,d))}get spatialReference(){return null!=this.observer&&null!=this.observer.position?this.observer.position.spatialReference:null}get requiredPropertiesForEditing(){return[l(this.observer,(e=>e.position))]}async waitComputeExtent(){const e=this._computeExtent();return null!=e?e.pending:Promise.resolve()}_computeExtent(){const e=this.spatialReference;if(null==this.observer||null==this.observer.position||null==e)return null;const t=e=>\"absolute-height\"===h(e.position,e.elevationInfo),r=this.observer.position,o=g(r.x,r.y,r.z,r.x,r.y,r.z);for(const i of this.targets)if(null!=i.position){const t=m(i.position,e);if(null!=t.pending)return{pending:t.pending,extent:null};if(null!=t.geometry){const{x:e,y:r,z:s}=t.geometry;y(o,[e,r,s])}}const s=f(o,e);return t(this.observer)&&this.targets.every(t)||(s.zmin=void 0,s.zmax=void 0),{pending:null,extent:s}}clear(){this.observer=null,this.targets.removeAll()}};e([u({type:[\"line-of-sight\"]})],v.prototype,\"type\",void 0),e([u({type:r,json:{read:!0,write:!0}})],v.prototype,\"observer\",void 0),e([u({cast:n,type:d,nonNullable:!0,json:{read:!0,write:!0}})],v.prototype,\"targets\",null),e([u({value:null,readOnly:!0})],v.prototype,\"extent\",void 0),e([u({readOnly:!0})],v.prototype,\"spatialReference\",null),e([u({readOnly:!0})],v.prototype,\"requiredPropertiesForEditing\",null),v=e([c(\"esri.analysis.LineOfSightAnalysis\")],v);const j=v;export{j as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import s from\"../analysis/LineOfSightAnalysis.js\";import t from\"../analysis/LineOfSightAnalysisObserver.js\";import r from\"../analysis/LineOfSightAnalysisTarget.js\";import i from\"../core/Collection.js\";import{referenceSetter as o}from\"../core/collectionUtils.js\";import{applySome as a}from\"../core/maybe.js\";import{MultiOriginJSONMixin as n}from\"../core/MultiOriginJSONSupport.js\";import{watch as l,syncAndInitial as p}from\"../core/reactiveUtils.js\";import{property as y}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{subclass as c}from\"../core/accessorSupport/decorators/subclass.js\";import m from\"./Layer.js\";import{OperationalLayer as u}from\"./mixins/OperationalLayer.js\";const h=i.ofType(r);let d=class extends(u(n(m))){constructor(e){super(e),this.type=\"line-of-sight\",this.operationalLayerType=\"LineOfSightLayer\",this.analysis=new s,this.opacity=1}initialize(){this.addHandles(l((()=>this.analysis),((e,s)=>{null!=s&&s.parent===this&&(s.parent=null),null!=e&&(e.parent=this)}),p))}async load(){return null!=this.analysis&&this.addResolvingPromise(this.analysis.waitComputeExtent()),this}get observer(){return a(this.analysis,(e=>e.observer))}set observer(e){a(this.analysis,(s=>s.observer=e))}get targets(){return null!=this.analysis?this.analysis.targets:new i}set targets(e){o(e,this.analysis?.targets)}get fullExtent(){return null!=this.analysis?this.analysis.extent:null}get spatialReference(){return null!=this.analysis?this.analysis.spatialReference:null}releaseAnalysis(e){this.analysis===e&&(this.analysis=new s)}};e([y({json:{read:!1},readOnly:!0})],d.prototype,\"type\",void 0),e([y({type:[\"LineOfSightLayer\"]})],d.prototype,\"operationalLayerType\",void 0),e([y({type:t,json:{read:!0,write:{isRequired:!0,ignoreOrigin:!0}}})],d.prototype,\"observer\",null),e([y({type:h,json:{read:!0,write:{ignoreOrigin:!0}}})],d.prototype,\"targets\",null),e([y({nonNullable:!0,json:{read:!1,write:!1}})],d.prototype,\"analysis\",void 0),e([y({readOnly:!0})],d.prototype,\"fullExtent\",null),e([y({readOnly:!0})],d.prototype,\"spatialReference\",null),e([y({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},\"portal-item\":{read:!1,write:!1},\"web-document\":{read:!1,write:!1}}}})],d.prototype,\"opacity\",void 0),e([y({type:[\"show\",\"hide\"]})],d.prototype,\"listMode\",void 0),d=e([c(\"esri.layers.LineOfSightLayer\")],d);const f=d;export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{isMultiOriginJSONMixin as t}from\"../../multiOriginJSONSupportUtils.js\";import{isAbsolute as r,isBlobProtocol as e,join as o,getPathExtension as s}from\"../../urlUtils.js\";import{generateUUID as n}from\"../../uuid.js\";import{getPropertyMetadata as i}from\"../metadata.js\";import{nameToId as a}from\"../PropertyOrigin.js\";import{propertyJSONMeta as p}from\"./property.js\";import{getResourceContentExtension as u}from\"../../../portal/support/resourceExtension.js\";import{r as c,t as l,M as m,i as f,p as y,a as d}from\"../../../chunks/persistableUrlUtils.js\";function g(t){const r=t?.origins??[void 0];return(e,o)=>{const s=h(t,e,o);for(const t of r){const r=p(e,t,o);for(const t in s)r[t]=s[t]}}}function h(t,r,e){if(\"resource\"===t?.type)return v(t,r,e);switch(t?.type??\"other\"){case\"other\":return{read:!0,write:!0};case\"url\":{const{read:t,write:r}=d;return{read:t,write:r}}}}function v(o,s,n){const p=i(s,n);return{type:String,read:(t,r,e)=>{const o=c(t,r,e);return p.type===String?o:\"function\"==typeof p.type?new p.type({url:o}):void 0},write:{writer(s,i,u,c){if(!c||!c.resources)return\"string\"==typeof s?void(i[u]=l(s,c)):void(i[u]=s.write({},c));const y=x(s),d=l(y,{...c,verifyItemRelativeUrls:c&&c.verifyItemRelativeUrls?{writtenUrls:c.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},m.NO),g=p.type!==String&&(!t(this)||c&&c.origin&&this.originIdOf(n)>a(c.origin)),h={object:this,propertyName:n,value:s,targetUrl:d,dest:i,targetPropertyName:u,context:c,params:o};c&&c.portalItem&&d&&!r(d)?g?w(h):j(h):c&&c.portalItem&&(null==d||null!=f(d)||e(d)||g)?U(h):i[u]=d}}}}function U(t){const{targetUrl:r,params:s,value:i,context:a,dest:p,targetPropertyName:c}=t;if(!a.portalItem)return;const l=y(r),m=l?.filename??n(),f=s?.prefix??l?.prefix,d=N(i,r,a),g=o(f,m),h=`${g}.${u(d)}`,v=a.portalItem.resourceFromPath(h);e(r)&&a.resources&&a.resources.pendingOperations.push(P(r).then((t=>{v.path=`${g}.${u(t)}`,p[c]=v.itemRelativeUrl})).catch((()=>{})));const U=s?.compress??!1;a.resources&&I({...t,resource:v,content:d,compress:U,updates:a.resources.toAdd}),p[c]=v.itemRelativeUrl}function w(t){const{context:r,targetUrl:e,params:o,value:n,dest:i,targetPropertyName:a}=t;if(!r.portalItem)return;const p=r.portalItem.resourceFromPath(e),c=N(n,e,r),l=u(c),m=s(p.path),f=o?.compress??!1;l===m?(r.resources&&I({...t,resource:p,content:c,compress:f,updates:r.resources.toUpdate}),i[a]=e):U(t)}function j({context:t,targetUrl:r,dest:e,targetPropertyName:o}){t.portalItem&&t.resources&&(t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r),compress:!1}),e[o]=r)}function I({object:t,propertyName:r,updates:e,resource:o,content:s,compress:n}){e.push({resource:o,content:s,compress:n,finish:e=>{O(t,r,e)}})}function N(t,r,e){return\"string\"==typeof t?{url:r}:new Blob([JSON.stringify(t.toJSON(e))],{type:\"application/json\"})}async function P(t){const r=(await import(\"../../../request.js\")).default,{data:e}=await r(t,{responseType:\"blob\"});return e}function x(t){return null==t?null:\"string\"==typeof t?t:t.url}function O(t,r,e){\"string\"==typeof t[r]?t[r]=e.url:t[r].url=e.url}export{g as persistable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{getPathExtension as i}from\"../../core/urlUtils.js\";function t(i){return o[p(i)]||e}function p(i){return i instanceof Blob?i.type:n(i.url)}function n(t){const p=i(t);return g[p]||a}const o={},a=\"text/plain\",e=o[a],g={png:\"image/png\",jpeg:\"image/jpeg\",jpg:\"image/jpg\",bmp:\"image/bmp\",gif:\"image/gif\",json:\"application/json\",txt:\"text/plain\",xml:\"application/xml\",svg:\"image/svg+xml\",zip:\"application/zip\",pbf:\"application/vnd.mapbox-vector-tile\",gz:\"application/gzip\",\"bin.gz\":\"application/octet-stream\"};for(const c in g)o[g[c]]=c;export{t as getResourceContentExtension};\n"],"sourceRoot":""}
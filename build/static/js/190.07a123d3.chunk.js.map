{"version":3,"sources":["../node_modules/@arcgis/core/libs/i3s/enums.js","../node_modules/@arcgis/core/libs/i3s/I3SModule.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SNode.js","../node_modules/@arcgis/core/views/3d/layers/SceneLayerWorker.js","../node_modules/@arcgis/core/chunks/vec32.js","../node_modules/@arcgis/core/geometry/support/MeshGeoreferencedRelativeVertexSpace.js","../node_modules/@arcgis/core/geometry/support/buffer/math/common.js","../node_modules/@arcgis/core/geometry/support/MeshGeoreferencedVertexSpace.js","../node_modules/@arcgis/core/geometry/support/MeshLocalVertexSpace.js","../node_modules/@arcgis/core/geometry/support/DoubleArray.js"],"names":["n","e","None","Int16","Int32","Replace","Outside","Inside","Finished","i","t","concat","o","s","a","c","Unmodified","Culled","NotChecked","PotentiallyModified","Unknown","Uncached","Cached","MaxScreenThreshold","ScreenSpaceRelative","RemovedFeatureDiameter","DistanceRangeFromDefaultCamera","Hole","Leaf","g","E","_x","_c","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","r","wrap","_context","prev","next","j","geometryBuffer","abrupt","result","A","transferList","stop","u","_x2","_u","_callee2","_i$featureIds","f","_context2","byteLength","_malloc","Uint8Array","HEAPU8","buffer","set","dracoDecompressPointCloudData","_free","error","length","Error","featureIds","slice","positions","push","m","_x3","_m","_callee3","_context3","S","y","_x4","_y","_callee4","_context4","w","p","_x5","_p","_callee5","_context5","setLegacySchema","context","jsonSchema","d","_x6","_d","_callee6","l","_yield$import","_e","_r","_yield$import2","_e2","_a","b","h","_e3","_context6","localMatrix","origin","vertexSpace","local","fromJSON","inSpatialReference","outSpatialReference","georeferenced","georeferencedRelative","type","sent","projectBuffer","initializeProjection","Float64Array","project","transform","_slicedToArray","projected","original","_x7","_b","_callee7","_ref","_context7","normalMatrix","normals","Float32Array","transformed","_","modifications","setModifications","isGeodetic","localOrigin","globalTrafo","mbs","obb","elevationOffset","geometryDescriptor","indexToVertexProjector","vertexToRenderProjector","BYTES_PER_ELEMENT","I","byteOffset","center","halfSize","quaternion","L","isDraco","isLegacy","color","layouts","some","name","normal","needNormals","uv0","uvRegion","featureIndex","process","normalReferenceFrame","discarded","componentOffsets","x","anchorIds","Array","from","T","anchors","M","interleavedVertedData","P","indicesType","Uint16Array","indices","Uint32Array","R","U","positionIndicesType","positionIndices","v","layout","interleavedVertexData","hasColors","hasModifications","positionData","data","transformedGeometry","filterOBBs","destroy","Promise","resolve","then","default","locateFile","onRuntimeInitialized","catch","typedBuffer","typedBufferStride","undefined","Math","ceil","B","min","count","sqrt","Object","freeze","defineProperty","__proto__","normalize","normalizeView","scale","scaleView","shiftRight","transformMat3","transformMat3View","transformMat4","transformMat4View","Symbol","toStringTag","value","_inherits","_super","_createSuper","_this","_classCallCheck","call","isRelative","isGeoreferenced","_createClass","key","_this$origin","this","z","spatialReference","readOnly","prototype","Number","nonNullable","json","write","getLogger","fill","isArray","subarray"],"mappings":"wwBAIIA,EAAEC,EAAYD,E,8EAAAA,EAAiEA,IAAIA,EAAE,CAAC,IAAnEA,EAAEE,KAAK,GAAG,OAAOF,EAAEA,EAAEG,MAAM,GAAG,QAAQH,EAAEA,EAAEI,MAAM,GAAG,QAAoB,SAASJ,GAAGA,EAAEA,EAAEK,QAAQ,GAAG,UAAUL,EAAEA,EAAEM,QAAQ,GAAG,UAAUN,EAAEA,EAAEO,OAAO,GAAG,SAASP,EAAEA,EAAEQ,SAAS,GAAG,UAAU,CAA/G,CAAiHP,IAAIA,EAAE,CAAC,I,ICA0FD,E,SAAjD,SAASS,EAAER,GAAG,OAAOS,YAAE,iBAADC,OAAkBV,GAAI,C,ICAnFD,EAAEY,EAAEC,EAAEC,EAAEC,EAAYd,E,gCAAAA,EAAyFD,IAAIA,EAAE,CAAC,IAA3FC,EAAEe,WAAW,GAAG,aAAaf,EAAEA,EAAEgB,OAAO,GAAG,SAAShB,EAAEA,EAAEiB,WAAW,GAAG,aAAyB,SAASjB,GAAGA,EAAEA,EAAEe,WAAW,GAAG,aAAaf,EAAEA,EAAEkB,oBAAoB,GAAG,sBAAsBlB,EAAEA,EAAEgB,OAAO,GAAG,SAAShB,EAAEA,EAAEmB,QAAQ,GAAG,UAAUnB,EAAEA,EAAEiB,WAAW,GAAG,YAAY,CAA1K,CAA4KN,IAAIA,EAAE,CAAC,KAAoW,SAASX,GAAGA,EAAEA,EAAEmB,QAAQ,GAAG,UAAUnB,EAAEA,EAAEoB,SAAS,GAAG,WAAWpB,EAAEA,EAAEqB,OAAO,GAAG,QAAQ,CAAtF,CAAwFT,IAAIA,EAAE,CAAC,IAAI,SAASZ,GAAGA,EAAEA,EAAEC,KAAK,GAAG,OAAOD,EAAEA,EAAEsB,mBAAmB,GAAG,qBAAqBtB,EAAEA,EAAEuB,oBAAoB,GAAG,sBAAsBvB,EAAEA,EAAEwB,uBAAuB,GAAG,yBAAyBxB,EAAEA,EAAEyB,+BAA+B,GAAG,gCAAgC,CAA5P,CAA8PZ,IAAIA,EAAE,CAAC,IAAI,SAASb,GAAGA,EAAEA,EAAE0B,KAAK,GAAG,OAAO1B,EAAEA,EAAE2B,KAAK,GAAG,MAAM,CAAjD,CAAmDb,IAAIA,EAAE,CAAC,IAAI,ICAkgCc,EAAEC,EAA/tD,SAAef,EAACgB,GAAA,OAAAC,EAAAC,MAAC,KAADC,UAAA,UAAAF,IAA8E,OAA9EA,EAAAG,YAAAC,cAAAC,MAAhB,SAAAC,EAAiBrC,GAAC,IAAAsC,EAAA,OAAAH,cAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAAQC,IAAG,OAA2B,OAApBL,EAAE,CAACtC,EAAE4C,gBAAeJ,EAAAK,OAAA,SAAO,CAACC,OAAOC,EAAE/C,EAAEsC,GAAGU,aAAaV,IAAE,wBAAAE,EAAAS,OAAA,GAAAZ,EAAA,KAACN,EAAAC,MAAA,KAAAC,UAAA,UAAeiB,EAACC,GAAA,OAAAC,EAAApB,MAAC,KAADC,UAAA,UAAAmB,IAAwc,OAAxcA,EAAAlB,YAAAC,cAAAC,MAAhB,SAAAiB,EAAiBrD,GAAC,IAAAsD,EAAAhB,EAAA7B,EAAAE,EAAAZ,EAAAa,EAAAJ,EAAAK,EAAA0C,EAAA,OAAApB,cAAAI,MAAA,SAAAiB,GAAA,cAAAA,EAAAf,KAAAe,EAAAd,MAAA,cAAAc,EAAAd,KAAA,EAAQC,IAAG,OAAqM,GAA9LL,EAAE,CAACtC,EAAE4C,gBAAgCnC,EAAGT,EAAlB4C,eAAoBjC,EAAEF,EAAEgD,WAAW1D,EAAE8B,EAAE6B,QAAQ/C,IAAGC,EAAE,IAAI+C,WAAW9B,EAAE+B,OAAOC,OAAO9D,EAAEY,IAAKmD,IAAI,IAAIH,WAAWlD,IAAUD,EAAEqB,EAAEkC,8BAA8BhE,EAAEa,EAAE6C,YAAe5B,EAAEmC,MAAMjE,KAAGS,EAAEyD,MAAMC,OAAO,GAAC,CAAAV,EAAAd,KAAA,cAAO,IAAIyB,MAAM,aAADzD,OAAcF,EAAEyD,QAAQ,OAA+E,OAAxEpD,GAAc,QAAZyC,EAAA9C,EAAE4D,kBAAU,IAAAd,OAAA,EAAZA,EAAcY,QAAO,EAAE1D,EAAE4D,WAAWC,QAAQ,KAAKd,EAAE/C,EAAE8D,UAAUD,QAAOb,EAAAX,OAAA,UAAQhC,GAAGyB,EAAEiC,KAAK1D,EAAEgD,QAAQvB,EAAEiC,KAAKhB,EAAEM,QAAQ,CAACf,OAAO,CAACwB,UAAUf,EAAEa,WAAWvD,GAAGmC,aAAaV,KAAE,wBAAAkB,EAAAP,OAAA,GAAAI,EAAA,KAACD,EAAApB,MAAA,KAAAC,UAAA,UAAeuC,EAACC,GAAA,OAAAC,EAAA1C,MAAC,KAADC,UAAA,UAAAyC,IAAsF,OAAtFA,EAAAxC,YAAAC,cAAAC,MAAhB,SAAAuC,EAAiB3E,GAAC,IAAAsC,EAAA,OAAAH,cAAAI,MAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cAAAkC,EAAAlC,KAAA,EAAQC,IAAG,OAA+B,OAA9BkC,EAAE7E,GAASsC,EAAE,CAACuB,OAAO7D,EAAE6D,QAAOe,EAAA/B,OAAA,SAAO,CAACC,OAAOR,EAAEU,aAAa,CAACV,EAAEuB,UAAQ,wBAAAe,EAAA3B,OAAA,GAAA0B,EAAA,KAACD,EAAA1C,MAAA,KAAAC,UAAA,UAAe6C,EAACC,GAAA,OAAAC,EAAAhD,MAAC,KAADC,UAAA,UAAA+C,IAAmB,OAAnBA,EAAA9C,YAAAC,cAAAC,MAAhB,SAAA6C,EAAiBjF,GAAC,OAAAmC,cAAAI,MAAA,SAAA2C,GAAA,cAAAA,EAAAzC,KAAAyC,EAAAxC,MAAA,cAAAwC,EAAAxC,KAAA,EAAQC,IAAG,OAACwC,EAAEnF,GAAE,wBAAAkF,EAAAjC,OAAA,GAAAgC,EAAA,KAACD,EAAAhD,MAAA,KAAAC,UAAA,UAAemD,EAACC,GAAA,OAAAC,EAAAtD,MAAC,KAADC,UAAA,UAAAqD,IAAwD,OAAxDA,EAAApD,YAAAC,cAAAC,MAAhB,SAAAmD,EAAiBvF,GAAC,OAAAmC,cAAAI,MAAA,SAAAiD,GAAA,cAAAA,EAAA/C,KAAA+C,EAAA9C,MAAA,cAAA8C,EAAA9C,KAAA,EAAQC,IAAG,OAACd,EAAE4D,gBAAgBzF,EAAE0F,QAAQ1F,EAAE2F,YAAW,wBAAAH,EAAAvC,OAAA,GAAAsC,EAAA,KAACD,EAAAtD,MAAA,KAAAC,UAAA,UAAe2D,EAACC,GAAA,OAAAC,EAAA9D,MAAC,KAADC,UAAA,UAAA6D,IAAmwB,OAAnwBA,EAAA5D,YAAAC,cAAAC,MAAhB,SAAA2D,EAAiBnF,GAAC,IAAAJ,EAAAK,EAAA0C,EAAAyC,EAAAlF,EAAAoC,EAAAsB,EAAAM,EAAAM,EAAAa,EAAAC,EAAAC,EAAAC,EAAAC,EAAAT,EAAAU,EAAAC,EAAAC,EAAA5E,EAAA6E,EAAA,OAAAtE,cAAAI,MAAA,SAAAmE,GAAA,cAAAA,EAAAjE,KAAAiE,EAAAhE,MAAA,OAAkN,GAA9LlC,EAA8CI,EAA1D+F,YAAqB9F,EAAqCD,EAA5CgG,OAAmBrD,EAAyB3C,EAAnC0D,UAAwB0B,EAAWpF,EAAvBiG,YAAoB/F,EAAGF,EAATkG,MAAW5D,EAAElD,IAAE+G,SAASnG,EAAEoG,oBAAoBxC,EAAExE,IAAE+G,SAASnG,EAAEqG,qBAAsG,mBAAjFnC,EAAE,CAACoC,cAAcvG,IAAEwG,sBAAsB1G,IAAEqG,MAAM/G,KAAGiG,EAAEoB,MAAML,SAASf,IAAgCoB,KAAI,CAAAV,EAAAhE,KAAA,gBAAAgE,EAAAhE,KAAA,EAAsD,yCAAyC,OAAnD,OAAmDuD,EAAAS,EAAAW,KAAzErH,EAACiG,EAAfqB,cAAqChF,EAAC2D,EAAtBsB,qBAAoBb,EAAAhE,KAAA,EAA0DJ,EAAEY,EAAEsB,GAAE,OAACY,EAAE,IAAIoC,aAAajE,EAAEW,QAAQlE,EAAEuD,EAAEL,EAAE,EAAEkC,EAAEZ,EAAE,EAAEY,EAAElB,OAAO,GAAEwC,EAAAhE,KAAA,wBAAAgE,EAAAhE,KAAA,GAA6B,uDAA6D,QAAA0D,EAAAM,EAAAW,KAAtErH,EAACoG,EAATqB,QAA+ErC,EAAE9C,YAAEtC,EAAE,CAACsE,UAAUf,EAAEmE,UAAUlH,EAAE,CAACmG,YAAYnG,QAAG,EAAOqG,YAAY/B,EAAEkC,mBAAmB9D,EAAE+D,oBAAoBzC,EAAEsC,MAAMhG,KAAI,QAA4B,IAArB8E,EAAER,EAAElB,OAAMoC,EAAAqB,YAAS9G,EAAC,GAAR0F,EAACD,EAAA,GAACE,EAACF,EAAA,GAAC1E,EAAC0E,EAAA,GAAYtG,EAAE,EAAEA,EAAE4F,EAAE5F,GAAG,EAAEoF,EAAEpF,IAAIuG,EAAEnB,EAAEpF,EAAE,IAAIwG,EAAEpB,EAAEpF,EAAE,IAAI4B,EAAE,OAAA8E,EAAA7D,OAAA,SAAM,CAACC,OAAO,CAAC8E,UAAUxC,EAAEyC,SAAStE,GAAGP,aAAa,CAACoC,EAAEvB,OAAON,EAAEM,UAAQ,yBAAA6C,EAAAzD,OAAA,GAAA8C,EAAA,MAAC/D,MAAA,KAAAC,UAAA,UAAesE,EAACuB,GAAA,OAAAC,EAAA/F,MAAC,KAADC,UAAA,UAAA8F,IAA4J,OAA5JA,EAAA7F,YAAAC,cAAAC,MAAhB,SAAA4F,EAAAC,GAAA,IAAAjI,EAAAsC,EAAA7B,EAAA,OAAA0B,cAAAI,MAAA,SAAA2F,GAAA,cAAAA,EAAAzF,KAAAyF,EAAAxF,MAAA,OAA+E,OAAhD1C,EAACiI,EAAdE,aAAuB7F,EAAC2F,EAATG,QAAkB3H,EAAE,IAAI4H,aAAa/F,EAAE4B,QAAOgE,EAAArF,OAAA,UAAQjC,YAAEH,EAAE6B,EAAEtC,GAAGQ,YAAEC,EAAEA,GAAG,CAACqC,OAAO,CAACwF,YAAY7H,EAAEoH,SAASvF,GAAGU,aAAa,CAACvC,EAAEoD,OAAOvB,EAAEuB,WAAQ,wBAAAqE,EAAAjF,OAAA,GAAA+E,EAAA,KAACD,EAAA/F,MAAA,KAAAC,UAAA,UAASuE,EAAExG,GAAGuI,EAAEvI,EAAE,CAAS,SAASmF,EAAEnF,GAAkG,IAA/F,IAAMsC,EAAEtC,EAAEwI,cAAc/H,EAAEoB,EAAE6B,QAAQ,EAAEpB,EAAE4B,QAAQvD,EAAE,IAAI6G,aAAa3F,EAAE+B,OAAOC,OAAOpD,EAAE6B,EAAE4B,QAAgBnE,EAAE,EAAEA,EAAEuC,EAAE4B,SAASnE,EAAEY,EAAEZ,GAAGuC,EAAEvC,GAAG8B,EAAE4G,iBAAiBzI,EAAE0F,QAAQjF,EAAE6B,EAAE4B,OAAOlE,EAAE0I,YAAY7G,EAAEmC,MAAMvD,EAAE,CAAC,SAASsC,EAAE/C,EAAEsC,GAAG,IAAIT,EAAE,OAAO,KAAK,IAAcpB,EAAsJT,EAA9J0F,QAAsB/E,EAAwIX,EAApJ2I,YAA0B5I,EAA0HC,EAAtI4I,YAAkBhI,EAAoHZ,EAAxH6I,IAAUrI,EAA8GR,EAAlH8I,IAAsBvF,EAA4FvD,EAA5G+I,gBAAiC/C,EAA2EhG,EAA1F4C,eAAoC9B,EAAsDd,EAAzEgJ,mBAA4C9F,EAA6BlD,EAApDiJ,uBAAiDzE,EAAGxE,EAA3BkJ,wBAA6BpE,EAAEjD,EAAE6B,QAAQsC,EAAEvC,YAAiBmC,EAAE/D,EAAE6B,QAAP,GAAiB8D,aAAa2B,mBAAmB5C,EAAE,IAAI5C,WAAW9B,EAAE+B,OAAOC,OAAOiB,EAAEkB,EAAEvC,YAAY8C,EAAEzC,IAAI,IAAIH,WAAWqC,IAAI,IAAMQ,EAAE,IAAIgB,aAAa3F,EAAE+B,OAAOC,OAAO+B,EAApK,IAAyKwD,EAAE5C,EAAE7F,GAAG,IAAIiB,EAAE4E,EAAE6C,WAAW,EAAE7C,EAAE2C,kBAAkBhE,EAAE,IAAIqC,aAAahB,EAAE3C,OAAOjC,GAAGwH,EAAEjE,EAAEpF,GAAG6B,GAAG,GAAG4E,EAAE2C,kBAAiDC,EAA/BjE,EAAE,IAAIqC,aAAahB,EAAE3C,OAAOjC,GAAOhB,GAAGgB,GAAG,EAAE4E,EAAE2C,kBAAkB,MAAM3I,IAAmC4I,EAA/BjE,EAAE,IAAIqC,aAAahB,EAAE3C,OAAOjC,GAAOpB,EAAE8I,QAAQ1H,GAAG,EAAE4E,EAAE2C,kBAAiDC,EAA/BjE,EAAE,IAAIqC,aAAahB,EAAE3C,OAAOjC,GAAOpB,EAAE+I,UAAU3H,GAAG,EAAE4E,EAAE2C,kBAAiDC,EAA/BjE,EAAE,IAAIqC,aAAahB,EAAE3C,OAAOjC,GAAOpB,EAAEgJ,aAAa,IAAMzG,EAAEjC,EAAE2I,EAAE,CAACC,SAAQ,EAAGC,UAAS,EAAGC,MAAM5J,EAAE6J,QAAQC,MAAM,SAAA9J,GAAC,OAAEA,EAAE8J,MAAM,SAAA9J,GAAC,MAAE,UAAUA,EAAE+J,IAAI,GAAE,IAAGC,OAAOhK,EAAEiK,aAAajK,EAAE6J,QAAQC,MAAM,SAAA9J,GAAC,OAAEA,EAAE8J,MAAM,SAAA9J,GAAC,MAAE,qBAAqBA,EAAE+J,IAAI,GAAE,IAAGG,IAAIlK,EAAE6J,QAAQC,MAAM,SAAA9J,GAAC,OAAEA,EAAE8J,MAAM,SAAA9J,GAAC,MAAE,QAAQA,EAAE+J,IAAI,GAAE,IAAGI,SAASnK,EAAE6J,QAAQC,MAAM,SAAA9J,GAAC,OAAEA,EAAE8J,MAAM,SAAA9J,GAAC,MAAE,aAAaA,EAAE+J,IAAI,GAAE,IAAGK,aAAarH,EAAEqH,cAAcvF,EAAEhD,EAAEwI,QAAQ5J,IAAIT,EAAE8I,IAAIhE,EAAEyB,EAAE9C,WAAWV,EAAE0G,EAAE7D,EAAErC,EAAEL,EAAEsB,EAAExE,EAAEsK,sBAAsB,GAAGzI,EAAEmC,MAAM4B,GAAG/D,EAAEmC,MAAMc,GAAGD,EAAEZ,MAAMC,OAAO,EAAE,MAAM,IAAIC,MAAM,aAADzD,OAAcmE,EAAEZ,QAAS,GAAGY,EAAE0F,UAAU,OAAO,KAAK,IAAMhC,EAAE1D,EAAE2F,iBAAiBtG,OAAO,EAAEW,EAAE2F,iBAAiBnG,QAAQ,KAAK1B,EAAEkC,EAAET,WAAWF,OAAO,EAAEW,EAAET,WAAWC,QAAQ,KAAKoG,EAAE5F,EAAE6F,UAAUxG,OAAO,EAAEyG,MAAMC,KAAK/F,EAAE6F,WAAW,KAAKG,EAAEhG,EAAEiG,QAAQ5G,OAAO,EAAEyG,MAAMC,KAAK/F,EAAEiG,SAAS,KAAKC,EAAElG,EAAEmG,sBAAsB3G,QAAQR,OAAOoH,EAAEpG,EAAEqG,cAAcrK,EAAEX,MAAM,IAAIiL,YAAYtG,EAAEuG,QAAQvH,OAAOgB,EAAEuG,QAAQ/B,WAAWxE,EAAEuG,QAAQ3H,WAAW,GAAGY,QAAQ,IAAIgH,YAAYxG,EAAEuG,QAAQvH,OAAOgB,EAAEuG,QAAQ/B,WAAWxE,EAAEuG,QAAQ3H,WAAW,GAAGY,QAAQiH,EAAEzG,EAAEP,UAAUD,QAAQkH,EAAE1G,EAAE2G,sBAAsB3K,EAAEX,MAAM,IAAIiL,YAAYtG,EAAE4G,gBAAgB5H,OAAOgB,EAAE4G,gBAAgBpC,WAAWxE,EAAE4G,gBAAgBhI,WAAW,GAAGY,QAAQ,IAAIgH,YAAYxG,EAAE4G,gBAAgB5H,OAAOgB,EAAE4G,gBAAgBpC,WAAWxE,EAAE4G,gBAAgBhI,WAAW,GAAGY,QAAQqH,EAAE,CAACC,OAAO3L,EAAE6J,QAAQ,GAAG+B,sBAAsBb,EAAEK,QAAQH,EAAEY,UAAUhH,EAAEgH,UAAUC,iBAAiBjH,EAAEiH,iBAAiBC,aAAa,CAACC,KAAKV,EAAEF,QAAQG,IAAI,OAAO5I,GAAGL,EAAEiC,KAAK5B,EAAEkB,QAAQ0E,GAAGjG,EAAEiC,KAAKgE,EAAE1E,QAAQvB,EAAEiC,KAAKwG,GAAGzI,EAAEiC,KAAK0G,EAAEpH,QAAQvB,EAAEiC,KAAK+G,EAAEzH,QAAQvB,EAAEiC,KAAKgH,EAAE1H,QAAQ,CAAC2G,iBAAiBjC,EAAEnE,WAAWzB,EAAE+H,UAAUD,EAAEK,QAAQD,EAAEoB,oBAAoBP,EAAE5C,IAAIjE,EAAEiE,IAAI,CAAC,SAASW,EAAEzJ,GAAG,OAAO,IAAIA,EAAEgG,EAAEjF,WAAW,IAAIf,EAAEgG,EAAE9E,oBAAoB,IAAIlB,EAAEgG,EAAEhF,OAAOgF,EAAE7E,OAAO,CAAC,SAAS0D,EAAE7E,GAAG,IAAcsC,EAAYtC,EAApB0F,QAAiBjF,EAAGT,EAAV6D,OAAYlD,EAAEkB,EAAE6B,QAAQjD,EAAEgD,YAAY1D,EAAEU,EAAEgD,WAAW+D,aAAa2B,kBAAkBvI,EAAE,IAAI4G,aAAa3F,EAAE+B,OAAOC,OAAOlD,EAAEZ,GAAGS,EAAE,IAAIgH,aAAa/G,GAAGG,EAAEkD,IAAItD,GAAGqB,EAAEqK,WAAW5J,EAAE3B,EAAEZ,GAAGS,EAAEsD,IAAIlD,GAAGiB,EAAEmC,MAAMrD,EAAE,CAAC,SAAS4H,EAAEvI,GAAG6B,IAAIA,EAAEsK,QAAQnM,GAAG6B,EAAE,KAAK,CAAC,SAASuH,EAAEpJ,EAAEsC,GAAG,IAAI,IAAI7B,EAAE,EAAEA,EAAE6B,EAAE4B,SAASzD,EAAET,EAAES,GAAG6B,EAAE7B,EAAE,CAAC,SAASkC,IAAI,OAAOd,EAAEuK,QAAQC,WAAWzK,IAAIA,GFAlqK7B,IAAIA,EAAE,IAAIqM,SAAS,SAAA3L,GAAC,OAAE,iCAA8B6L,MAAM,SAAA7L,GAAC,OAAEA,EAAED,CAAC,IAAG8L,MAAM,SAAArE,GAAe,IAAOlI,GAAEC,EAAbiI,EAATsE,SAAwB,CAACC,WAAWhM,EAAEiM,qBAAqB,kBAAIhM,EAAEV,EAAE,WAAUA,EAAEuM,IAAI,GAAG,IAAGI,OAAO,SAAAjM,GAAI,MAAMA,CAAC,KAAKV,GEA6+JuM,MAAM,SAAAtM,GAAI6B,EAAE7B,EAAE4B,EAAE,IAAI,KAAKA,EAAE,CAAC,IAAM6I,EAAE,CAAC/C,UAAU3E,EAAEoJ,QAAQ5D,E,mCCJnyK,6RAIuE,SAAS9H,EAAET,EAAES,EAAE8C,GAAGjB,EAAEtC,EAAE2M,YAAYlM,EAAEkM,YAAYpJ,EAAEvD,EAAE4M,kBAAkBnM,EAAEmM,kBAAkB,CAAC,SAAStK,EAAE7B,EAAE6B,EAAEiB,GAAU,IAARxD,EAACkC,UAAAiC,OAAA,QAAA2I,IAAA5K,UAAA,GAAAA,UAAA,GAAC,EAAEtB,EAACsB,UAAAiC,OAAA,QAAA2I,IAAA5K,UAAA,GAAAA,UAAA,GAAClC,EAAG,GAAGU,EAAEyD,OAAOnE,IAAI+M,KAAKC,KAAKzK,EAAE4B,OAAOvD,GAAG,OAAOX,IAAEiE,MAAM,2EAA2ExD,EAAyH,IAAvH,IAAMyC,EAAEzC,EAAEyD,OAAOnE,EAAES,EAAE+C,EAAE,GAAG3C,EAAE2C,EAAE,GAAG1C,EAAE0C,EAAE,GAAGqC,EAAErC,EAAE,GAAGzC,EAAEyC,EAAE,GAAGyC,EAAEzC,EAAE,GAAG6B,EAAE7B,EAAE,GAAGuB,EAAEvB,EAAE,GAAGiD,EAAEjD,EAAE,IAAIiB,EAAEjB,EAAE,IAAIyJ,EAAEzJ,EAAE,IAAI3B,EAAE2B,EAAE,IAAQsB,EAAE,EAAEkG,EAAE,EAAU/K,EAAE,EAAEA,EAAEkD,EAAElD,IAAI,CAAC,IAAMA,EAAEsC,EAAEuC,GAAGtB,EAAEjB,EAAEuC,EAAE,GAAG3B,EAAEZ,EAAEuC,EAAE,GAAGpE,EAAEsK,GAAGvK,EAAER,EAAE4F,EAAErC,EAAE6B,EAAElC,EAAEsB,EAAE/D,EAAEsK,EAAE,GAAGnK,EAAEZ,EAAEc,EAAEyC,EAAEuB,EAAE5B,EAAE8J,EAAEvM,EAAEsK,EAAE,GAAGlK,EAAEb,EAAEgG,EAAEzC,EAAEiD,EAAEtD,EAAEtB,EAAEiD,GAAGlE,EAAEoK,GAAGhL,CAAC,CAAC,OAAOU,CAAC,CAAC,SAAS8C,EAAEvD,EAAES,EAAE6B,GAAGvC,EAAEC,EAAE2M,YAAYlM,EAAEkM,YAAYrK,EAAEtC,EAAE4M,kBAAkBnM,EAAEmM,kBAAkB,CAAC,SAAS7M,EAAEU,EAAE6B,EAAEiB,GAAU,IAARxD,EAACkC,UAAAiC,OAAA,QAAA2I,IAAA5K,UAAA,GAAAA,UAAA,GAAC,EAAEtB,EAACsB,UAAAiC,OAAA,QAAA2I,IAAA5K,UAAA,GAAAA,UAAA,GAAClC,EAAG,GAAGU,EAAEyD,OAAOnE,IAAI+M,KAAKC,KAAKzK,EAAE4B,OAAOvD,GAAgM,IAA9F,IAAMuC,EAAEzC,EAAEyD,OAAOnE,EAAES,EAAE+C,EAAE,GAAG3C,EAAE2C,EAAE,GAAG1C,EAAE0C,EAAE,GAAGqC,EAAErC,EAAE,GAAGzC,EAAEyC,EAAE,GAAGyC,EAAEzC,EAAE,GAAG6B,EAAE7B,EAAE,GAAGuB,EAAEvB,EAAE,GAAGiD,EAAEjD,EAAE,GAAOiB,EAAE,EAAEwI,EAAE,EAAUhN,EAAE,EAAEA,EAAEkD,EAAElD,IAAI,CAAC,IAAMA,EAAEsC,EAAEkC,GAAGjB,EAAEjB,EAAEkC,EAAE,GAAGtB,EAAEZ,EAAEkC,EAAE,GAAG/D,EAAEuM,GAAGxM,EAAER,EAAE4F,EAAErC,EAAE6B,EAAElC,EAAEzC,EAAEuM,EAAE,GAAGpM,EAAEZ,EAAEc,EAAEyC,EAAEuB,EAAE5B,EAAEzC,EAAEuM,EAAE,GAAGnM,EAAEb,EAAEgG,EAAEzC,EAAEiD,EAAEtD,EAAEsB,GAAG7D,EAAEqM,GAAGjN,CAAC,MAArSC,IAAEiE,MAAM,0EAA8R,CAAC,SAAStD,EAAEX,EAAES,EAAE6B,GAAGY,EAAElD,EAAE2M,YAAYlM,EAAE6B,EAAEtC,EAAE4M,kBAAkB,CAAC,SAAS1J,EAAElD,EAAES,EAAE6B,GAA8F,IAAxF,IAAJiB,EAACtB,UAAAiC,OAAA,QAAA2I,IAAA5K,UAAA,GAAAA,UAAA,GAAC,EAASlC,EAAE+M,KAAKG,IAAIjN,EAAEkE,OAAOX,EAAE9C,EAAEyM,OAAOvM,EAAEF,EAAEkM,YAAYzJ,EAAEzC,EAAEmM,kBAAsBpM,EAAE,EAAEI,EAAE,EAAUC,EAAE,EAAEA,EAAEd,EAAEc,IAAIb,EAAEY,GAAG0B,EAAE3B,EAAEH,GAAGR,EAAEY,EAAE,GAAG0B,EAAE3B,EAAEH,EAAE,GAAGR,EAAEY,EAAE,GAAG0B,EAAE3B,EAAEH,EAAE,GAAGA,GAAG0C,EAAEtC,GAAG2C,CAAC,CAAC,SAAS/C,EAAER,EAAES,GAAGG,EAAEZ,EAAE2M,YAAYlM,EAAEkM,YAAY3M,EAAE4M,kBAAkBnM,EAAEmM,kBAAkB,CAAC,SAAShM,EAAEZ,EAAES,GAA+D,IAArD,IAAR6B,EAACL,UAAAiC,OAAA,QAAA2I,IAAA5K,UAAA,GAAAA,UAAA,GAAC,EAAEsB,EAACtB,UAAAiC,OAAA,QAAA2I,IAAA5K,UAAA,GAAAA,UAAA,GAACK,EAASvC,EAAE+M,KAAKG,IAAIjN,EAAEkE,OAAO5B,EAAE7B,EAAEyD,OAAOX,GAAO5C,EAAE,EAAEuC,EAAE,EAAU1C,EAAE,EAAEA,EAAET,EAAES,IAAI,CAAC,IAAMT,EAAEU,EAAEE,GAAGH,EAAEC,EAAEE,EAAE,GAAGC,EAAEH,EAAEE,EAAE,GAAGE,EAAEd,EAAEA,EAAES,EAAEA,EAAEI,EAAEA,EAAE,GAAGC,EAAE,EAAE,CAAC,IAAMJ,EAAE,EAAEqM,KAAKK,KAAKtM,GAAGb,EAAEkD,GAAGzC,EAAEV,EAAEC,EAAEkD,EAAE,GAAGzC,EAAED,EAAER,EAAEkD,EAAE,GAAGzC,EAAEG,CAAC,CAACD,GAAG4C,EAAEL,GAAGZ,CAAC,CAAC,CAAkO8K,OAAOC,OAAOD,OAAOE,eAAe,CAACC,UAAU,KAAKC,UAAU5M,EAAE6M,cAAcjN,EAAEkN,MAAMxK,EAAEyK,UAAUhN,EAAEiN,WAArU,SAAW5N,EAAES,EAAE6B,GAA6H,IAA1H,IAAMiB,EAAEuJ,KAAKG,IAAIjN,EAAEkN,MAAMzM,EAAEyM,OAAOnN,EAAEC,EAAE2M,YAAYhM,EAAEX,EAAE4M,kBAAkB1J,EAAEzC,EAAEkM,YAAYnM,EAAEC,EAAEmM,kBAAsBhM,EAAE,EAAEC,EAAE,EAAU+E,EAAE,EAAEA,EAAErC,EAAEqC,IAAI7F,EAAEc,GAAGqC,EAAEtC,IAAI0B,EAAEvC,EAAEc,EAAE,GAAGqC,EAAEtC,EAAE,IAAI0B,EAAEvC,EAAEc,EAAE,GAAGqC,EAAEtC,EAAE,IAAI0B,EAAE1B,GAAGJ,EAAEK,GAAGF,CAAC,EAA0HkN,cAAc9N,EAAE+N,kBAAkBvK,EAAEwK,cAAczL,EAAE0L,kBAAkBvN,GAAGwN,OAAOC,YAAY,CAACC,MAAM,W,0MCAp5CtN,EAAC,SAAAsF,GAAAiI,YAAAvN,EAAAsF,GAAA,IAAAkI,EAAAC,YAAAzN,GAAqB,SAAAA,EAAYb,GAAE,IAAAuO,EAAuG,OAAvGC,YAAA,KAAA3N,IAAC0N,EAAAF,EAAAI,KAAA,KAAMzO,IAAQoH,KAAK,yBAAyBmH,EAAKG,YAAW,EAAGH,EAAKI,iBAAgB,EAAGJ,EAAK3H,OAAOxB,cAAGmJ,CAAA,CAAqJ,OAApJK,YAAA/N,EAAA,EAAAgO,IAAA,iBAAAV,MAAA,SAAenO,GAAG,IAAA8O,EAAAnH,YAAaoH,KAAKnI,OAAM,GAAlBtE,EAACwM,EAAA,GAACnO,EAACmO,EAAA,GAACrO,EAACqO,EAAA,GAAc,OAAO,IAAI/O,IAAE,CAAC0K,EAAEnI,EAAEwC,EAAEnE,EAAEqO,EAAEvO,EAAEwO,iBAAiBjP,GAAG,GAAC,CAAA6O,IAAA,qBAAAV,MAAA,SAAAlG,GAAiC,IAAXjI,EAACiI,EAAHwC,EAAMnI,EAAC2F,EAAHnD,EAAMnE,EAACsH,EAAH+G,EAAMD,KAAKnI,OAAO9F,YAAEd,EAAEsC,EAAG,OAAD3B,QAAC,IAADA,IAAG,EAAE,KAACE,CAAA,CAA/R,CAAeyB,YAAE3B,MAAgRX,YAAE,CAACY,YAAE,CAACuG,sBAAsB,0BAA0B,CAAC+H,UAAS,KAAMrO,EAAEsO,UAAU,YAAO,GAAQnP,YAAE,CAACS,YAAE,CAAC2G,KAAK,CAACgI,QAAQC,aAAY,EAAGC,KAAK,CAACC,OAAM,MAAO1O,EAAEsO,UAAU,cAAS,GAAiF,IAAM3K,EAA/E3D,EAAEb,YAAE,CAACQ,YAAE,+DAA+DK,E,mCCJpmC,sCAIgDb,EAJhD,OAIkDsC,EAAEkN,UAAU,oC,sLCAwa1O,EAAC,SAAAqF,GAAAiI,YAAAtN,EAAAqF,GAAA,IAAAkI,EAAAC,YAAAxN,GAAqB,SAAAA,IAAa,IAAAyN,EAA+E,OAA/EC,YAAA,KAAA1N,IAACyN,EAAAF,EAAAI,KAAA,KAAM,CAAC,IAAQrH,KAAK,gBAAgBmH,EAAKG,YAAW,EAAGH,EAAKI,iBAAgB,EAAEJ,CAAA,CAAC,OAAAK,YAAA9N,EAAA,CAAlH,CAAewB,YAAE3B,MAAmGX,YAAE,CAACY,YAAE,CAACsG,cAAc,iBAAiB,CAACgI,UAAS,KAAMpO,EAAEqO,UAAU,YAAO,GAAyE,IAAM/J,EAAvEtE,EAAEd,YAAE,CAACS,YAAE,uDAAuDK,E,0MCAjKf,EAAC,SAAAoG,GAAAiI,YAAArO,EAAAoG,GAAA,IAAAkI,EAAAC,YAAAvO,GAAqB,SAAAA,EAAYY,GAAE,IAAA4N,EAAsF,OAAtFC,YAAA,KAAAzO,IAACwO,EAAAF,EAAAI,KAAA,KAAM9N,IAAQyG,KAAK,QAAQmH,EAAKG,YAAW,EAAGH,EAAKI,iBAAgB,EAAGJ,EAAK3H,OAAOxB,cAAGmJ,CAAA,CAAqJ,OAApJK,YAAA7O,EAAA,EAAA8O,IAAA,iBAAAV,MAAA,SAAexN,GAAG,IAAAmO,EAAAnH,YAAaoH,KAAKnI,OAAM,GAAlBtE,EAACwM,EAAA,GAAC9O,EAAC8O,EAAA,GAAClO,EAACkO,EAAA,GAAc,OAAO,IAAIjO,IAAE,CAAC4J,EAAEnI,EAAEwC,EAAE9E,EAAEgP,EAAEpO,EAAEqO,iBAAiBtO,GAAG,GAAC,CAAAkO,IAAA,qBAAAV,MAAA,SAAAlG,GAAiC,IAAXtH,EAACsH,EAAHwC,EAAMnI,EAAC2F,EAAHnD,EAAM9E,EAACiI,EAAH+G,EAAMD,KAAKnI,OAAO9F,YAAEH,EAAE2B,EAAG,OAADtC,QAAC,IAADA,IAAG,EAAE,KAACD,CAAA,CAA9Q,CAAeuC,YAAEtC,MAA+PW,YAAE,CAACF,YAAE,CAACqG,MAAM,SAAS,CAACoI,UAAS,KAAMnP,EAAEoP,UAAU,YAAO,GAAQxO,YAAE,CAACC,YAAE,CAACwG,KAAK,CAACgI,QAAQC,aAAY,EAAGC,KAAK,CAACC,OAAM,MAAOxP,EAAEoP,UAAU,cAAS,GAAiE,IAAM3K,EAA/DzE,EAAEY,YAAE,CAACH,YAAE,+CAA+CT,E,mCCJliC,uLAIkF,SAASU,EAAEV,GAAO,IAALU,EAACwB,UAAAiC,OAAA,QAAA2I,IAAA5K,UAAA,IAAAA,UAAA,GAAK,OAAOlC,GAAGuC,IAAE7B,EAAE,IAAIkK,MAAM5K,GAAG0P,KAAK,GAAG,IAAI9E,MAAM5K,GAAG,IAAIyH,aAAazH,EAAE,CAAC,SAASC,EAAES,GAAG,OAAOV,YAAEU,GAAGA,EAAEyD,OAAOzD,EAAEgD,WAAW,IAAInB,IAAEqI,MAAMC,KAAKnK,GAAG,IAAI+G,aAAa/G,EAAE,CAAC,SAASI,EAAEyB,EAAEvC,EAAEU,GAAG,OAAOkK,MAAM+E,QAAQpN,GAAGA,EAAE+B,MAAMtE,EAAEA,EAAEU,GAAG6B,EAAEqN,SAAS5P,EAAEA,EAAEU,EAAE,CAAC,SAASE,EAAE2B,EAAEvC,GAAG,IAAI,IAAIU,EAAE,EAAEA,EAAEV,EAAEmE,SAASzD,EAAE6B,EAAE7B,GAAGV,EAAEU,GAAG,OAAO6B,CAAC,CAAC,SAASwC,EAAExC,GAAG,OAAOqI,MAAM+E,QAAQpN,GAAG,IAAIkF,aAAalF,GAAGA,CAAC,C","file":"static/js/190.07a123d3.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nvar n,e;!function(n){n[n.None=0]=\"None\",n[n.Int16=1]=\"Int16\",n[n.Int32=2]=\"Int32\"}(n||(n={})),function(n){n[n.Replace=0]=\"Replace\",n[n.Outside=1]=\"Outside\",n[n.Inside=2]=\"Inside\",n[n.Finished=3]=\"Finished\"}(e||(e={}));export{n as IndexType,e as ModificationType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as t}from\"../../assets.js\";function e(){return n||(n=new Promise((t=>import(\"../../chunks/i3s.js\").then((t=>t.i)).then((({default:e})=>{const n=e({locateFile:i,onRuntimeInitialized:()=>t(n)});delete n.then})))).catch((t=>{throw t}))),n}function i(e){return t(`esri/libs/i3s/${e}`)}let n;export{e as get};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{f as e}from\"../../../../chunks/sphere.js\";class t{constructor(t,i){this.id=t,this.mbs=i,this.renderMbs=e(0,0,0,-1),this.elevationRange=null}}class i{constructor(){this.min=1/0,this.max=-1/0,this.valid=!1}}var n,o,s,a,c;!function(e){e[e.Unmodified=0]=\"Unmodified\",e[e.Culled=1]=\"Culled\",e[e.NotChecked=2]=\"NotChecked\"}(n||(n={})),function(e){e[e.Unmodified=0]=\"Unmodified\",e[e.PotentiallyModified=1]=\"PotentiallyModified\",e[e.Culled=2]=\"Culled\",e[e.Unknown=3]=\"Unknown\",e[e.NotChecked=4]=\"NotChecked\"}(o||(o={}));class h extends t{constructor(e,t,i,n,a,c,h,d,r,l){super(e,i),this.index=t,this.childCount=n,this.level=a,this.resources=c,this.version=h,this.lodMetric=d,this.maxError=r,this.numFeatures=l,this.failed=!1,this.cacheState=s.Unknown,this.vertexCount=0,this.memory=0,this.childrenLoaded=0,this.hasModifications=!1,this.imModificationImpact=o.NotChecked}}!function(e){e[e.Unknown=0]=\"Unknown\",e[e.Uncached=1]=\"Uncached\",e[e.Cached=2]=\"Cached\"}(s||(s={})),function(e){e[e.None=0]=\"None\",e[e.MaxScreenThreshold=1]=\"MaxScreenThreshold\",e[e.ScreenSpaceRelative=2]=\"ScreenSpaceRelative\",e[e.RemovedFeatureDiameter=3]=\"RemovedFeatureDiameter\",e[e.DistanceRangeFromDefaultCamera=4]=\"DistanceRangeFromDefaultCamera\"}(a||(a={})),function(e){e[e.Hole=0]=\"Hole\",e[e.Leaf=1]=\"Leaf\"}(c||(c={}));class d{constructor(e,t,i,n){this.nodeHasLOD=e,this.isChosen=t,this.lodLevel=i,this.version=n}}export{s as CacheState,i as ElevationRange,a as LodMetric,h as Node,t as NodeBase,n as NodeFilterImpact,o as NodeIMModificationImpact,c as NodeState,d as NodeTraversalState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../geometry/SpatialReference.js\";import{toFloat64Array as r}from\"../../../geometry/support/DoubleArray.js\";import t from\"../../../geometry/support/MeshGeoreferencedRelativeVertexSpace.js\";import o from\"../../../geometry/support/MeshGeoreferencedVertexSpace.js\";import n from\"../../../geometry/support/MeshLocalVertexSpace.js\";import{a as s,n as i}from\"../../../chunks/vec32.js\";import{IndexType as a}from\"../../../libs/i3s/enums.js\";import{get as f}from\"../../../libs/i3s/I3SModule.js\";import{NodeIMModificationImpact as l}from\"./i3s/I3SNode.js\";async function c(e){await j();const r=[e.geometryBuffer];return{result:A(e,r),transferList:r}}async function u(e){await j();const r=[e.geometryBuffer],{geometryBuffer:t}=e,o=t.byteLength,n=E._malloc(o),s=new Uint8Array(E.HEAPU8.buffer,n,o);s.set(new Uint8Array(t));const i=E.dracoDecompressPointCloudData(n,s.byteLength);if(E._free(n),i.error.length>0)throw new Error(`i3s.wasm: ${i.error}`);const a=i.featureIds?.length>0?i.featureIds.slice():null,f=i.positions.slice();return a&&r.push(a.buffer),r.push(f.buffer),{result:{positions:f,featureIds:a},transferList:r}}async function m(e){await j(),S(e);const r={buffer:e.buffer};return{result:r,transferList:[r.buffer]}}async function y(e){await j(),w(e)}async function p(e){await j(),E.setLegacySchema(e.context,e.jsonSchema)}async function d(s){const{localMatrix:i,origin:a,positions:f,vertexSpace:l,local:c}=s,u=e.fromJSON(s.inSpatialReference),m=e.fromJSON(s.outSpatialReference),y={georeferenced:o,georeferencedRelative:t,local:n}[l.type].fromJSON(l);let p;if(\"georeferenced\"===y.type){const{projectBuffer:e,initializeProjection:r}=await import(\"../../../geometry/projection.js\");await r(u,m),p=new Float64Array(f.length),e(f,u,0,p,m,0,p.length/3)}else{const{project:e}=await import(\"../../../geometry/support/meshUtils/georeference.js\");p=r(e({positions:f,transform:i?{localMatrix:i}:void 0,vertexSpace:y,inSpatialReference:u,outSpatialReference:m,local:c}))}const d=p.length,[b,h,g]=a;for(let e=0;e<d;e+=3)p[e]-=b,p[e+1]-=h,p[e+2]-=g;return{result:{projected:p,original:f},transferList:[p.buffer,f.buffer]}}async function b({normalMatrix:e,normals:r}){const t=new Float32Array(r.length);return s(t,r,e),i(t,t),{result:{transformed:t,original:r},transferList:[t.buffer,r.buffer]}}function h(e){_(e)}let g,E;function w(e){const r=e.modifications,t=E._malloc(8*r.length),o=new Float64Array(E.HEAPU8.buffer,t,r.length);for(let n=0;n<r.length;++n)o[n]=r[n];E.setModifications(e.context,t,r.length,e.isGeodetic),E._free(t)}function A(e,r){if(!E)return null;const{context:t,localOrigin:o,globalTrafo:n,mbs:s,obb:i,elevationOffset:f,geometryBuffer:l,geometryDescriptor:c,indexToVertexProjector:u,vertexToRenderProjector:m}=e,y=E._malloc(l.byteLength),p=33,d=E._malloc(p*Float64Array.BYTES_PER_ELEMENT),b=new Uint8Array(E.HEAPU8.buffer,y,l.byteLength);b.set(new Uint8Array(l));const h=new Float64Array(E.HEAPU8.buffer,d,p);I(h,o);let g=h.byteOffset+3*h.BYTES_PER_ELEMENT,w=new Float64Array(h.buffer,g);I(w,n),g+=16*h.BYTES_PER_ELEMENT,w=new Float64Array(h.buffer,g),I(w,s),g+=4*h.BYTES_PER_ELEMENT,null!=i&&(w=new Float64Array(h.buffer,g),I(w,i.center),g+=3*h.BYTES_PER_ELEMENT,w=new Float64Array(h.buffer,g),I(w,i.halfSize),g+=3*h.BYTES_PER_ELEMENT,w=new Float64Array(h.buffer,g),I(w,i.quaternion));const A=c,L={isDraco:!1,isLegacy:!1,color:e.layouts.some((e=>e.some((e=>\"color\"===e.name)))),normal:e.needNormals&&e.layouts.some((e=>e.some((e=>\"normalCompressed\"===e.name)))),uv0:e.layouts.some((e=>e.some((e=>\"uv0\"===e.name)))),uvRegion:e.layouts.some((e=>e.some((e=>\"uvRegion\"===e.name)))),featureIndex:A.featureIndex},S=E.process(t,!!e.obb,y,b.byteLength,A,L,d,f,u,m,e.normalReferenceFrame);if(E._free(d),E._free(y),S.error.length>0)throw new Error(`i3s.wasm: ${S.error}`);if(S.discarded)return null;const _=S.componentOffsets.length>0?S.componentOffsets.slice():null,j=S.featureIds.length>0?S.featureIds.slice():null,x=S.anchorIds.length>0?Array.from(S.anchorIds):null,T=S.anchors.length>0?Array.from(S.anchors):null,M=S.interleavedVertedData.slice().buffer,P=S.indicesType===a.Int16?new Uint16Array(S.indices.buffer,S.indices.byteOffset,S.indices.byteLength/2).slice():new Uint32Array(S.indices.buffer,S.indices.byteOffset,S.indices.byteLength/4).slice(),R=S.positions.slice(),U=S.positionIndicesType===a.Int16?new Uint16Array(S.positionIndices.buffer,S.positionIndices.byteOffset,S.positionIndices.byteLength/2).slice():new Uint32Array(S.positionIndices.buffer,S.positionIndices.byteOffset,S.positionIndices.byteLength/4).slice(),v={layout:e.layouts[0],interleavedVertexData:M,indices:P,hasColors:S.hasColors,hasModifications:S.hasModifications,positionData:{data:R,indices:U}};return j&&r.push(j.buffer),_&&r.push(_.buffer),r.push(M),r.push(P.buffer),r.push(R.buffer),r.push(U.buffer),{componentOffsets:_,featureIds:j,anchorIds:x,anchors:T,transformedGeometry:v,obb:S.obb}}function L(e){return 0===e?l.Unmodified:1===e?l.PotentiallyModified:2===e?l.Culled:l.Unknown}function S(e){const{context:r,buffer:t}=e,o=E._malloc(t.byteLength),n=t.byteLength/Float64Array.BYTES_PER_ELEMENT,s=new Float64Array(E.HEAPU8.buffer,o,n),i=new Float64Array(t);s.set(i),E.filterOBBs(r,o,n),i.set(s),E._free(o)}function _(e){E&&(E.destroy(e),E=null)}function I(e,r){for(let t=0;t<r.length;++t)e[t]=r[t]}function j(){return E?Promise.resolve():(g||(g=f().then((e=>{E=e,g=null}))),g)}const x={transform:A,destroy:_};export{h as destroyContext,u as dracoDecompressPointCloudData,m as filterObbsForModifications,S as filterObbsForModificationsSync,j as initialize,L as interpretObbModificationResults,c as process,d as project,p as setLegacySchema,y as setModifications,w as setModificationsSync,x as test,b as transformNormals};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{mathLogger as e}from\"../geometry/support/buffer/math/common.js\";function t(e,t,f){r(e.typedBuffer,t.typedBuffer,f,e.typedBufferStride,t.typedBufferStride)}function r(t,r,f,n=3,o=n){if(t.length/n!==Math.ceil(r.length/o))return e.error(\"source and destination buffers need to have the same number of elements\"),t;const u=t.length/n,i=f[0],s=f[1],a=f[2],d=f[4],c=f[5],l=f[6],p=f[8],y=f[9],h=f[10],m=f[12],B=f[13],g=f[14];let S=0,M=0;for(let e=0;e<u;e++){const e=r[S],f=r[S+1],u=r[S+2];t[M]=i*e+d*f+p*u+m,t[M+1]=s*e+c*f+y*u+B,t[M+2]=a*e+l*f+h*u+g,S+=o,M+=n}return t}function f(e,t,r){n(e.typedBuffer,t.typedBuffer,r,e.typedBufferStride,t.typedBufferStride)}function n(t,r,f,n=3,o=n){if(t.length/n!==Math.ceil(r.length/o))return void e.error(\"source and destination buffers need to have the same number of elements\");const u=t.length/n,i=f[0],s=f[1],a=f[2],d=f[3],c=f[4],l=f[5],p=f[6],y=f[7],h=f[8];let m=0,B=0;for(let e=0;e<u;e++){const e=r[m],f=r[m+1],u=r[m+2];t[B]=i*e+d*f+p*u,t[B+1]=s*e+c*f+y*u,t[B+2]=a*e+l*f+h*u,m+=o,B+=n}}function o(e,t,r){u(e.typedBuffer,t,r,e.typedBufferStride)}function u(e,t,r,f=3){const n=Math.min(e.length/f,t.count),o=t.typedBuffer,u=t.typedBufferStride;let i=0,s=0;for(let a=0;a<n;a++)e[s]=r*o[i],e[s+1]=r*o[i+1],e[s+2]=r*o[i+2],i+=u,s+=f}function i(e,t){s(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function s(e,t,r=3,f=r){const n=Math.min(e.length/r,t.length/f);let o=0,u=0;for(let i=0;i<n;i++){const n=t[o],i=t[o+1],s=t[o+2],a=n*n+i*i+s*s;if(a>0){const t=1/Math.sqrt(a);e[u]=t*n,e[u+1]=t*i,e[u+2]=t*s}o+=f,u+=r}}function a(e,t,r){const f=Math.min(e.count,t.count),n=e.typedBuffer,o=e.typedBufferStride,u=t.typedBuffer,i=t.typedBufferStride;let s=0,a=0;for(let d=0;d<f;d++)n[a]=u[s]>>r,n[a+1]=u[s+1]>>r,n[a+2]=u[s+2]>>r,s+=i,a+=o}const d=Object.freeze(Object.defineProperty({__proto__:null,normalize:s,normalizeView:i,scale:u,scaleView:o,shiftRight:a,transformMat3:n,transformMat3View:f,transformMat4:r,transformMat4View:t},Symbol.toStringTag,{value:\"Module\"}));export{n as a,f as b,t as c,i as d,o as e,a as f,s as n,u as s,r as t,d as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{ClonableMixin as r}from\"../../core/Clonable.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{enumeration as s}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import{c as p,f as c}from\"../../chunks/vec3f64.js\";import n from\"../Point.js\";let a=class extends(r(o)){constructor(e){super(e),this.type=\"georeferenced-relative\",this.isRelative=!0,this.isGeoreferenced=!0,this.origin=p()}getOriginPoint(e){const[r,o,t]=this.origin;return new n({x:r,y:o,z:t,spatialReference:e})}setOriginFormPoint({x:e,y:r,z:o}){this.origin=c(e,r,o??0)}};e([s({georeferencedRelative:\"georeferenced-relative\"},{readOnly:!0})],a.prototype,\"type\",void 0),e([t({type:[Number],nonNullable:!0,json:{write:!0}})],a.prototype,\"origin\",void 0),a=e([i(\"esri.geometry.support.MeshGeoreferencedRelativeVertexSpace\")],a);const m=a;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport r from\"../../../../core/Logger.js\";const e=r.getLogger(\"esri.views.3d.support.buffer.math\");export{e as mathLogger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{ClonableMixin as r}from\"../../core/Clonable.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/Error.js\";import{enumeration as s}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";let c=class extends(r(o)){constructor(){super({}),this.type=\"georeferenced\",this.isRelative=!1,this.isGeoreferenced=!0}};e([s({georeferenced:\"georeferenced\"},{readOnly:!0})],c.prototype,\"type\",void 0),c=e([t(\"esri.geometry.support.MeshGeoreferencedVertexSpace\")],c);const p=c;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import{ClonableMixin as r}from\"../../core/Clonable.js\";import{JSONSupport as e}from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{enumeration as t}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import{c as p,f as c}from\"../../chunks/vec3f64.js\";import a from\"../Point.js\";let n=class extends(r(e)){constructor(o){super(o),this.type=\"local\",this.isRelative=!0,this.isGeoreferenced=!1,this.origin=p()}getOriginPoint(o){const[r,e,s]=this.origin;return new a({x:r,y:e,z:s,spatialReference:o})}setOriginFormPoint({x:o,y:r,z:e}){this.origin=c(o,r,e??0)}};o([t({local:\"local\"},{readOnly:!0})],n.prototype,\"type\",void 0),o([s({type:[Number],nonNullable:!0,json:{write:!0}})],n.prototype,\"origin\",void 0),n=o([i(\"esri.geometry.support.MeshLocalVertexSpace\")],n);const m=n;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{NATIVE_ARRAY_MAX_SIZE as r,isArray as n}from\"../../core/typedArrayUtil.js\";function t(n,t=!1){return n<=r?t?new Array(n).fill(0):new Array(n):new Float64Array(n)}function e(t){return(n(t)?t.length:t.byteLength/8)<=r?Array.from(t):new Float64Array(t)}function a(r,n,t){return Array.isArray(r)?r.slice(n,n+t):r.subarray(n,n+t)}function o(r,n){for(let t=0;t<n.length;++t)r[t]=n[t];return r}function y(r){return Array.isArray(r)?new Float64Array(r):r}export{o as copyInto,e as doubleArrayFrom,a as doubleSubArray,t as newDoubleArray,y as toFloat64Array};\n"],"sourceRoot":""}
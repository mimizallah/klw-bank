(this["webpackJsonpklw-bank"]=this["webpackJsonpklw-bank"]||[]).push([[196],{1551:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(89),i=n(88),a=n(90),o=n(91),l=n(94),c=n(126),s=n(98),u=n(165),b=n(234),p=n(105),j=n(97),O=(n(96),n(93),n(95)),y=0,d=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).id="".concat(Date.now().toString(16),"-analysis-").concat(y++),i.title=null,i}return Object(i.a)(n,[{key:"parent",get:function(){return this._get("parent")},set:function(e){var t=this.parent;if(null!=t)switch(t.type){case"line-of-sight":case"dimension":t.releaseAnalysis(this);break;case"2d":case"3d":t.analyses.includes(this)&&t.analyses.remove(this)}this._set("parent",e)}},{key:"isEditable",get:function(){return this.requiredPropertiesForEditing.every(s.i)}}]),n}(Object(p.b)(Object(u.b)(Object(b.a)(c.a))));Object(l.a)([Object(j.b)({type:String,constructOnly:!0,clonable:!1})],d.prototype,"id",void 0),Object(l.a)([Object(j.b)({type:String})],d.prototype,"title",void 0),Object(l.a)([Object(j.b)({constructOnly:!0})],d.prototype,"type",void 0),Object(l.a)([Object(j.b)({clonable:!1,value:null})],d.prototype,"parent",null),Object(l.a)([Object(j.b)({readOnly:!0})],d.prototype,"isEditable",null),Object(l.a)([Object(j.b)({readOnly:!0})],d.prototype,"requiredPropertiesForEditing",void 0);var v=d=Object(l.a)([Object(O.a)("esri.analysis.Analysis")],d)},1776:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return D}));var r=n(4),i=n(12),a=n(89),o=n(88),l=n(90),c=n(91),s=n(94),u=n(92),b=n(1551);function p(e,t){return j(e)===j(t)}function j(e){if(null==e)return null;var t,n=null!=e.layer?e.layer.id:"";return null==(t=null!=e.objectId?e.objectId:null!=e.layer&&"objectIdField"in e.layer&&null!=e.layer.objectIdField&&null!=e.attributes?e.attributes[e.layer.objectIdField]:e.uid)?null:"o-".concat(n,"-").concat(t)}var O={json:{write:{writer:function(e,t){var n;null!=e&&null!=(null===(n=e.layer)||void 0===n?void 0:n.objectIdField)&&null!=e.attributes&&(t.feature={layerId:e.layer.id,objectId:e.attributes[e.layer.objectIdField]})},target:{"feature.layerId":{type:[Number,String]},"feature.objectId":{type:[Number,String]}}},origins:{"web-scene":{read:function(e){if(null!=e.layerId&&null!=e.objectId)return{uid:null,layer:{id:e.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:e.objectId}}}}}}};var y=n(126),d=n(165),v=n(105),f=n(111),g=n(97),h=(n(96),n(98),n(93),n(95)),m=n(700),w=n(135),I=n(647),x=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).position=null,r.elevationInfo=null,r.feature=null,r}return Object(o.a)(n,[{key:"equals",value:function(e){return Object(f.g)(this.position,e.position)&&Object(f.g)(this.elevationInfo,e.elevationInfo)&&p(this.feature,e.feature)}}]),n}(Object(v.b)(Object(d.b)(y.a)));Object(s.a)([Object(g.b)({type:w.a,json:{write:{isRequired:!0}}})],x.prototype,"position",void 0),Object(s.a)([Object(g.b)({type:I.a}),Object(m.a)()],x.prototype,"elevationInfo",void 0),Object(s.a)([Object(g.b)(O)],x.prototype,"feature",void 0);var k=x=Object(s.a)([Object(h.a)("esri.analysis.LineOfSightAnalysisObserver")],x),S=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).position=null,r.elevationInfo=null,r.feature=null,r}return Object(o.a)(n,[{key:"equals",value:function(e){return Object(f.g)(this.position,e.position)&&Object(f.g)(this.elevationInfo,e.elevationInfo)&&p(this.feature,e.feature)}}]),n}(Object(v.b)(d.a));Object(s.a)([Object(g.b)({type:w.a}),Object(m.a)()],S.prototype,"position",void 0),Object(s.a)([Object(g.b)({type:I.a}),Object(m.a)()],S.prototype,"elevationInfo",void 0),Object(s.a)([Object(g.b)(O)],S.prototype,"feature",void 0);var P=S=Object(s.a)([Object(h.a)("esri.analysis.LineOfSightAnalysisTarget")],S),R=n(145),E=n(264),F=n(127),N=n(206),z=n(392),L=n(524),U=R.a.ofType(P),q=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).type="line-of-sight",r.observer=null,r.extent=null,r}return Object(o.a)(n,[{key:"initialize",value:function(){var e=this;this.addHandles(Object(F.e)((function(){return e._computeExtent()}),(function(t){null!=t&&null!=t.pending||e._set("extent",null!=t?t.extent:null)}),F.d))}},{key:"targets",get:function(){return this._get("targets")||new U},set:function(e){this._set("targets",Object(E.b)(e,this.targets,U))}},{key:"spatialReference",get:function(){return null!=this.observer&&null!=this.observer.position?this.observer.position.spatialReference:null}},{key:"requiredPropertiesForEditing",get:function(){return[Object(f.b)(this.observer,(function(e){return e.position}))]}},{key:"waitComputeExtent",value:function(){var e=Object(i.a)(Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._computeExtent(),e.abrupt("return",null!=t?t.pending:Promise.resolve());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_computeExtent",value:function(){var e=this.spatialReference;if(null==this.observer||null==this.observer.position||null==e)return null;var t,n=function(e){return"absolute-height"===Object(L.e)(e.position,e.elevationInfo)},r=this.observer.position,i=Object(z.j)(r.x,r.y,r.z,r.x,r.y,r.z),a=Object(u.a)(this.targets);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(null!=o.position){var l=Object(N.projectOrLoad)(o.position,e);if(null!=l.pending)return{pending:l.pending,extent:null};if(null!=l.geometry){var c=l.geometry,s=c.x,b=c.y,p=c.z;Object(z.g)(i,[s,b,p])}}}}catch(O){a.e(O)}finally{a.f()}var j=Object(z.p)(i,e);return n(this.observer)&&this.targets.every(n)||(j.zmin=void 0,j.zmax=void 0),{pending:null,extent:j}}},{key:"clear",value:function(){this.observer=null,this.targets.removeAll()}}]),n}(b.a);Object(s.a)([Object(g.b)({type:["line-of-sight"]})],q.prototype,"type",void 0),Object(s.a)([Object(g.b)({type:k,json:{read:!0,write:!0}})],q.prototype,"observer",void 0),Object(s.a)([Object(g.b)({cast:E.a,type:U,nonNullable:!0,json:{read:!0,write:!0}})],q.prototype,"targets",null),Object(s.a)([Object(g.b)({value:null,readOnly:!0})],q.prototype,"extent",void 0),Object(s.a)([Object(g.b)({readOnly:!0})],q.prototype,"spatialReference",null),Object(s.a)([Object(g.b)({readOnly:!0})],q.prototype,"requiredPropertiesForEditing",null);var A=q=Object(s.a)([Object(h.a)("esri.analysis.LineOfSightAnalysis")],q),_=n(281),T=n(259),J=n(311),B=R.a.ofType(P),C=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).type="line-of-sight",r.operationalLayerType="LineOfSightLayer",r.analysis=new A,r.opacity=1,r}return Object(o.a)(n,[{key:"initialize",value:function(){var e=this;this.addHandles(Object(F.e)((function(){return e.analysis}),(function(t,n){null!=n&&n.parent===e&&(n.parent=null),null!=t&&(t.parent=e)}),F.d))}},{key:"load",value:function(){var e=Object(i.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(null!=this.analysis&&this.addResolvingPromise(this.analysis.waitComputeExtent()),this));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"observer",get:function(){return Object(f.b)(this.analysis,(function(e){return e.observer}))},set:function(e){Object(f.b)(this.analysis,(function(t){return t.observer=e}))}},{key:"targets",get:function(){return null!=this.analysis?this.analysis.targets:new R.a},set:function(e){var t;Object(E.b)(e,null===(t=this.analysis)||void 0===t?void 0:t.targets)}},{key:"fullExtent",get:function(){return null!=this.analysis?this.analysis.extent:null}},{key:"spatialReference",get:function(){return null!=this.analysis?this.analysis.spatialReference:null}},{key:"releaseAnalysis",value:function(e){this.analysis===e&&(this.analysis=new A)}}]),n}(Object(J.a)(Object(_.a)(T.a)));Object(s.a)([Object(g.b)({json:{read:!1},readOnly:!0})],C.prototype,"type",void 0),Object(s.a)([Object(g.b)({type:["LineOfSightLayer"]})],C.prototype,"operationalLayerType",void 0),Object(s.a)([Object(g.b)({type:k,json:{read:!0,write:{isRequired:!0,ignoreOrigin:!0}}})],C.prototype,"observer",null),Object(s.a)([Object(g.b)({type:B,json:{read:!0,write:{ignoreOrigin:!0}}})],C.prototype,"targets",null),Object(s.a)([Object(g.b)({nonNullable:!0,json:{read:!1,write:!1}})],C.prototype,"analysis",void 0),Object(s.a)([Object(g.b)({readOnly:!0})],C.prototype,"fullExtent",null),Object(s.a)([Object(g.b)({readOnly:!0})],C.prototype,"spatialReference",null),Object(s.a)([Object(g.b)({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],C.prototype,"opacity",void 0),Object(s.a)([Object(g.b)({type:["show","hide"]})],C.prototype,"listMode",void 0);var D=C=Object(s.a)([Object(h.a)("esri.layers.LineOfSightLayer")],C)},638:function(e,t,n){"use strict";function r(e){return e&&"getAtOrigin"in e&&"originOf"in e}n.d(t,"a",(function(){return r}))},700:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(4),i=n(12),a=n(1),o=n(92),l=n(638),c=n(128),s=n(564),u=n(500),b=n(292),p=n(97),j=n(701),O=n(215);function y(e){var t,n=null!==(t=null===e||void 0===e?void 0:e.origins)&&void 0!==t?t:[void 0];return function(t,r){var i,s=function(e,t,n){var r;if("resource"===(null===e||void 0===e?void 0:e.type))return function(e,t,n){var r=Object(u.b)(t,n);return{type:String,read:function(e,t,n){var i=Object(O.g)(e,t,n);return r.type===String?i:"function"==typeof r.type?new r.type({url:i}):void 0},write:{writer:function(t,i,o,s){if(!s||!s.resources)return"string"==typeof t?void(i[o]=Object(O.h)(t,s)):void(i[o]=t.write({},s));var u=function(e){return null==e?null:"string"==typeof e?e:e.url}(t),p=Object(O.h)(u,Object(a.a)(Object(a.a)({},s),{},{verifyItemRelativeUrls:s&&s.verifyItemRelativeUrls?{writtenUrls:s.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0}),O.a.NO),y=r.type!==String&&(!Object(l.a)(this)||s&&s.origin&&this.originIdOf(n)>Object(b.e)(s.origin)),g={object:this,propertyName:n,value:t,targetUrl:p,dest:i,targetPropertyName:o,context:s,params:e};s&&s.portalItem&&p&&!Object(c.w)(p)?y?function(e){var t,n=e.context,r=e.targetUrl,i=e.params,o=e.value,l=e.dest,s=e.targetPropertyName;if(!n.portalItem)return;var u=n.portalItem.resourceFromPath(r),b=f(o,r,n),p=Object(j.a)(b),O=Object(c.q)(u.path),y=null!==(t=null===i||void 0===i?void 0:i.compress)&&void 0!==t&&t;p===O?(n.resources&&v(Object(a.a)(Object(a.a)({},e),{},{resource:u,content:b,compress:y,updates:n.resources.toUpdate})),l[s]=r):d(e)}(g):function(e){var t=e.context,n=e.targetUrl,r=e.dest,i=e.targetPropertyName;t.portalItem&&t.resources&&(t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n),compress:!1}),r[i]=n)}(g):s&&s.portalItem&&(null==p||null!=Object(O.e)(p)||Object(c.x)(p)||y)?d(g):i[o]=p}}}}(e,t,n);switch(null!==(r=null===e||void 0===e?void 0:e.type)&&void 0!==r?r:"other"){case"other":return{read:!0,write:!0};case"url":return{read:O.b.read,write:O.b.write}}}(e,t,r),y=Object(o.a)(n);try{for(y.s();!(i=y.n()).done;){var g=i.value,h=Object(p.c)(t,g,r);for(var m in s)h[m]=s[m]}}catch(w){y.e(w)}finally{y.f()}}}function d(e){var t,n,r,i=e.targetUrl,o=e.params,l=e.value,u=e.context,b=e.dest,p=e.targetPropertyName;if(u.portalItem){var y=Object(O.f)(i),d=null!==(t=null===y||void 0===y?void 0:y.filename)&&void 0!==t?t:Object(s.b)(),h=null!==(n=null===o||void 0===o?void 0:o.prefix)&&void 0!==n?n:null===y||void 0===y?void 0:y.prefix,m=f(l,i,u),w=Object(c.D)(h,d),I="".concat(w,".").concat(Object(j.a)(m)),x=u.portalItem.resourceFromPath(I);Object(c.x)(i)&&u.resources&&u.resources.pendingOperations.push(function(e){return g.apply(this,arguments)}(i).then((function(e){x.path="".concat(w,".").concat(Object(j.a)(e)),b[p]=x.itemRelativeUrl})).catch((function(){})));var k=null!==(r=null===o||void 0===o?void 0:o.compress)&&void 0!==r&&r;u.resources&&v(Object(a.a)(Object(a.a)({},e),{},{resource:x,content:m,compress:k,updates:u.resources.toAdd})),b[p]=x.itemRelativeUrl}}function v(e){var t=e.object,n=e.propertyName,r=e.updates,i=e.resource,a=e.content,o=e.compress;r.push({resource:i,content:a,compress:o,finish:function(e){!function(e,t,n){"string"==typeof e[t]?e[t]=n.url:e[t].url=n.url}(t,n,e)}})}function f(e,t,n){return"string"==typeof e?{url:t}:new Blob([JSON.stringify(e.toJSON(n))],{type:"application/json"})}function g(){return(g=Object(i.a)(Object(r.a)().mark((function e(t){var i,a,o;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.bind(null,129));case 2:return i=e.sent.default,e.next=5,i(t,{responseType:"blob"});case 5:return a=e.sent,o=a.data,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},701:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(128);function i(e){return a[function(e){return e instanceof Blob?e.type:function(e){var t=Object(r.q)(e);return c[t]||o}(e.url)}(e)]||l}var a={},o="text/plain",l=a[o],c={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(var s in c)a[c[s]]=s}}]);
//# sourceMappingURL=196.6811db99.chunk.js.map
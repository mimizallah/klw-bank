{"version":3,"sources":["../node_modules/@arcgis/core/symbols/support/gfxUtils.js","../node_modules/@arcgis/core/symbols/support/cimSymbolUtils.js","../node_modules/@arcgis/core/symbols/cim/utils.js","../node_modules/@arcgis/core/symbols/support/utils.js"],"names":["n","l","c","a","m","p","u","o","f","t","r","style","type","color","x","y","src","e","concat","width","height","url","s","xscale","yscale","xoffset","yoffset","i","h","get","Promise","resolve","responseType","then","data","naturalWidth","naturalHeight","document","createElement","getContext","fillStyle","fillRect","globalCompositeOperation","drawImage","toDataURL","put","outline","d","cap","join","miterLimit","replaceAll","g","effects","_step3","_iterator3","_createForOfIteratorHelper","done","value","err","symbolLayers","_step4","_iterator4","preserveOutlineWidth","offsetX","offsetY","lineSymbol","_objectSpread","separation","markerPlacement","offset","customEndingOffset","offsetAlongLine","placementTemplate","length","map","maxRandomOffset","startPointOffset","beginPosition","endPosition","stepX","stepY","M","anchorPoint","anchorPointUnits","size","markerGraphics","_step5","_iterator5","scaleSymbolsProportionally","symbol","beginCut","endCut","middleCut","dashTemplate","radius","fromWidth","toWidth","amplitude","period","C","_n","_i$markerGraphics","_step6","_iterator6","colorLocked","tintColor","b","forEach","_step7","_iterator7","push","includes","charAt","indexOf","substr","_step","_iterator","_i2","_slicedToArray","attributes","String","toLowerCase","toUpperCase","arguments","undefined","Math","ceil","I","floor","abs","sqrt","_e$data$symbol","_e$data","isNaN","_step2","_iterator2","S","weight","k","underline","strikethrough","P","w","L","G","A","Object","keys","name","alias","F","O","some","resource","href","_e$resource","material","toRgba","_ref","_t2","_e$resource2","j","_t4","_x","_x2","_L","apply","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","wrap","_context2","prev","next","t0","_ref2","_callee","_context","abrupt","z","stop","_x12","_x3","_x4","_z","_callee3","_context3","U","E","v","_x5","_x6","_v","_callee4","_yield$C","_context4","sent","resourceSize","symbolSize","depth","_x7","_C","_callee5","_yield$import","_s","_e2","_s2","_context5","computeObjectLayerResourceSize","R","font","D","_x8","_x9","_D","_callee6","_context6","tilt","roll","heading","angle","J","filter","toJSON","q","_x10","_x11","_q","_callee7","_context7","fetchSymbol","fetchCIMSymbol"],"mappings":"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","file":"static/js/23.4305f2ad.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as e}from\"../../assets.js\";import t from\"../../Color.js\";import r from\"../../request.js\";import{LRUCache as o}from\"../../core/LRUCache.js\";import{pt2px as s}from\"../../core/screenUtils.js\";import{getCIMSymbolColor as i}from\"./cimSymbolUtils.js\";const n=\"picture-fill\",l=\"simple-fill\",c=\"simple-line\",a=\"simple-marker\",m=\"text\",p=\"cim\",u=new o(1e3);function f(t){const r=t.style;let o=null;if(t)switch(t.type){case a:\"cross\"!==r&&\"x\"!==r&&(o=t.color);break;case l:\"solid\"===r?o=t.color:\"none\"!==r&&(o={type:\"pattern\",x:0,y:0,src:e(`esri/symbols/patterns/${r}.png`),width:5,height:5});break;case n:o={type:\"pattern\",src:t.url,width:s(t.width)*t.xscale,height:s(t.height)*t.yscale,x:s(t.xoffset),y:s(t.yoffset)};break;case m:o=t.color;break;case p:o=i(t)}return o}function h(e,t){const o=e+\"-\"+t;return void 0!==u.get(o)?Promise.resolve(u.get(o)):r(e,{responseType:\"image\"}).then((e=>{const r=e.data,s=r.naturalWidth,i=r.naturalHeight,n=document.createElement(\"canvas\");n.width=s,n.height=i;const l=n.getContext(\"2d\");l.fillStyle=t,l.fillRect(0,0,s,i),l.globalCompositeOperation=\"destination-in\",l.drawImage(r,0,0);const c=n.toDataURL();return u.put(o,c),c}))}function y(e){if(!e)return null;let t=null;switch(e.type){case l:case n:case a:t=y(e.outline);break;case c:{const r=s(e.width);null!=e.style&&\"none\"!==e.style&&0!==r&&(t={color:e.color,style:d(e.style),width:r,cap:e.cap,join:\"miter\"===e.join?s(e.miterLimit):e.join});break}default:t=null}return t}const d=(()=>{const e={};return t=>{if(e[t])return e[t];const r=t.replaceAll(\"-\",\"\");return e[t]=r,r}})(),g=new t([128,128,128]);export{g as defaultThematicColor,d as dekebabifyLineStyle,f as getFill,h as getPatternUrlWithColor,y as getStroke};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import{toCIMSymbolJSON as t,isCIMMarker as o,isCIMStroke as r,isCIMFill as n,isCIMMarkerStrokePlacement as s,fromCIMColor as a}from\"../cim/utils.js\";function i(e){const s=t(e);if(\"CIMTextSymbol\"===s?.type)return s.height??0;let a=0;if(s?.symbolLayers)for(const t of s.symbolLayers)o(t)&&null!=t.size&&t.size>a?a=t.size:r(t)&&null!=t.width&&t.width>a?a=t.width:n(t);return a}function c(e,o,r){if(!e)return;const n=t(e),s=i(e);if(0===s)return void f(n,o);l(n,o/s,!1,r)}function f(e,t){if(e)if(\"CIMTextSymbol\"!==e.type){if(e.symbolLayers)for(const o of e.symbolLayers)switch(o.type){case\"CIMPictureMarker\":case\"CIMVectorMarker\":o.size=t;break;case\"CIMPictureStroke\":case\"CIMSolidStroke\":o.width=t}}else e.height=t}function l(e,t,o,r){if(e)if(\"CIMTextSymbol\"!==e.type){if(o&&e.effects)for(const o of e.effects)y(o,t);if(e.symbolLayers)for(const o of e.symbolLayers)switch(o.type){case\"CIMPictureMarker\":case\"CIMVectorMarker\":m(o,t,r);break;case\"CIMPictureStroke\":case\"CIMSolidStroke\":!r?.preserveOutlineWidth&&o.width&&(o.width*=t);break;case\"CIMPictureFill\":o.height&&(o.height*=t),o.offsetX&&(o.offsetX*=t),o.offsetY&&(o.offsetY*=t);break;case\"CIMHatchFill\":l(o.lineSymbol,t,!0,{...r,preserveOutlineWidth:!1}),o.offsetX&&(o.offsetX*=t),o.offsetY&&(o.offsetY*=t),o.separation&&(o.separation*=t)}}else null!=e.height&&(e.height*=t)}function m(e,t,o){if(e&&(e.markerPlacement&&M(e.markerPlacement,t),e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.anchorPoint&&\"Absolute\"===e.anchorPointUnits&&(e.anchorPoint={x:e.anchorPoint.x*t,y:e.anchorPoint.y*t}),e.size=null!=e.size?e.size*t:0,\"CIMVectorMarker\"===e.type&&e.markerGraphics))for(const r of e.markerGraphics)e.scaleSymbolsProportionally||l(r.symbol,t,!0,o)}function M(e,t){switch(s(e)&&e.offset&&(e.offset*=t),e.type){case\"CIMMarkerPlacementAlongLineRandomSize\":case\"CIMMarkerPlacementAlongLineSameSize\":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.placementTemplate&&e.placementTemplate.length){const o=e.placementTemplate.map((e=>e*t));e.placementTemplate=o}break;case\"CIMMarkerPlacementAlongLineVariableSize\":if(e.maxRandomOffset&&(e.maxRandomOffset*=t),e.placementTemplate&&e.placementTemplate.length){const o=e.placementTemplate.map((e=>e*t));e.placementTemplate=o}break;case\"CIMMarkerPlacementOnLine\":e.startPointOffset&&(e.startPointOffset*=t);break;case\"CIMMarkerPlacementAtExtremities\":e.offsetAlongLine&&(e.offsetAlongLine*=t);break;case\"CIMMarkerPlacementAtMeasuredUnits\":case\"CIMMarkerPlacementOnVertices\":break;case\"CIMMarkerPlacementAtRatioPositions\":e.beginPosition&&(e.beginPosition*=t),e.endPosition&&(e.endPosition*=t);break;case\"CIMMarkerPlacementPolygonCenter\":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case\"CIMMarkerPlacementInsidePolygon\":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.stepX&&(e.stepX*=t),e.stepY&&(e.stepY*=t)}}function y(e,t){switch(e.type){case\"CIMGeometricEffectArrow\":case\"CIMGeometricEffectDonut\":e.width&&(e.width*=t);break;case\"CIMGeometricEffectBuffer\":e.size&&(e.size*=t);break;case\"CIMGeometricEffectCut\":e.beginCut&&(e.beginCut*=t),e.endCut&&(e.endCut*=t),e.middleCut&&(e.middleCut*=t);break;case\"CIMGeometricEffectDashes\":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.dashTemplate&&e.dashTemplate.length){const o=e.dashTemplate.map((e=>e*t));e.dashTemplate=o}break;case\"CIMGeometricEffectExtension\":case\"CIMGeometricEffectJog\":case\"CIMGeometricEffectRadial\":e.length&&(e.length*=t);break;case\"CIMGeometricEffectMove\":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case\"CIMGeometricEffectOffset\":case\"CIMGeometricEffectOffsetTangent\":e.offset&&(e.offset*=t);break;case\"CIMGeometricEffectRegularPolygon\":e.radius&&(e.radius*=t);break;case\"CIMGeometricEffectTaperedPolygon\":e.fromWidth&&(e.fromWidth*=t),e.length&&(e.length*=t),e.toWidth&&(e.toWidth*=t);break;case\"CIMGeometricEffectWave\":e.amplitude&&(e.amplitude*=t),e.period&&(e.period*=t)}}function C(o){const r=[];return u(t(o),r),r.length?new e(a(r[0])):null}function u(e,t){if(!e)return;let n;n=\"CIMTextSymbol\"===e.type?e.symbol:e;const a=\"CIMPolygonSymbol\"===e.type;if(n?.symbolLayers)for(const i of n.symbolLayers)if(!(i.colorLocked||a&&(r(i)||o(i)&&i.markerPlacement&&s(i.markerPlacement))))switch(i.type){case\"CIMPictureMarker\":case\"CIMPictureStroke\":case\"CIMPictureFill\":i.tintColor&&b(t,i.tintColor);break;case\"CIMVectorMarker\":i.markerGraphics?.forEach((e=>{u(e.symbol,t)}));break;case\"CIMSolidStroke\":case\"CIMSolidFill\":b(t,i.color);break;case\"CIMHatchFill\":u(i.lineSymbol,t)}}function b(e,t){for(const o of e)if(o.join(\".\")===t.join(\".\"))return;e.push(t)}function I(o,r,n){r instanceof e||(r=new e(r));const s=t(o);s&&k(s,r,n)}function k(e,t,a){if(!e)return;let i;i=\"CIMTextSymbol\"===e.type?e.symbol:e;const c=\"CIMPolygonSymbol\"===i?.type;if(i?.symbolLayers)for(const f of i.symbolLayers){if(f.colorLocked)continue;if(c)if(a){const{layersToColor:e}=a;if((r(f)||o(f)&&f.markerPlacement&&s(f.markerPlacement))&&\"fill\"===e||n(f)&&\"outline\"===e)continue}else if(r(f)||o(f)&&f.markerPlacement&&s(f.markerPlacement))continue;const e=t.toArray();switch(f.type){case\"CIMPictureMarker\":case\"CIMPictureStroke\":case\"CIMPictureFill\":f.tintColor=e;break;case\"CIMVectorMarker\":f.markerGraphics?.forEach((e=>{k(e.symbol,t,a)}));break;case\"CIMSolidStroke\":case\"CIMSolidFill\":f.color=e;break;case\"CIMHatchFill\":k(f.lineSymbol,t,a)}}}function p(e,o=!1){const r=t(e);if(\"CIMTextSymbol\"===r?.type||\"CIMPointSymbol\"===r?.type){const e=r.angle;return null!=e&&0!==e&&o?360-e:e??0}return 0}function h(e,r,n=!1){const s=t(e);if(n&&0!==r&&(r=360-r),\"CIMTextSymbol\"!==s?.type){if(\"CIMPointSymbol\"===s?.type&&s.symbolLayers){const e=r-(s.angle||0);for(const t of s.symbolLayers)if(o(t)){let o=t.rotation||0;t.rotateClockwise?o-=e:o+=e,t.rotation=o}s.angle=r}}else s.angle=r}function P(e){const o=t(e);if(!o)return null;switch(o.type){case\"CIMPointSymbol\":return\"CIMPointSymbol\";case\"CIMLineSymbol\":return\"CIMLineSymbol\";case\"CIMPolygonSymbol\":return\"CIMPolygonSymbol\";case\"CIMTextSymbol\":return\"CIMTextSymbol\";case\"CIMMeshSymbol\":return\"CIMMeshSymbol\";default:return null}}export{I as applyCIMSymbolColor,h as applyCIMSymbolRotation,C as getCIMSymbolColor,p as getCIMSymbolRotation,i as getCIMSymbolSize,P as getCIMSymbolType,m as scaleCIMMarker,l as scaleCIMSymbol,c as scaleCIMSymbolTo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction e(e){return\"function\"==typeof e}function t(t,r,n,o){return e(t)?t(r,n,o):t}function r(e){return[e.r,e.g,e.b,e.a]}const n=\" /-,\\n\";function o(e){let t=e.length;for(;t--;)if(!n.includes(e.charAt(t)))return!1;return!0}function i(e,t){const r=[];let n=0,i=-1;do{if(i=e.indexOf(\"[\",n),i>=n){if(i>n){const t=e.substr(n,i-n);r.push([t,null,o(t)])}if(n=i+1,i=e.indexOf(\"]\",n),i>=n){if(i>n){const o=t[e.substr(n,i-n)];o&&r.push([null,o,!1])}n=i+1}}}while(-1!==i);if(n<e.length-1){const t=e.substr(n);r.push([t,null,o(t)])}return r}function l(e,t,r){let n=\"\",o=null;for(const i of t){const[t,r,l]=i;if(t)l?o=t:(o&&(n+=o,o=null),n+=t);else{const t=e.attributes[r];t&&(o&&(n+=o,o=null),n+=t)}}return s(n,r)}function c(e,t,r){const n=i(t,e);return e=>l(e,n,r)}function s(e,t){switch(\"string\"!=typeof e&&(e=String(e)),t){case\"LowerCase\":return e.toLowerCase();case\"Allcaps\":return e.toUpperCase();default:return e}}function a(e,t,r,n,o,i,l=!0){const c=t/o,s=r/i,a=Math.ceil(c/2),u=Math.ceil(s/2);for(let f=0;f<i;f++)for(let r=0;r<o;r++){const y=4*(r+(l?i-f-1:f)*o);let M=0,C=0,m=0,b=0,p=0,d=0,I=0;const h=(f+.5)*s;for(let n=Math.floor(f*s);n<(f+1)*s;n++){const o=Math.abs(h-(n+.5))/u,i=(r+.5)*c,l=o*o;for(let s=Math.floor(r*c);s<(r+1)*c;s++){let r=Math.abs(i-(s+.5))/a;const o=Math.sqrt(l+r*r);o>=-1&&o<=1&&(M=2*o*o*o-3*o*o+1,M>0&&(r=4*(s+n*t),I+=M*e[r+3],m+=M,e[r+3]<255&&(M=M*e[r+3]/250),b+=M*e[r],p+=M*e[r+1],d+=M*e[r+2],C+=M))}}n[y]=b/C,n[y+1]=p/C,n[y+2]=d/C,n[y+3]=I/m}}function u(e){return e?{r:e[0],g:e[1],b:e[2],a:e[3]/255}:{r:0,g:0,b:0,a:0}}function f(e){return e.data?.symbol??null}function y(e){return\"CIMVectorMarker\"===e.type||\"CIMPictureMarker\"===e.type||\"CIMBarChartMarker\"===e.type||\"CIMCharacterMarker\"===e.type||\"CIMPieChartMarker\"===e.type||\"CIMStackedBarChartMarker\"===e.type}function M(e){return\"CIMGradientStroke\"===e.type||\"CIMPictureStroke\"===e.type||\"CIMSolidStroke\"===e.type}function C(e){return null!=e&&(\"CIMGradientFill\"===e.type||\"CIMHatchFill\"===e.type||\"CIMPictureFill\"===e.type||\"CIMSolidFill\"===e.type||\"CIMWaterFill\"===e.type)}function m(e){return null!=e&&(\"CIMMarkerPlacementAlongLineRandomSize\"===e.type||\"CIMMarkerPlacementAlongLineSameSize\"===e.type||\"CIMMarkerPlacementAlongLineVariableSize\"===e.type||\"CIMMarkerPlacementAtExtremities\"===e.type||\"CIMMarkerPlacementAtMeasuredUnits\"===e.type||\"CIMMarkerPlacementAtRatioPositions\"===e.type||\"CIMMarkerPlacementOnLine\"===e.type||\"CIMMarkerPlacementOnVertices\"===e.type)}const b=(e,t=0)=>null==e||isNaN(e)?t:e,p=e=>e.tintColor?u(e.tintColor):{r:255,g:255,b:255,a:1},d=e=>{if(!e)return!1;for(const t of e)switch(t.type){case\"CIMGeometricEffectBuffer\":case\"CIMGeometricEffectOffset\":case\"CIMGeometricEffectDonut\":return!0}return!1};function I(){return import(\"../../geometry/geometryEngineJSON.js\")}function h(e){if(!e)return\"normal\";switch(e.toLowerCase()){case\"italic\":return\"italic\";case\"oblique\":return\"oblique\";default:return\"normal\"}}function g(e){if(!e)return\"normal\";switch(e.toLowerCase()){case\"bold\":return\"bold\";case\"bolder\":return\"bolder\";case\"lighter\":return\"lighter\";default:return\"normal\"}}function S(e){let t=\"normal\",r=\"normal\";if(e){const n=e.toLowerCase();n.includes(\"italic\")?t=\"italic\":n.includes(\"oblique\")&&(t=\"oblique\"),n.includes(\"bold\")?r=\"bold\":n.includes(\"light\")&&(r=\"lighter\")}return{style:t,weight:r}}function k(e){return e.underline?\"underline\":e.strikethrough?\"line-through\":\"none\"}function P(e){if(!e)return null;switch(e.type){case\"CIMPolygonSymbol\":if(e.symbolLayers)for(const t of e.symbolLayers){const e=P(t);if(null!=e)return e}break;case\"CIMTextSymbol\":return P(e.symbol);case\"CIMSolidFill\":return e.color}}function w(e){if(e)switch(e.type){case\"CIMPolygonSymbol\":case\"CIMLineSymbol\":{const t=e.symbolLayers;if(t)for(const e of t){const t=w(e);if(null!=t)return t}break}case\"CIMTextSymbol\":return w(e.symbol);case\"CIMSolidStroke\":return e.color}}function L(e){if(e)switch(e.type){case\"CIMPolygonSymbol\":case\"CIMLineSymbol\":if(e.symbolLayers)for(const t of e.symbolLayers){const e=L(t);if(void 0!==e)return e}break;case\"CIMTextSymbol\":return L(e.symbol);case\"CIMSolidStroke\":case\"CIMGradientStroke\":case\"CIMPictureStroke\":return e.width}}function x(e){switch(e){case\"Left\":default:return\"left\";case\"Right\":return\"right\";case\"Center\":case\"Justify\":return\"center\"}}function G(e){switch(e){case\"Top\":default:return\"top\";case\"Center\":return\"middle\";case\"Baseline\":return\"baseline\";case\"Bottom\":return\"bottom\"}}function A(e){return(e?Object.keys(e):[]).map((t=>({name:t,alias:t,type:\"string\"==typeof e[t]?\"esriFieldTypeString\":\"esriFieldTypeDouble\"})))}const F=e=>e.includes(\"data:image/svg+xml\");function O(e){if(!e)return null;switch(e.type){case\"CIMPointSymbol\":case\"CIMTextSymbol\":return\"esriGeometryPoint\";case\"CIMLineSymbol\":return\"esriGeometryPolyline\";case\"CIMPolygonSymbol\":return\"esriGeometryPolygon\";default:return null}}export{s as adjustTextCase,i as analyzeTextParts,l as assignTextValuesFromFeature,A as attributesToFields,r as colorToArray,c as createLabelOverrideFunction,t as evaluateValueOrFunction,u as fromCIMColor,k as fromCIMFontDecoration,S as fromCIMFontStyle,x as fromCIMHorizontalAlignment,G as fromCIMVerticalAlignment,P as getFillColor,h as getFontStyle,g as getFontWeight,w as getStrokeColor,L as getStrokeWidth,p as getTintColor,b as getValue,I as importGeometryEngine,C as isCIMFill,y as isCIMMarker,m as isCIMMarkerStrokePlacement,M as isCIMStroke,e as isFeatureValueFn,d as isGeometryEngineRequired,F as isSVGImage,O as mapCIMSymbolToGeometryType,a as resampleHermite,f as toCIMSymbolJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import{isSymbol3D as t,isSymbol2D as o}from\"../../symbols.js\";import{forEach as n}from\"../../core/asyncUtils.js\";import\"../../core/has.js\";import{unwrapOrThrow as r}from\"../../core/maybe.js\";import{px2pt as l}from\"../../core/screenUtils.js\";import{O as i}from\"../../chunks/vec3f64.js\";import{effectFunctionsFromJSON as c}from\"../../layers/effects/jsonUtils.js\";import{getCIMSymbolColor as s}from\"./cimSymbolUtils.js\";import{getStroke as u}from\"./gfxUtils.js\";import{Symbol3DMaterial as a}from\"./Symbol3DMaterial.js\";const f=new e(\"white\");function m(e){const t=e.symbolLayers?.at(-1);if(t&&\"outline\"in t)return t?.outline?.size}function y(e){if(!e)return 0;if(t(e)){const t=m(e);return null!=t?t:0}return l(u(e)?.width)}function p(e){if(null==e||!(\"symbolLayers\"in e)||null==e.symbolLayers)return!1;switch(e.type){case\"point-3d\":return e.symbolLayers.some((e=>\"object\"===e.type));case\"line-3d\":return e.symbolLayers.some((e=>\"path\"===e.type));case\"polygon-3d\":return e.symbolLayers.some((e=>\"object\"===e.type||\"extrude\"===e.type));default:return!1}}function h(e){return r(e.resource).href}function b(n,r){if(!n)return null;let l=null;return t(n)?l=w(n):o(n)&&(l=\"cim\"===n.type?s(n):n.color?new e(n.color):null),l?d(l,r):null}function w(t){const o=t.symbolLayers;if(!o)return null;let n=null;return o.forEach((e=>{\"object\"===e.type&&e.resource?.href||(n=\"water\"===e.type?e.color:e.material?e.material.color:null)})),n?new e(n):null}function d(t,o){if(null==o||null==t)return t;const n=t.toRgba();return n[3]=n[3]*o,new e(n)}function j(e,t,o){const n=e.symbolLayers;if(!n)return;const r=e=>d(t=t??e??(null!=o?f:null),o);n.forEach((e=>{if(\"object\"!==e.type||!e.resource?.href||t)if(\"water\"===e.type)e.color=r(e.color);else{const t=null!=e.material?e.material.color:null,n=r(t);null==e.material?e.material=new a({color:n}):e.material.color=n,null!=o&&\"outline\"in e&&null!=e.outline&&null!=e.outline.color&&(e.outline.color=d(e.outline.color,o))}}))}function k(e,t,o){(t=t??e.color)&&(e.color=d(t,o)),null!=o&&\"outline\"in e&&e.outline&&e.outline.color&&(e.outline.color=d(e.outline.color,o))}function g(n,r,l){n&&(r||null!=l)&&(r&&(r=new e(r)),t(n)?j(n,r,l):o(n)&&k(n,r,l))}async function L(e,t){const o=e.symbolLayers;o&&await n(o,(async e=>z(e,t)))}async function z(e,t){switch(e.type){case\"extrude\":U(e,t);break;case\"icon\":case\"line\":case\"text\":S(e,t);break;case\"path\":E(e,t);break;case\"object\":await v(e,t)}}function S(e,t){const o=x(t);null!=o&&(e.size=o)}function x(e){for(const t of e)if(\"number\"==typeof t)return t;return null}function U(e,t){e.size=\"number\"==typeof t[2]?t[2]:0}async function v(e,t){const{resourceSize:o,symbolSize:n}=await C(e),r=O(t,o,n);e.width=M(t[0],n[0],o[0],r),e.depth=M(t[1],n[1],o[1],r),e.height=M(t[2],n[2],o[2],r)}function E(e,t){const o=O(t,i,[e.width,void 0,e.height]);e.width=M(t[0],e.width,1,o),e.height=M(t[2],e.height,1,o)}function O(e,t,o){for(let n=0;n<3;n++){const r=e[n];switch(r){case\"symbol-value\":{const e=o[n];return null!=e?e/t[n]:1}case\"proportional\":break;default:if(r&&t[n])return r/t[n]}}return 1}async function C(e){const{computeObjectLayerResourceSize:t}=await import(\"./symbolLayerUtils.js\"),o=await t(e,10),{width:n,height:r,depth:l}=e,i=[n,l,r];let c=1;for(let s=0;s<3;s++){const e=i[s];if(null!=e){c=e/o[s];break}}for(let s=0;s<3;s++)null==i[s]&&(i[s]=o[s]*c);return{resourceSize:o,symbolSize:i}}function M(e,t,o,n){switch(e){case\"proportional\":return o*n;case\"symbol-value\":return null!=t?t:o;default:return e}}function R(e,t){const o=x(t);if(null!=o)switch(e.type){case\"simple-marker\":e.size=o;break;case\"picture-marker\":{const t=e.width/e.height;t>1?(e.width=o,e.height=o*t):(e.width=o*t,e.height=o);break}case\"simple-line\":e.width=o;break;case\"text\":e.font.size=o}}async function D(e,n){if(e&&n)return t(e)?L(e,n):void(o(e)&&R(e,n))}function I(e,n,r){if(e&&null!=n)if(t(e)){const t=e.symbolLayers;t&&t.forEach((e=>{if(e&&\"object\"===e.type)switch(r){case\"tilt\":e.tilt=n;break;case\"roll\":e.roll=n;break;default:e.heading=n}}))}else o(e)&&(\"simple-marker\"!==e.type&&\"picture-marker\"!==e.type&&\"text\"!==e.type||(e.angle=n))}function J(e){if(!e)return null;const t=e.effects.filter((e=>\"bloom\"!==e.type)).map((e=>e.toJSON()));return c(t)}function N(e){return null!=e&&\"polygon-3d\"===e.type&&e.symbolLayers.some((e=>\"extrude\"===e.type))}async function q(e,t){const o=await e.fetchSymbol(t);return o||e.fetchCIMSymbol(t)}export{g as applyColorToSymbol,d as applyOpacityToColor,I as applyRotationToSymbol,D as applySizesToSymbol,q as fetchWebStyleSymbol,J as getCSSFilterFromEffectList,b as getColorFromSymbol,h as getIconHref,y as getSymbolOutlineSize,p as isVolumetricSymbol,N as symbolHasExtrudeSymbolLayer};\n"],"sourceRoot":""}
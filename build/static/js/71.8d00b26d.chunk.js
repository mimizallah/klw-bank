(this["webpackJsonpklw-bank"]=this["webpackJsonpklw-bank"]||[]).push([[71],{2281:function(e,t,r){"use strict";r.r(t),r.d(t,"executeRelationshipQuery",(function(){return v})),r.d(t,"executeRelationshipQueryForCount",(function(){return R}));var n=r(1),a=r(4),c=r(12),u=r(221),o=r(92),i=r(129),s=r(814);function d(e,t){var r=e.toJSON();return r.objectIds&&(r.objectIds=r.objectIds.join(",")),r.orderByFields&&(r.orderByFields=r.orderByFields.join(",")),!r.outFields||null!==t&&void 0!==t&&t.returnCountOnly?delete r.outFields:r.outFields.includes("*")?r.outFields="*":r.outFields=r.outFields.join(","),r.outSpatialReference&&(r.outSR=r.outSR.wkid||JSON.stringify(r.outSR.toJSON()),delete r.outSpatialReference),r.dynamicDataSource&&(r.layer=JSON.stringify({source:r.dynamicDataSource}),delete r.dynamicDataSource),r}function l(e,t,r){return f.apply(this,arguments)}function f(){return(f=Object(c.a)(Object(a.a)().mark((function e(t,r,c){var u,i,s,d,l,f,p,b,O,y,h,v;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t,r,c);case 2:u=e.sent,i=u.data,s=i.geometryType,d=i.spatialReference,l={},f=Object(o.a)(i.relatedRecordGroups);try{for(f.s();!(p=f.n()).done;)if(b=p.value,O={fields:void 0,objectIdFieldName:void 0,geometryType:s,spatialReference:d,hasZ:!!i.hasZ,hasM:!!i.hasM,features:b.relatedRecords},null!=b.objectId)l[b.objectId]=O;else for(y=0,h=Object.keys(b);y<h.length;y++)"relatedRecords"!==(v=h[y])&&(l[b[v]]=O)}catch(a){f.e(a)}finally{f.f()}return e.abrupt("return",Object(n.a)(Object(n.a)({},u),{},{data:l}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t,r){return b.apply(this,arguments)}function b(){return(b=Object(c.a)(Object(a.a)().mark((function e(t,r,c){var u,i,s,d,l,f;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t,r,c,{returnCountOnly:!0});case 2:u=e.sent,i=u.data,s={},d=Object(o.a)(i.relatedRecordGroups);try{for(d.s();!(l=d.n()).done;)null!=(f=l.value).objectId&&(s[f.objectId]=f.count)}catch(a){d.e(a)}finally{d.f()}return e.abrupt("return",Object(n.a)(Object(n.a)({},u),{},{data:s}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t){return O.apply(this,arguments)}function O(){return O=Object(c.a)(Object(a.a)().mark((function e(t,r){var c,u,o,l=arguments;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=l.length>2&&void 0!==l[2]?l[2]:{},u=l.length>3?l[3]:void 0,o=Object(s.a)(Object(n.a)(Object(n.a)(Object(n.a)({},t.query),{},{f:"json"},u),d(r,u))),e.abrupt("return",Object(i.default)(t.path+"/queryRelatedRecords",Object(n.a)(Object(n.a)({},c),{},{query:Object(n.a)(Object(n.a)({},c.query),o)})));case 4:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}var y=r(235),h=r(593);function v(e,t,r){return w.apply(this,arguments)}function w(){return(w=Object(c.a)(Object(a.a)().mark((function e(t,r,n){var c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.default.from(r),c=Object(u.c)(t),e.abrupt("return",l(c,r,n).then((function(e){var t=e.data,r={};return Object.keys(t).forEach((function(e){return r[e]=y.a.fromJSON(t[e])})),r})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t,r){return k.apply(this,arguments)}function k(){return(k=Object(c.a)(Object(a.a)().mark((function e(t,r,c){var o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.default.from(r),o=Object(u.c)(t),e.abrupt("return",p(o,r,Object(n.a)({},c)).then((function(e){return e.data})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=71.8d00b26d.chunk.js.map
{"version":3,"sources":["../node_modules/@arcgis/core/portal/support/featureCollectionUtils.js","../node_modules/@arcgis/core/layers/support/layersCreator.js"],"names":["e","t","r","n","layerType","featureCollectionType","c","_x","_x2","_x3","_c","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","a","y","_iterator","_step","_r","_e","i","_iterator2","_step2","_r2","wrap","_context","prev","next","abrupt","_createForOfIteratorHelper","s","done","value","f","push","b","err","sent","add","stop","l","ArcGISDimensionLayer","ArcGISFeatureLayer","ArcGISImageServiceLayer","ArcGISMapServiceLayer","PointCloudLayer","ArcGISSceneServiceLayer","IntegratedMeshLayer","OGCFeatureLayer","BuildingSceneLayer","ArcGISTiledElevationServiceLayer","ArcGISTiledImageServiceLayer","ArcGISTiledMapServiceLayer","GroupLayer","GeoJSON","WebTiledLayer","CSV","VectorTileLayer","WFS","WMS","DefaultTileLayer","KML","RasterDataLayer","Voxel","LineOfSightLayer","RasterDataElevationLayer","p","OpenStreetMap","S","ArcGISAnnotationLayer","ArcGISImageServiceVectorLayer","ArcGISStreamLayer","BingMapsAerial","BingMapsRoad","BingMapsHybrid","GeoRSS","MediaLayer","OrientedImageryLayer","SubtypeGroupLayer","u","d","I","_objectSpread","LinkChartLayer","m","T","_x4","_x5","_f","_callee2","_context2","t0","g","G","t1","t2","t3","_x6","_x7","_x8","_g","_callee3","_context3","read","context","type","M","w","o","_x9","_x10","_G","_callee4","_e$wfsInfo","_r3","_t","_i","_context4","v","defaultLayerType","UnknownLayer","A","portal","itemId","id","load","className","MapNotesLayer","L","RouteLayer","wmtsInfo","url","layerIdentifier","WMTSLayer","wfsInfo","version","UnsupportedLayer","_e$featureCollection$","_e$featureCollection","featureCollection","layers","length","origin","layerContainerType","_x11","_x12","_x13","_b","_callee5","_e2","_iterator3","_step3","_context5","Array","isArray","addMany","destroy","_x14","_x15","_x16","_w","_callee6","_L$layers","_context6","FeatureLayer","showLegend","map","_r$visibleLayers$incl","_r$visibleLayers","ignoreDefaults","concat","visibility","visibleLayers","includes"],"mappings":"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","file":"static/js/70.c77add61.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction e(e){return t(e,\"notes\")}function r(e){return t(e,\"markup\")}function n(e){return t(e,\"route\")}function t(e,r){return!(!e.layerType||\"ArcGISFeatureLayer\"!==e.layerType)&&e.featureCollectionType===r}export{e as isMapNotesLayer,r as isMarkupLayer,n as isRouteLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Collection.js\";import\"../../core/has.js\";import{eachAlways as r}from\"../../core/promiseUtils.js\";import{layerLookupMap as a}from\"./lazyLayerLoader.js\";import y from\"../../portal/PortalItem.js\";import{isMapNotesLayer as t,isMarkupLayer as i,isRouteLayer as L}from\"../../portal/support/featureCollectionUtils.js\";import{selectLayerClassPath as n}from\"../../portal/support/portalLayers.js\";import{loadStyleRenderer as o}from\"../../renderers/support/styleUtils.js\";async function c(e,a,y){if(!a)return;const t=[];for(const r of a){const e=f(r,y);\"GroupLayer\"===r.layerType?t.push(b(e,r,y)):t.push(e)}const i=await r(t);for(const r of i)r.value&&e.add(r.value)}const l={ArcGISDimensionLayer:\"DimensionLayer\",ArcGISFeatureLayer:\"FeatureLayer\",ArcGISImageServiceLayer:\"ImageryLayer\",ArcGISMapServiceLayer:\"MapImageLayer\",PointCloudLayer:\"PointCloudLayer\",ArcGISSceneServiceLayer:\"SceneLayer\",IntegratedMeshLayer:\"IntegratedMeshLayer\",OGCFeatureLayer:\"OGCFeatureLayer\",BuildingSceneLayer:\"BuildingSceneLayer\",ArcGISTiledElevationServiceLayer:\"ElevationLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",ArcGISTiledMapServiceLayer:\"TileLayer\",GroupLayer:\"GroupLayer\",GeoJSON:\"GeoJSONLayer\",WebTiledLayer:\"WebTileLayer\",CSV:\"CSVLayer\",VectorTileLayer:\"VectorTileLayer\",WFS:\"WFSLayer\",WMS:\"WMSLayer\",DefaultTileLayer:\"TileLayer\",KML:\"KMLLayer\",RasterDataLayer:\"UnsupportedLayer\",Voxel:\"VoxelLayer\",LineOfSightLayer:\"LineOfSightLayer\"},s={ArcGISTiledElevationServiceLayer:\"ElevationLayer\",DefaultTileLayer:\"ElevationLayer\",RasterDataElevationLayer:\"UnsupportedLayer\"},p={ArcGISTiledMapServiceLayer:\"TileLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",OpenStreetMap:\"OpenStreetMapLayer\",WebTiledLayer:\"WebTileLayer\",VectorTileLayer:\"VectorTileLayer\",ArcGISImageServiceLayer:\"UnsupportedLayer\",WMS:\"UnsupportedLayer\",ArcGISMapServiceLayer:\"UnsupportedLayer\",ArcGISSceneServiceLayer:\"SceneLayer\",DefaultTileLayer:\"TileLayer\"},S={ArcGISAnnotationLayer:\"UnsupportedLayer\",ArcGISDimensionLayer:\"UnsupportedLayer\",ArcGISFeatureLayer:\"FeatureLayer\",ArcGISImageServiceLayer:\"ImageryLayer\",ArcGISImageServiceVectorLayer:\"ImageryLayer\",ArcGISMapServiceLayer:\"MapImageLayer\",ArcGISStreamLayer:\"StreamLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",ArcGISTiledMapServiceLayer:\"TileLayer\",BingMapsAerial:\"BingMapsLayer\",BingMapsRoad:\"BingMapsLayer\",BingMapsHybrid:\"BingMapsLayer\",CSV:\"CSVLayer\",DefaultTileLayer:\"TileLayer\",GeoRSS:\"GeoRSSLayer\",GeoJSON:\"GeoJSONLayer\",GroupLayer:\"GroupLayer\",KML:\"KMLLayer\",MediaLayer:\"MediaLayer\",OGCFeatureLayer:\"OGCFeatureLayer\",OrientedImageryLayer:\"OrientedImageryLayer\",SubtypeGroupLayer:\"SubtypeGroupLayer\",VectorTileLayer:\"VectorTileLayer\",WFS:\"WFSLayer\",WMS:\"WMSLayer\",WebTiledLayer:\"WebTileLayer\"},u={ArcGISFeatureLayer:\"FeatureLayer\"},d={ArcGISImageServiceLayer:\"ImageryLayer\",ArcGISImageServiceVectorLayer:\"ImageryLayer\",ArcGISMapServiceLayer:\"MapImageLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",ArcGISTiledMapServiceLayer:\"TileLayer\",OpenStreetMap:\"OpenStreetMapLayer\",VectorTileLayer:\"VectorTileLayer\",WebTiledLayer:\"WebTileLayer\",BingMapsAerial:\"BingMapsLayer\",BingMapsRoad:\"BingMapsLayer\",BingMapsHybrid:\"BingMapsLayer\",WMS:\"WMSLayer\",DefaultTileLayer:\"TileLayer\"},I={...S,LinkChartLayer:\"LinkChartLayer\"},m={...u},T={...d};async function f(e,r){return g(await G(e,r),e,r)}async function g(e,r,a){const y=new e;return y.read(r,a.context),\"group\"===y.type&&M(r)&&await w(y,r,a.context),await o(y,a.context),y}async function G(e,r){const o=r.context,c=v(o);let l=e.layerType||e.type;!l&&r&&r.defaultLayerType&&(l=r.defaultLayerType);const s=c[l];let p=s?a[s]:a.UnknownLayer;if(A(e)){const r=o?.portal;if(e.itemId){const t=new y({id:e.itemId,portal:r});await t.load();const i=(await n(t)).className||\"UnknownLayer\";p=a[i]}}else\"ArcGISFeatureLayer\"===l?t(e)||i(e)?p=a.MapNotesLayer:L(e)?p=a.RouteLayer:M(e)&&(p=a.GroupLayer):e.wmtsInfo&&e.wmtsInfo.url&&e.wmtsInfo.layerIdentifier?p=a.WMTSLayer:\"WFS\"===l&&\"2.0.0\"!==e.wfsInfo?.version&&(p=a.UnsupportedLayer);return p()}function M(e){if(\"ArcGISFeatureLayer\"!==e.layerType||A(e))return!1;return(e.featureCollection?.layers?.length??0)>1}function A(e){return\"Feature Collection\"===e.type}function v(e){let r;switch(e.origin){case\"web-scene\":switch(e.layerContainerType){case\"basemap\":r=p;break;case\"ground\":r=s;break;default:r=l}break;case\"link-chart\":switch(e.layerContainerType){case\"basemap\":r=T;break;case\"tables\":r=m;break;default:r=I}break;default:switch(e.layerContainerType){case\"basemap\":r=d;break;case\"tables\":r=u;break;default:r=S}}return r}async function b(r,a,y){const t=new e,i=c(t,Array.isArray(a.layers)?a.layers:[],y);try{const e=await r;try{if(await i,\"group\"===e.type)return e.layers.addMany(t),e}catch(L){e.destroy();for(const e of t)e.destroy();throw L}}catch(L){throw L}}async function w(e,r,y){const t=a.FeatureLayer,i=await t(),L=r.featureCollection,n=L?.showLegend,o=L?.layers?.map(((a,t)=>{const L=new i;L.read(a,y);const o={...y,ignoreDefaults:!0};return L.read({id:`${e.id}-sublayer-${t}`,visibility:r.visibleLayers?.includes(t)??!0},o),null!=n&&L.read({showLegend:n},o),L}));e.layers.addMany(o??[])}export{c as populateOperationalLayers};\n"],"sourceRoot":""}
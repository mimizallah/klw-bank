(this["webpackJsonpklw-bank"]=this["webpackJsonpklw-bank"]||[]).push([[256],{2235:function(t,e,n){"use strict";n.r(e),n.d(e,"executeAttachmentQuery",(function(){return f})),n.d(e,"fetchAttachments",(function(){return j})),n.d(e,"processAttachmentQueryResult",(function(){return p}));var r=n(4),a=n(12),o=n(1),c=n(92),i=n(277),u=n(129),l=n(128),b=n(814),s=n(649);function d(t){var e=t.toJSON();return e.attachmentTypes&&(e.attachmentTypes=e.attachmentTypes.join(",")),e.keywords&&(e.keywords=e.keywords.join(",")),e.globalIds&&(e.globalIds=e.globalIds.join(",")),e.objectIds&&(e.objectIds=e.objectIds.join(",")),e.size&&(e.size=e.size.join(",")),e}function p(t,e){var n,r={},a=Object(c.a)(e);try{for(a.s();!(n=a.n()).done;){var o,u=n.value,b=u.parentObjectId,d=u.parentGlobalId,p=u.attachmentInfos,f=Object(c.a)(p);try{for(f.s();!(o=f.n()).done;){var j=o.value,O=j.id,y=Object(l.b)(Object(i.a)("".concat(t.path,"/").concat(b,"/attachments/").concat(O))),h=s.a.fromJSON(j);h.set({url:y,parentObjectId:b,parentGlobalId:d}),r[b]?r[b].push(h):r[b]=[h]}}catch(m){f.e(m)}finally{f.f()}}}catch(m){a.e(m)}finally{a.f()}return r}function f(t,e,n){var r={query:Object(b.a)(Object(o.a)(Object(o.a)({},t.query),{},{f:"json"},d(e)))};return n&&(r=Object(o.a)(Object(o.a)(Object(o.a)({},n),r),{},{query:Object(o.a)(Object(o.a)({},n.query),r.query)})),Object(u.default)(t.path+"/queryAttachments",r).then((function(t){return t.data.attachmentGroups}))}function j(t,e,n){return O.apply(this,arguments)}function O(){return O=Object(a.a)(Object(r.a)().mark((function t(e,n,a){var o,i,l,b,s;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=n.objectIds,i=[],l=Object(c.a)(o);try{for(l.s();!(b=l.n()).done;)s=b.value,i.push(Object(u.default)(e.path+"/"+s+"/attachments",a))}catch(r){l.e(r)}finally{l.f()}return t.abrupt("return",Promise.all(i).then((function(t){return o.map((function(e,n){return{parentObjectId:e,attachmentInfos:t[n].data.attachmentInfos}}))})));case 4:case"end":return t.stop()}}),t)}))),O.apply(this,arguments)}},649:function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var r,a=n(89),o=n(88),c=n(90),i=n(91),u=n(94),l=n(105),b=n(97),s=n(96),d=(n(98),n(93),n(95));var p={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}},f=r=function(t){Object(c.a)(n,t);var e=Object(i.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,t)).contentType=null,r.exifInfo=null,r.id=null,r.globalId=null,r.keywords=null,r.name=null,r.parentGlobalId=null,r.parentObjectId=null,r.size=null,r.url=null,r}return Object(o.a)(n,[{key:"orientationInfo",get:function(){var t=function(t){var e=t.exifInfo,n=t.exifName,r=t.tagName;if(!e||!n||!r)return null;var a=e.find((function(t){return t.name===n}));return a?function(t){var e=t.tagName,n=t.tags;if(!n||!e)return null;var r=n.find((function(t){return t.name===e}));return r&&r.value||null}({tagName:r,tags:a.tags}):null}({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:this.exifInfo});return p[t]||null}},{key:"clone",value:function(){return new r({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}}]),n}(l.a);Object(u.a)([Object(b.b)({type:String})],f.prototype,"contentType",void 0),Object(u.a)([Object(b.b)()],f.prototype,"exifInfo",void 0),Object(u.a)([Object(b.b)({readOnly:!0})],f.prototype,"orientationInfo",null),Object(u.a)([Object(b.b)({type:s.a})],f.prototype,"id",void 0),Object(u.a)([Object(b.b)({type:String})],f.prototype,"globalId",void 0),Object(u.a)([Object(b.b)({type:String})],f.prototype,"keywords",void 0),Object(u.a)([Object(b.b)({type:String})],f.prototype,"name",void 0),Object(u.a)([Object(b.b)({json:{read:!1}})],f.prototype,"parentGlobalId",void 0),Object(u.a)([Object(b.b)({json:{read:!1}})],f.prototype,"parentObjectId",void 0),Object(u.a)([Object(b.b)({type:s.a})],f.prototype,"size",void 0),Object(u.a)([Object(b.b)({json:{read:!1}})],f.prototype,"url",void 0);var j=f=r=Object(u.a)([Object(d.a)("esri.layers.support.AttachmentInfo")],f)}}]);
//# sourceMappingURL=256.0799131d.chunk.js.map
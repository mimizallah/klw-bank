{"version":3,"sources":["../node_modules/@arcgis/core/geometry/support/meshUtils/External.js","../node_modules/@arcgis/core/geometry/support/meshVertexSpaceUtils.js","../node_modules/@arcgis/core/layers/graphics/sources/FeatureLayerSource.js","../node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js","../node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js","../node_modules/@arcgis/core/chunks/vec32.js","../node_modules/@arcgis/core/geometry/support/MeshGeoreferencedRelativeVertexSpace.js","../node_modules/@arcgis/core/geometry/support/buffer/math/common.js","../node_modules/@arcgis/core/layers/graphics/editingSupport.js"],"names":["a","t","r","e","_classCallCheck","this","assetName","assetMimeType","parts","_createClass","key","value","equals","every","isOnService","_step","_iterator","_createForOfIteratorHelper","s","n","done","partHash","err","f","_toBlob","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","length","abrupt","toBlob","Promise","all","map","sent","Blob","stop","_x","apply","arguments","i","partUrl","startsWith","concat","path","_toBlob2","_callee2","_yield$t","_context2","responseType","data","_x2","o","Array","isArray","some","p","l","source","u","c","File","type","name","test","m","b","y","h","_toConsumableArray","sort","g","_s","_n2","N","A","original","vertexSpace","isRelative","clone","anchor","x","z","origin","cloneWithVertexSpace","vertexAttributes","position","Float64Array","vertexAttributesChanged","U","originalAndCurrentFeatures","none","k","Set","Q","Started","Publishing","Stopped","C","_u","_inherits","_super","_createSuper","_this","refresh","_this$sourceJSON$edit","_this$sourceJSON$edit2","load","sourceJSON","editingInfo","lastEditDate","dataChanged","updates","_fetchService","t0","extent","_ongoingAssetUploads","Map","signal","layer","addResolvingPromise","resolve","get","_e$operations$support","_e$operations","_this$layer","capabilities","parsedUrl","dynamicDataSource","infoFor3D","gdbVersion","spatialReference","fieldsIndex","has","query","supportsFormatPBF","operations","supportsQueryAttachments","j","url","pbfSupported","sourceSpatialReference","queryAttachmentsSupported","_addAttachment","_e","attributes","objectIdField","_getLayerRequestOptions","_getFormDataForAttachment","body","_createFeatureEditResult","addAttachmentResult","_createAttachmentErrorResult","_updateAttachment","_callee3","_e2","_context3","attachmentId","updateAttachmentResult","_x3","_x4","_x5","_applyEdits","_callee4","_t$globalIdUsed","_e$addFeatures$map","_e$addFeatures","_e$updateFeatures$map","_e$updateFeatures","_a$capabilities$opera","_a$effectiveCapabilit","d","R","S","_e3","_this2","_context4","globalIdUsed","_uploadMeshesAndGetAssetMapEditsJSON","addFeatures","_getFeatureJSON","filter","updateFeatures","_getFeatureIds","deleteFeatures","v","_getAttachmentEditsJSON","editing","supportsAsyncApplyEdits","rollbackOnFailure","rollbackOnFailureEnabled","useGlobalIds","returnEditMoment","usePreviousEditMoment","sessionId","async","returnServiceEditsOption","edits","JSON","stringify","id","layerId","adds","deletes","attachments","assetMaps","toJSON","returnServiceEditsInSourceSR","join","method","_asyncApplyEdits","t1","supportsEditing","effectiveCapabilities","findCredential","refreshToken","_createEditsResult","_x6","_x7","_deleteAttachments","_callee5","_context5","attachmentIds","deleteAttachmentResults","_x8","_x9","_this3","undefined","then","_callee6","_this3$layer","_yield$r","_context6","_objectSpread","returnUpdates","fullExtent","timeExtent","fromJSON","start","end","_queryAttachments","_callee7","_args7","_context7","queryTask","executeAttachmentQuery","_x10","_queryFeatures","_callee8","_context8","execute","_createRequestQueryOptions","_x11","_x12","_queryFeaturesJSON","_callee9","_context9","executeJSON","_x13","_x14","_queryObjectIds","_callee10","_context10","executeForIds","_x15","_x16","_queryFeatureCount","_callee11","_context11","executeForCount","_x17","_x18","_queryExtent","_callee12","_context12","executeForExtent","_x19","_x20","_queryRelatedFeatures","_callee13","_context13","executeRelationshipQuery","_x21","_x22","_queryRelatedFeaturesCount","_callee14","_context14","executeRelationshipQueryForCount","_x23","_x24","_queryTopFeatures","_callee15","_context15","executeTopFeaturesQuery","_x25","_x26","_queryTopObjectIds","_callee16","_context16","executeForTopIds","_x27","_x28","_queryTopExtents","_callee17","_context17","executeForTopExtents","_x29","_x30","_queryTopCount","_callee18","_context18","executeForTopCount","_x31","_x32","_fetchPublishingStatus","_callee19","_context19","status","_uploadAssets","_callee20","_yield$import","_context20","uploadAssets","ongoingUploads","_x33","_x34","_asyncApplyEdits2","_callee21","_e4","_context21","statusUrl","resultUrl","D","_x35","_x36","customParameters","token","apiKey","datesInUnknownTimezone","timeReferenceUnknownClient","_fetchService2","_callee22","_yield$r2","_context22","returnAdvancedSymbols","_patchServiceJSON","_x37","_x38","_patchServiceJSON2","_callee23","_e$drawingInfo","_t","_yield$r3","_s2","_context23","geometryType","drawingInfo","renderer","defaultSymbol","I","xmin","ymin","xmax","ymax","_x39","_x40","_getFeatureJSON2","_callee24","_u2$z","_e5","_a","_i","_o","_n","_u2","_t2","_a2","_u3","_l","_d","_context24","geometry","transformFieldRoles","transform","F","E","originX","originY","originZ","translation","scale","rotation","isGeoreferenced","translationX","translationY","translationZ","scaleX","scaleY","scaleZ","rotationX","rotationY","rotationZ","rotationDeg","_x41","_x42","_getAttachmentEditsJSON2","_callee25","_e$addAttachments","_e$updateAttachments","_e$deleteAttachments","_this4","_context25","addAttachments","_getAttachmentEditJSON","updateAttachments","deleteAttachments","_x43","_getAttachmentEditJSON2","_callee26","_e6","_context26","feature","attachment","globalId","contentType","uploadId","parentGlobalId","globalIdField","mediaType","_x44","_uploadMeshesAndGetAssetMapEditsJSON2","_callee27","_i2","_e7","_t4","_iterator2","_step2","_step2$value","_i3","_context27","addAssetFeatures","_filterRedundantAssetMaps","push","q","set","_slicedToArray","addExternalSources","metadata","externalSources","items","_getAssetMapEditsJSON","_x45","_step3","_iterator3","_o3$find","getExternalSourcesOnService","getAttribute","_step4","find","_","_iterator4","assetHash","flags","getLogger","error","O","objectId","_a4","_a5","_a$addResults$map","_a6","_a$updateResults$map","_a7","_a$deleteResults$map","_a8","_a9","_this5","_step5","_iterator5","_u5$addResults","_u5$updateResults","_u5$deleteResults","editedFeatures","addResults","updateResults","deleteResults","editMoment","_step6","_iterator6","success","_step7","_iterator7","addFeatureResults","updateFeatureResults","deleteFeatureResults","addAttachmentResults","updateAttachmentResults","editedFeatureResults","_step8","_iterator8","_loop","_t$adds","_t$updates","_t$deletes","M","_createEditedFeature","current","w","code","description","details","messages","message","httpStatus","messageCode","FormData","elements","append","_this$layer2","_filterRedundantAssetMaps2","_callee28","_iterator9","_step9","_i5","_r$assetMapFieldRoles","_context28","T","assetMapFieldRoles","J","where","outFields","returnGeometry","features","flatMap","_ref4","_x46","prototype","constructOnly","readOnly","L","symbol","_defineProperty","Function","analytics","supportsCacheHint","isVersioned","supportsAttachment","supportsM","supportsZ","supportsAdvancedFieldProperties","supportsCalculate","supportsTruncate","supportsValidateSql","supportsAdd","supportsDelete","supportsChangeTracking","supportsQuery","supportsQueryAnalytics","supportsQueryTopFeatures","supportsResizeAttachments","supportsSync","supportsUpdate","supportsExceedsLimitStatistics","supportsAsyncConvert3D","queryRelated","supportsCount","supportsOrderBy","supportsPagination","queryTopFeatures","supportsGeometryUpdate","supportsGlobalId","supportsReturnServiceEditsInSourceSpatialReference","supportsRollbackOnFailure","supportsUpdateWithoutM","supportsUploadWithItemId","supportsDeleteByAnonymous","supportsDeleteByOthers","supportsUpdateByAnonymous","supportsUpdateByOthers","supportsStatistics","supportsPercentileStatistics","supportsSpatialAggregationStatistics","supportedSpatialAggregationStatistics","envelope","centroid","convexHull","supportsCentroid","supportsDistance","supportsDistinct","supportsExtent","supportsGeometryProperties","supportsHavingClause","supportsQuantization","supportsQuantizationEditMode","supportsQueryGeometry","supportsResultType","supportsSqlExpression","supportsMaxRecordCountFactor","supportsStandardizedQueriesOnly","supportsTopFeaturesQuery","supportsQueryByOthers","supportsHistoricMoment","supportsDisjointSpatialRelationship","supportsDefaultSpatialReference","supportsFullTextSearch","supportsCompactGeometry","maxRecordCountFactor","maxRecordCount","standardMaxRecordCount","tileMaxRecordCount","typedBuffer","typedBufferStride","Math","ceil","B","min","count","sqrt","Object","freeze","defineProperty","__proto__","normalize","normalizeView","scaleView","shiftRight","transformMat3","transformMat3View","transformMat4","transformMat4View","Symbol","toStringTag","_r","call","_this$origin","_ref","georeferencedRelative","Number","nonNullable","json","write","applyEdits","_F","_o$editedFeatureResul","_yield$w","_args","promise","addedFeatures","updatedFeatures","deletedFeatures","addedAttachments","updatedAttachments","deletedAttachments","emit","result","results","exceededTransferLimit","reject","_w","_o$addFeatures","_o$updateFeatures","_o$deleteFeatures","_o$addAttachments","_o$updateAttachments","_o$deleteAttachments","_yield$A","options","t2","_A","warn","isCollection","toArray","forEach","$","_t$capabilities","_t$capabilities2","hasZ","hasM","_e$geometry","_t$capabilities3","isBase64","_O","slice","_U","_e$addAssetFeatures","_e$addFeatures2","_e$updateFeatures2","supportedFormats","editFormats","includes","_e$geometry2"],"mappings":"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","file":"static/js/54.27e9f24a.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport t from\"../../../request.js\";import{equals as r}from\"../../../core/arrayUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{getFilenameFormatId as s,getMimeTypeFormatId as n}from\"../../../layers/support/infoFor3D.js\";class a{constructor(t,r,e){this.assetName=t,this.assetMimeType=r,this.parts=e}equals(t){return this===t||this.assetName===t.assetName&&this.assetMimeType===t.assetMimeType&&r(this.parts,t.parts,((t,r)=>t.equals(r)))}isOnService(t){return this.parts.every((r=>r.isOnService(t)))}makeHash(){let t=\"\";for(const r of this.parts)t+=r.partHash;return t}async toBlob(t){const{parts:r}=this;if(1===r.length)return r[0].toBlob(t);const s=await Promise.all(r.map((r=>r.toBlob(t))));return e(t),new Blob(s)}}class i{constructor(t,r){this.partUrl=t,this.partHash=r}equals(t){return this===t||this.partUrl===t.partUrl&&this.partHash===t.partHash}isOnService(t){return this.partUrl.startsWith(`${t.path}/assets/`)}async toBlob(r){const{data:s}=await t(this.partUrl,{responseType:\"blob\"});return e(r),s}}function o(t){return l(t?.source)}function u(t){if(!Array.isArray(t))return!1;return t.every((t=>t instanceof a))}const c=/^(model\\/gltf\\+json)|(model\\/gltf-binary)$/,f=/\\.(gltf|glb)/i;function l(t){if(!t)return!1;if(Array.isArray(t)){return t.some(p)}return p(t)}function p(t){if(t instanceof File){const{type:r,name:e}=t;return c.test(r)||f.test(e)}return c.test(t.assetMimeType)||f.test(t.assetName)}function m(t,r){if(!t)return!1;const{source:e}=t;return y(e,r)}function h(t,r){if(t===r)return!0;const{source:e}=t,{source:s}=r;if(e===s)return!0;if(u(e)&&u(s)){if(e.length!==s.length)return!1;const t=(t,r)=>t.assetName<r.assetName?-1:t.assetName>r.assetName?1:0,r=[...e].sort(t),n=[...s].sort(t);for(let e=0;e<r.length;++e)if(!r[e].equals(n[e]))return!1;return!0}return!1}function y(t,r){if(Array.isArray(t)){return t.every((t=>b(t,r)))}return b(t,r)}function b(t,r){return t instanceof a&&t.isOnService(r)}function g(t,r){return t instanceof File?s(t.name,r)??n(t.type,r):n(t.assetMimeType,r)??s(t.assetName,r)}function N(t){return Array.isArray(t)?t:[t]}function A(t){return!!t.original}export{a as ServiceAsset,i as ServiceAssetPart,g as assetFormatId,b as assetIsOnService,m as externalIsOnService,N as externalSourceToMultiPart,h as externalSourcesAreEqual,p as isDisplayAsset,o as isDisplayExternal,l as isDisplaySource,A as isOriginalExternal,y as sourceIsOnService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{f as e}from\"../../chunks/mat4.js\";import{c as t}from\"../../chunks/mat4f64.js\";import r from\"./MeshGeoreferencedRelativeVertexSpace.js\";import{t as o}from\"../../chunks/vec32.js\";function n(t){const{vertexSpace:n}=t;if(n.isRelative)return t.clone();const{anchor:i}=t,c=i.clone(),a=e(s,[-c.x,-c.y,-c.z]),m=new r({origin:[c.x,c.y,c.z]}),p=t.cloneWithVertexSpace(m),{position:f}=p.vertexAttributes;return p.vertexAttributes.position=o(new Float64Array(f.length),f,a),p.vertexAttributesChanged(),p}const s=t();export{n as toRelativeVertexSpace};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../Graphic.js\";import{id as s}from\"../../../kernel.js\";import r from\"../../../request.js\";import a from\"../../../TimeExtent.js\";import{isSome as i}from\"../../../core/arrayUtils.js\";import o from\"../../../core/Error.js\";import has from\"../../../core/has.js\";import{JSONMap as n}from\"../../../core/jsonMap.js\";import u from\"../../../core/Loadable.js\";import l from\"../../../core/Logger.js\";import{setDeepValue as d}from\"../../../core/object.js\";import{debounce as c,after as p,throwIfAbortError as h}from\"../../../core/promiseUtils.js\";import{getMetersPerCartesianUnitForSR as y}from\"../../../core/unitUtils.js\";import{join as m,parseData as f}from\"../../../core/urlUtils.js\";import{generateBracedUUID as g}from\"../../../core/uuid.js\";import{property as R}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as S}from\"../../../core/accessorSupport/decorators/subclass.js\";import b from\"../../../geometry/Extent.js\";import{initializeProjection as F,project as E}from\"../../../geometry/projection.js\";import{fromJSON as w}from\"../../../geometry/support/jsonUtils.js\";import{toRelativeVertexSpace as q}from\"../../../geometry/support/meshVertexSpaceUtils.js\";import{isOriginalExternal as _}from\"../../../geometry/support/meshUtils/External.js\";import{isFeatureIdentifierArrayWithGlobalId as O,isFeatureIdentifierArrayWithObjectId as A}from\"../editingSupport.js\";import{createDrawingInfo as I}from\"./support/clientSideDefaults.js\";import j from\"./support/QueryTask.js\";import{isHostedAgolService as x}from\"../../support/arcgisLayerUrl.js\";import{getAssetMapTable as T}from\"../../support/infoFor3D.js\";import{executeQueryJSON as N}from\"../../../rest/query/executeQueryJSON.js\";import{unapplyEditsZUnitScaling as v}from\"../../../rest/query/operations/editsZScale.js\";import J from\"../../../rest/support/Query.js\";import M from\"../../../geometry/SpatialReference.js\";const U=new n({originalAndCurrentFeatures:\"original-and-current-features\",none:\"none\"}),k=new Set([\"Feature Layer\",\"Oriented Imagery Layer\",\"Table\"]),Q=new n({Started:\"published\",Publishing:\"publishing\",Stopped:\"unavailable\"});let C=class extends u{constructor(){super(...arguments),this.type=\"feature-layer\",this.refresh=c((async()=>{await this.load();const e=this.sourceJSON.editingInfo?.lastEditDate;if(null==e)return{dataChanged:!0,updates:{}};try{await this._fetchService(null)}catch{return{dataChanged:!0,updates:{}}}const t=e!==this.sourceJSON.editingInfo?.lastEditDate;return{dataChanged:t,updates:t?{editingInfo:this.sourceJSON.editingInfo,extent:this.sourceJSON.extent}:null}})),this._ongoingAssetUploads=new Map}load(e){const t=null!=e?e.signal:null,s=this.layer.sourceJSON;return this.addResolvingPromise(this._fetchService(s,t)),Promise.resolve(this)}get queryTask(){const{capabilities:e,parsedUrl:t,dynamicDataSource:s,infoFor3D:r,gdbVersion:a,spatialReference:i,fieldsIndex:o}=this.layer,n=has(\"featurelayer-pbf\")&&e?.query.supportsFormatPBF&&null==r,u=e?.operations?.supportsQueryAttachments??!1;return new j({url:t.path,pbfSupported:n,fieldsIndex:o,infoFor3D:r,dynamicDataSource:s,gdbVersion:a,sourceSpatialReference:i,queryAttachmentsSupported:u})}async addAttachment(e,t){await this.load();const s=e.attributes[this.layer.objectIdField],a=this.layer.parsedUrl.path+\"/\"+s+\"/addAttachment\",i=this._getLayerRequestOptions(),o=this._getFormDataForAttachment(t,i.query);try{const e=await r(a,{body:o});return this._createFeatureEditResult(e.data.addAttachmentResult)}catch(n){throw this._createAttachmentErrorResult(s,n)}}async updateAttachment(e,t,s){await this.load();const a=e.attributes[this.layer.objectIdField],i=this.layer.parsedUrl.path+\"/\"+a+\"/updateAttachment\",o=this._getLayerRequestOptions({query:{attachmentId:t}}),n=this._getFormDataForAttachment(s,o.query);try{const e=await r(i,{body:n});return this._createFeatureEditResult(e.data.updateAttachmentResult)}catch(u){throw this._createAttachmentErrorResult(a,u)}}async applyEdits(e,t){await this.load();const{layer:a}=this,o=a.infoFor3D,n=null!=o,u=n||(t?.globalIdUsed??!1),l=n?await this._uploadMeshesAndGetAssetMapEditsJSON(e):null,d=e.addFeatures?.map((e=>this._getFeatureJSON(e,o)))??[],c=(await Promise.all(d)).filter(i),p=e.updateFeatures?.map((e=>this._getFeatureJSON(e,o)))??[],h=(await Promise.all(p)).filter(i),y=this._getFeatureIds(e.deleteFeatures,u);v(c,h,a.spatialReference);const m=await this._getAttachmentEditsJSON(e),f=a.capabilities.editing.supportsAsyncApplyEdits&&n,g={gdbVersion:t?.gdbVersion||a.gdbVersion,rollbackOnFailure:t?.rollbackOnFailureEnabled,useGlobalIds:u,returnEditMoment:t?.returnEditMoment,usePreviousEditMoment:t?.usePreviousEditMoment,sessionId:t?.sessionId,async:f};t?.returnServiceEditsOption?(g.edits=JSON.stringify([{id:a.layerId,adds:c,updates:h,deletes:y,attachments:m,assetMaps:l}]),g.returnServiceEditsOption=U.toJSON(t?.returnServiceEditsOption),g.returnServiceEditsInSourceSR=t?.returnServiceEditsInSourceSR):(g.adds=c.length?JSON.stringify(c):null,g.updates=h.length?JSON.stringify(h):null,g.deletes=y.length?u?JSON.stringify(y):y.join(\",\"):null,g.attachments=m&&JSON.stringify(m),g.assetMaps=null!=l?JSON.stringify(l):void 0);const R=this._getLayerRequestOptions({method:\"post\",query:g}),S=t?.returnServiceEditsOption?a.url:a.parsedUrl.path,b=f?await this._asyncApplyEdits(S+\"/applyEdits\",R):await r(S+\"/applyEdits\",R);if(!a.capabilities.operations?.supportsEditing&&a.effectiveCapabilities?.operations?.supportsEditing){const e=s?.findCredential(a.url);await(e?.refreshToken())}return this._createEditsResult(b)}async deleteAttachments(e,t){await this.load();const s=e.attributes[this.layer.objectIdField],a=this.layer.parsedUrl.path+\"/\"+s+\"/deleteAttachments\";try{return(await r(a,this._getLayerRequestOptions({query:{attachmentIds:t.join(\",\")},method:\"post\"}))).data.deleteAttachmentResults.map(this._createFeatureEditResult)}catch(i){throw this._createAttachmentErrorResult(s,i)}}fetchRecomputedExtents(e={}){const t=e.signal;return this.load({signal:t}).then((async()=>{const t=this._getLayerRequestOptions({...e,query:{returnUpdates:!0}}),{layerId:s,url:i}=this.layer,{data:o}=await r(`${i}/${s}`,t),{id:n,extent:u,fullExtent:l,timeExtent:d}=o,c=u||l;return{id:n,fullExtent:c&&b.fromJSON(c),timeExtent:d&&a.fromJSON({start:d[0],end:d[1]})}}))}async queryAttachments(e,t={}){await this.load();const s=this._getLayerRequestOptions(t);return this.queryTask.executeAttachmentQuery(e,s)}async queryFeatures(e,t){return await this.load(),this.queryTask.execute(e,{...t,query:this._createRequestQueryOptions(t)})}async queryFeaturesJSON(e,t){return await this.load(),this.queryTask.executeJSON(e,{...t,query:this._createRequestQueryOptions(t)})}async queryObjectIds(e,t){return await this.load(),this.queryTask.executeForIds(e,{...t,query:this._createRequestQueryOptions(t)})}async queryFeatureCount(e,t){return await this.load(),this.queryTask.executeForCount(e,{...t,query:this._createRequestQueryOptions(t)})}async queryExtent(e,t){return await this.load(),this.queryTask.executeForExtent(e,{...t,query:this._createRequestQueryOptions(t)})}async queryRelatedFeatures(e,t){return await this.load(),this.queryTask.executeRelationshipQuery(e,{...t,query:this._createRequestQueryOptions(t)})}async queryRelatedFeaturesCount(e,t){return await this.load(),this.queryTask.executeRelationshipQueryForCount(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopFeatures(e,t){return await this.load(),this.queryTask.executeTopFeaturesQuery(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopObjectIds(e,t){return await this.load(),this.queryTask.executeForTopIds(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopExtents(e,t){return await this.load(),this.queryTask.executeForTopExtents(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopCount(e,t){return await this.load(),this.queryTask.executeForTopCount(e,{...t,query:this._createRequestQueryOptions(t)})}async fetchPublishingStatus(){if(!x(this.layer.url))return\"unavailable\";const e=m(this.layer.url,\"status\"),t=await r(e,{query:{f:\"json\"}});return Q.fromJSON(t.data.status)}async uploadAssets(e,t){const{uploadAssets:s}=await import(\"./support/uploadAssets.js\");return s(e,{layer:this.layer,ongoingUploads:this._ongoingAssetUploads},t)}async _asyncApplyEdits(e,t){const s=(await r(e,t)).data.statusUrl;for(;;){const e=(await r(s,{query:{f:\"json\"},responseType:\"json\"})).data;switch(e.status){case\"Completed\":return r(e.resultUrl,{query:{f:\"json\"},responseType:\"json\"});case\"CompletedWithErrors\":throw new o(\"async-applyEdits-failed\",\"asynchronous applyEdits call failed.\");case\"Failed ImportChanges\":case\"InProgress\":case\"Pending\":case\"ExportAttachments\":case\"ExportChanges\":case\"ExportingData\":case\"ExportingSnapshot\":case\"ImportAttachments\":case\"ProvisioningReplica\":case\"UnRegisteringReplica\":break;default:throw new o(\"async-applyEdits-failed\",\"asynchronous applyEdits call failed (undefined response status)\")}await p(D)}}_createRequestQueryOptions(e){const t={...this.layer.customParameters,token:this.layer.apiKey,...e?.query};return this.layer.datesInUnknownTimezone&&(t.timeReferenceUnknownClient=!0),t}async _fetchService(e,t){if(!e){const{data:s}=await r(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:has(\"featurelayer-advanced-symbols\")?{returnAdvancedSymbols:!0}:{},signal:t}));e=s}this.sourceJSON=await this._patchServiceJSON(e,t);const s=e.type;if(!k.has(s))throw new o(\"feature-layer-source:unsupported-type\",`Source type \"${s}\" is not supported`)}async _patchServiceJSON(e,t){if(\"Table\"!==e.type&&e.geometryType&&!e?.drawingInfo?.renderer&&!e.defaultSymbol){const t=I(e.geometryType).renderer;d(\"drawingInfo.renderer\",t,e)}if(\"esriGeometryMultiPatch\"===e.geometryType&&e.infoFor3D&&(e.geometryType=\"mesh\"),null==e.extent)try{const{data:s}=await r(this.layer.url,this._getLayerRequestOptions({signal:t}));s.spatialReference&&(e.extent={xmin:0,ymin:0,xmax:0,ymax:0,spatialReference:s.spatialReference})}catch(s){h(s)}return e}async _getFeatureJSON(e,t){const{geometry:s}=e,r={...e.attributes};if(null!=t&&\"mesh\"===s?.type){const{transformFieldRoles:e}=t,{origin:a,spatialReference:i,transform:o}=s,n=this.layer.spatialReference;await F(i,n);const u=E(a,n);if(r[e.originX]=u.x,r[e.originY]=u.y,r[e.originZ]=u.z??0,null!=o){const{translation:t,scale:a,rotation:u}=o,{vertexSpace:l}=s,d=l.isGeoreferenced?1:y(i)/y(n);r[e.translationX]=t[0]*d,r[e.translationY]=-t[2]*d,r[e.translationZ]=t[1]*d,r[e.scaleX]=a[0],r[e.scaleY]=a[2],r[e.scaleZ]=a[1],r[e.rotationX]=u[0],r[e.rotationY]=u[2],r[e.rotationZ]=u[1],r[e.rotationDeg]=u[3]}return{geometry:null,attributes:r}}return null==s?{attributes:r}:\"mesh\"===s.type||\"extent\"===s.type?null:{geometry:s.toJSON(),attributes:r}}async _getAttachmentEditsJSON(e){const t=await Promise.all((e.addAttachments??[]).map((e=>this._getAttachmentEditJSON(e)))),s=await Promise.all((e.updateAttachments??[]).map((e=>this._getAttachmentEditJSON(e)))),r=e.deleteAttachments??[];return t.length||s.length||r.length?{adds:t,updates:s,deletes:[...r]}:null}async _getAttachmentEditJSON(e){const{feature:t,attachment:s}=e,{globalId:r,name:a,contentType:i,data:o,uploadId:n}=s,u={globalId:r,parentGlobalId:null,contentType:null,name:null,uploadId:null,data:null};if(t&&(u.parentGlobalId=\"attributes\"in t?t.attributes&&t.attributes[this.layer.globalIdField]:t.globalId),n)u.uploadId=n;else if(o){const e=await f(o);e&&(u.contentType=e.mediaType,u.data=e.data),o instanceof File&&(u.name=o.name)}return a&&(u.name=a),i&&(u.contentType=i),u}async _uploadMeshesAndGetAssetMapEditsJSON(e){const{addAssetFeatures:t}=e;if(!t?.length)return null;const s=await this._filterRedundantAssetMaps(t);if(!t?.length)return null;const r=new Array,a=new Map;for(const i of s){const{geometry:e}=i,{vertexSpace:t}=e;if(t.isRelative)r.push(e);else{const t=q(e);a.set(t,e),i.geometry=t,r.push(t)}}await this.uploadAssets(r);for(const[i,o]of a)o.addExternalSources(i.metadata.externalSources.items);return{adds:this._getAssetMapEditsJSON(s),updates:[],deletes:[]}}_getAssetMapEditsJSON(e){const t=new Array,s=this.layer.globalIdField,r=this.layer.parsedUrl;for(const a of e){const e=a.geometry,{metadata:i}=e,o=i.getExternalSourcesOnService(r),n=a.getAttribute(s);if(0===o.length){l.getLogger(this).error(`Skipping feature ${n}. The mesh it is associated with has not been uploaded to the service and cannot be mapped to it.`);continue}const{source:u}=o.find(_)??o[0],{vertexSpace:d}=e,c=d.isGeoreferenced?[\"PROJECT_VERTICES\"]:[];for(const s of u)1===s.parts.length?t.push({globalId:g(),parentGlobalId:n,assetName:s.assetName,assetHash:s.parts[0].partHash,flags:c}):l.getLogger(this).error(`Skipping asset ${s.assetName}. It does not have exactly one part, so we cannot map it to a feature.`)}return t}_getFeatureIds(e,t){if(!e||0===e.length)return[];if(t&&O(e))return e.map((e=>e.globalId));if(A(e))return e.map((e=>e.objectId));const{layer:s}=this,r=t?s.globalIdField:s.objectIdField;return r?e.map((e=>e.getAttribute(r))):[]}_createEditsResult(e){const t=e.data,{layerId:s}=this.layer,r=[];let a=null;if(Array.isArray(t))for(const u of t)r.push({id:u.id,editedFeatures:u.editedFeatures}),u.id===s&&(a={addResults:u.addResults??[],updateResults:u.updateResults??[],deleteResults:u.deleteResults??[],attachments:u.attachments,editMoment:u.editMoment});else a=t;const i=a?.assetMaps;if(i){for(const e of i.addResults)e.success||l.getLogger(this).error(`Failed to map asset to feature with globalId ${e.globalId}.`);for(const e of i.updateResults)e.success||l.getLogger(this).error(`Failed to map asset to feature with globalId ${e.globalId}.`)}const o=a?.attachments,n={addFeatureResults:a?.addResults?.map(this._createFeatureEditResult,this)??[],updateFeatureResults:a?.updateResults?.map(this._createFeatureEditResult,this)??[],deleteFeatureResults:a?.deleteResults?.map(this._createFeatureEditResult,this)??[],addAttachmentResults:o&&o.addResults?o.addResults.map(this._createFeatureEditResult,this):[],updateAttachmentResults:o&&o.updateResults?o.updateResults.map(this._createFeatureEditResult,this):[],deleteAttachmentResults:o&&o.deleteResults?o.deleteResults.map(this._createFeatureEditResult,this):[]};if(a?.editMoment&&(n.editMoment=a.editMoment),r.length>0){n.editedFeatureResults=[];for(const e of r){const{editedFeatures:t}=e,s=t?.spatialReference?new M(t.spatialReference):null;n.editedFeatureResults.push({layerId:e.id,editedFeatures:{adds:t?.adds?.map((e=>this._createEditedFeature(e,s)))||[],updates:t?.updates?.map((e=>({original:this._createEditedFeature(e[0],s),current:this._createEditedFeature(e[1],s)})))||[],deletes:t?.deletes?.map((e=>this._createEditedFeature(e,s)))||[],spatialReference:s}})}}return n}_createEditedFeature(e,s){return new t({attributes:e.attributes,geometry:w({...e.geometry,spatialReference:s})})}_createFeatureEditResult(e){const t=!0===e.success?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new o(\"feature-layer-source:edit-failure\",t.description,{code:t.code}):null}}_createAttachmentErrorResult(e,t){const s=t.details.messages&&t.details.messages[0]||t.message,r=t.details.httpStatus||t.details.messageCode;return{objectId:e,globalId:null,error:new o(\"feature-layer-source:attachment-failure\",s,{code:r})}}_getFormDataForAttachment(e,t){const s=e instanceof FormData?e:e&&e.elements?new FormData(e):null;if(s)for(const r in t){const e=t[r];null!=e&&(s.set?s.set(r,e):s.append(r,e))}return s}_getLayerRequestOptions(e={}){const{parsedUrl:t,gdbVersion:s,dynamicDataSource:r}=this.layer;return{...e,query:{gdbVersion:s,layer:r?JSON.stringify({source:r}):void 0,...t.query,f:\"json\",...this._createRequestQueryOptions(e)},responseType:\"json\"}}async _filterRedundantAssetMaps(e){const{layer:t}=this,{globalIdField:s,infoFor3D:r,parsedUrl:a}=t;if(null==r||null==s)return e;const o=T(r);if(null==o)return e;const n=m(a.path,`../${o.id}`),u=new Array,l=new Array;for(const i of e)i.geometry.metadata.getExternalSourcesOnService(a).length>0?l.push(i):u.push(i);const d=l.map((e=>e.getAttribute(s))).filter(i);if(0===d.length)return e;const{assetMapFieldRoles:{parentGlobalId:c,assetHash:p}}=r,h=new J;h.where=`${c} IN (${d.map((e=>`'${e}'`))})`,h.outFields=[p,c],h.returnGeometry=!1;const y=await N(n,h),{features:f}=y;return 0===f.length?e:[...u,...l.filter((e=>{const t=e.getAttribute(s);if(!t)return!0;const{metadata:r}=e.geometry,i=f.filter((e=>e.getAttribute(c)===t));if(0===i.length)return!0;const o=i.map((e=>e.getAttribute(p)));return r.getExternalSourcesOnService(a).flatMap((({source:e})=>e.flatMap((e=>e.parts.map((e=>e.partHash)))))).some((e=>o.every((t=>e!==t))))}))]}};e([R()],C.prototype,\"type\",void 0),e([R({constructOnly:!0})],C.prototype,\"layer\",void 0),e([R({readOnly:!0})],C.prototype,\"queryTask\",null),C=e([S(\"esri.layers.graphics.sources.FeatureLayerSource\")],C);const D=1e3,L=C;export{L as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{clone as t}from\"../../../../core/lang.js\";import{queryCapabilities as s}from\"../../data/QueryEngineCapabilities.js\";import{defaultPointSymbolJSON as r,defaultPolylineSymbolJSON as e,defaultPolygonSymbolJSON as p}from\"../../../../symbols/support/defaultsJSON.js\";function o(t){return{renderer:{type:\"simple\",symbol:\"esriGeometryPoint\"===t||\"esriGeometryMultipoint\"===t?r:\"esriGeometryPolyline\"===t?e:p}}}const u=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let n=1;function i(t,s){if(has(\"esri-csp-restrictions\"))return()=>({[s]:null,...t});try{let r=`this.${s} = null;`;for(const s in t){r+=`this${u.test(s)?`.${s}`:`[\"${s}\"]`} = ${JSON.stringify(t[s])};`}const e=new Function(`\\n      return class AttributesClass$${n++} {\\n        constructor() {\\n          ${r};\\n        }\\n      }\\n    `)();return()=>new e}catch(r){return()=>({[s]:null,...t})}}function a(s={}){return[{name:\"New Feature\",description:\"\",prototype:{attributes:t(s)}}]}function c(t,r){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:r,supportsDelete:r,supportsEditing:r,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:r,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:s,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:r,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1}}}export{c as createCapabilities,i as createDefaultAttributesFunction,a as createDefaultTemplate,o as createDrawingInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nconst t={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};export{t as queryCapabilities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{mathLogger as e}from\"../geometry/support/buffer/math/common.js\";function t(e,t,f){r(e.typedBuffer,t.typedBuffer,f,e.typedBufferStride,t.typedBufferStride)}function r(t,r,f,n=3,o=n){if(t.length/n!==Math.ceil(r.length/o))return e.error(\"source and destination buffers need to have the same number of elements\"),t;const u=t.length/n,i=f[0],s=f[1],a=f[2],d=f[4],c=f[5],l=f[6],p=f[8],y=f[9],h=f[10],m=f[12],B=f[13],g=f[14];let S=0,M=0;for(let e=0;e<u;e++){const e=r[S],f=r[S+1],u=r[S+2];t[M]=i*e+d*f+p*u+m,t[M+1]=s*e+c*f+y*u+B,t[M+2]=a*e+l*f+h*u+g,S+=o,M+=n}return t}function f(e,t,r){n(e.typedBuffer,t.typedBuffer,r,e.typedBufferStride,t.typedBufferStride)}function n(t,r,f,n=3,o=n){if(t.length/n!==Math.ceil(r.length/o))return void e.error(\"source and destination buffers need to have the same number of elements\");const u=t.length/n,i=f[0],s=f[1],a=f[2],d=f[3],c=f[4],l=f[5],p=f[6],y=f[7],h=f[8];let m=0,B=0;for(let e=0;e<u;e++){const e=r[m],f=r[m+1],u=r[m+2];t[B]=i*e+d*f+p*u,t[B+1]=s*e+c*f+y*u,t[B+2]=a*e+l*f+h*u,m+=o,B+=n}}function o(e,t,r){u(e.typedBuffer,t,r,e.typedBufferStride)}function u(e,t,r,f=3){const n=Math.min(e.length/f,t.count),o=t.typedBuffer,u=t.typedBufferStride;let i=0,s=0;for(let a=0;a<n;a++)e[s]=r*o[i],e[s+1]=r*o[i+1],e[s+2]=r*o[i+2],i+=u,s+=f}function i(e,t){s(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function s(e,t,r=3,f=r){const n=Math.min(e.length/r,t.length/f);let o=0,u=0;for(let i=0;i<n;i++){const n=t[o],i=t[o+1],s=t[o+2],a=n*n+i*i+s*s;if(a>0){const t=1/Math.sqrt(a);e[u]=t*n,e[u+1]=t*i,e[u+2]=t*s}o+=f,u+=r}}function a(e,t,r){const f=Math.min(e.count,t.count),n=e.typedBuffer,o=e.typedBufferStride,u=t.typedBuffer,i=t.typedBufferStride;let s=0,a=0;for(let d=0;d<f;d++)n[a]=u[s]>>r,n[a+1]=u[s+1]>>r,n[a+2]=u[s+2]>>r,s+=i,a+=o}const d=Object.freeze(Object.defineProperty({__proto__:null,normalize:s,normalizeView:i,scale:u,scaleView:o,shiftRight:a,transformMat3:n,transformMat3View:f,transformMat4:r,transformMat4View:t},Symbol.toStringTag,{value:\"Module\"}));export{n as a,f as b,t as c,i as d,o as e,a as f,s as n,u as s,r as t,d as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{ClonableMixin as r}from\"../../core/Clonable.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{enumeration as s}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import{c as p,f as c}from\"../../chunks/vec3f64.js\";import n from\"../Point.js\";let a=class extends(r(o)){constructor(e){super(e),this.type=\"georeferenced-relative\",this.isRelative=!0,this.isGeoreferenced=!0,this.origin=p()}getOriginPoint(e){const[r,o,t]=this.origin;return new n({x:r,y:o,z:t,spatialReference:e})}setOriginFormPoint({x:e,y:r,z:o}){this.origin=c(e,r,o??0)}};e([s({georeferencedRelative:\"georeferenced-relative\"},{readOnly:!0})],a.prototype,\"type\",void 0),e([t({type:[Number],nonNullable:!0,json:{write:!0}})],a.prototype,\"origin\",void 0),a=e([i(\"esri.geometry.support.MeshGeoreferencedRelativeVertexSpace\")],a);const m=a;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport r from\"../../../../core/Logger.js\";const e=r.getLogger(\"esri.views.3d.support.buffer.math\");export{e as mathLogger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../Graphic.js\";import t from\"../../core/Collection.js\";import a from\"../../core/Error.js\";import{clone as r}from\"../../core/lang.js\";import s from\"../../core/Logger.js\";import{createResolver as o}from\"../../core/promiseUtils.js\";import{dataComponents as i}from\"../../core/urlUtils.js\";import{normalizeCentralMeridian as n}from\"../../geometry/support/normalizeUtils.js\";import{isEditBusLayer as d,emitApplyEditsEvent as l}from\"../mixins/EditBusLayer.js\";import{getMimeTypeFormatId as u,getFilenameFormatId as p}from\"../support/infoFor3D.js\";import{getEffectiveEditingEnabled as c,getEffectiveLayerCapabilities as h}from\"../support/layerUtils.js\";function m(e){return e&&null!=e.applyEdits}function y(e){return\"object\"==typeof e&&null!=e&&\"objectId\"in e&&!!e.objectId}function f(e){return e.every(y)}function g(e){return\"object\"==typeof e&&null!=e&&\"globalId\"in e&&!!e.globalId}function b(e){return e.every(g)}async function F(e,t,a,s={}){let i;if(d(e)&&e.url)i=l(e.url,e.layerId,\"original-and-current-features\"===s.returnServiceEditsOption);else{i=o(),i.promise.then((t=>{(t.addedFeatures.length||t.updatedFeatures.length||t.deletedFeatures.length||t.addedAttachments.length||t.updatedAttachments.length||t.deletedAttachments.length)&&e.emit(\"edits\",t)}));const t={result:i.promise};e.emit(\"apply-edits\",t)}try{const{results:o,edits:n}=await w(e,t,a,s),d=e=>e.filter((e=>!e.error)).map(r),l={edits:n,addedFeatures:d(o.addFeatureResults),updatedFeatures:d(o.updateFeatureResults),deletedFeatures:d(o.deleteFeatureResults),addedAttachments:d(o.addAttachmentResults),updatedAttachments:d(o.updateAttachmentResults),deletedAttachments:d(o.deleteAttachmentResults),exceededTransferLimit:!1};return o.editedFeatureResults?.length&&(l.editedFeatures=o.editedFeatureResults),i.resolve(l),o}catch(n){throw i.reject(n),n}}async function w(e,t,r,s){if(await e.load(),!m(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!c(e))throw new a(`${e.type}-layer:editing-disabled`,\"Editing is disabled for layer\",{layer:e});const{edits:o,options:i}=await A(e,r,s);return o.addFeatures?.length||o.updateFeatures?.length||o.deleteFeatures?.length||o.addAttachments?.length||o.updateAttachments?.length||o.deleteAttachments?.length?{edits:o,results:await t.applyEdits(o,i)}:{edits:o,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}}async function A(e,r,o){const i=r&&(r.addFeatures||r.updateFeatures||r.deleteFeatures),n=r&&(r.addAttachments||r.updateAttachments||r.deleteAttachments),d=null!=e.infoFor3D;if(!r||!i&&!n)throw new a(`${e.type}-layer:missing-parameters`,\"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required\");const l=h(e);if(!l.data.isVersioned&&o?.gdbVersion)throw new a(`${e.type}-layer:invalid-parameter`,\"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'\");if(!l.editing.supportsRollbackOnFailure&&o?.rollbackOnFailureEnabled)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'\");if(!l.editing.supportsGlobalId&&o?.globalIdUsed)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'\");if(!l.editing.supportsGlobalId&&n)throw new a(`${e.type}-layer:invalid-parameter`,\"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'\");if(!o?.globalIdUsed&&n)throw new a(`${e.type}-layer:invalid-parameter`,\"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true\");const u={...o};if(null!=u.rollbackOnFailureEnabled||l.editing.supportsRollbackOnFailure||(u.rollbackOnFailureEnabled=!0),u.rollbackOnFailureEnabled||\"original-and-current-features\"!==u.returnServiceEditsOption||(!1===u.rollbackOnFailureEnabled&&s.getLogger(\"esri.layers.graphics.editingSupport\").warn(`${e.type}-layer:invalid-parameter`,\"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true, but 'rollBackOnFailure' was set to false. 'rollBackOnFailure' has been overwrritten and set to true.\"),u.rollbackOnFailureEnabled=!0),!l.editing.supportsReturnServiceEditsInSourceSpatialReference&&u.returnServiceEditsInSourceSR)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'\");if(u.returnServiceEditsInSourceSR&&\"original-and-current-features\"!==u.returnServiceEditsOption)throw new a(`${e.type}-layer:invalid-parameter`,\"'returnServiceEditsInSourceSR' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'\");const p={...r};if(p.addFeatures=r&&t.isCollection(r.addFeatures)?r.addFeatures.toArray():p.addFeatures||[],p.updateFeatures=r&&t.isCollection(r.updateFeatures)?r.updateFeatures.toArray():p.updateFeatures||[],p.deleteFeatures=r&&t.isCollection(r.deleteFeatures)?r.deleteFeatures.toArray():p.deleteFeatures||[],p.addFeatures.length&&!l.operations.supportsAdd)throw new a(`${e.type}-layer:unsupported-operation`,\"Layer does not support adding features.\");if(p.updateFeatures.length&&!l.operations.supportsUpdate)throw new a(`${e.type}-layer:unsupported-operation`,\"Layer does not support updating features.\");if(p.deleteFeatures.length&&!l.operations.supportsDelete)throw new a(`${e.type}-layer:unsupported-operation`,\"Layer does not support deleting features.\");p.addAttachments=p.addAttachments||[],p.updateAttachments=p.updateAttachments||[],p.deleteAttachments=p.deleteAttachments||[],p.addFeatures=p.addFeatures.map(j),p.updateFeatures=p.updateFeatures.map(j),p.addAssetFeatures=[];const c=o?.globalIdUsed||d;p.addFeatures.forEach((t=>E(t,e,c))),p.updateFeatures.forEach((t=>$(t,e,c))),p.deleteFeatures.forEach((t=>S(t,e,c))),p.addAttachments.forEach((t=>R(t,e))),p.updateAttachments.forEach((t=>R(t,e))),d&&await U(p,e);return{edits:await O(p),options:u}}function v(e,t,r){if(r){if(\"attributes\"in e&&!e.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,\"Feature should have 'globalId' when 'globalIdUsed' is true\");if(!(\"attributes\"in e)&&!e.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"'globalId' of the feature should be passed when 'globalIdUsed' is true\")}if(\"geometry\"in e&&null!=e.geometry){if(e.geometry.hasZ&&!1===t.capabilities?.data.supportsZ)throw new a(`${t.type}-layer:z-unsupported`,\"Layer does not support z values while feature has z values.\");if(e.geometry.hasM&&!1===t.capabilities?.data.supportsM)throw new a(`${t.type}-layer:m-unsupported`,\"Layer does not support m values while feature has m values.\")}}function I(e,t){if(\"geometry\"in e&&\"mesh\"===e.geometry?.type){const{geometry:r}=e;if(r.vertexSpace.isGeoreferenced)throw new a(`${t.type}-layer:georeferenced-mesh-unsupported`,\"Uploading georeferenced meshes to a layer is not supported.\")}}function E(e,t,a){v(e,t,a),I(e,t)}function S(e,t,a){v(e,t,a)}function $(e,t,r){v(e,t,r),I(e,t);const s=h(t);if(\"geometry\"in e&&null!=e.geometry&&!s?.editing.supportsGeometryUpdate)throw new a(`${t.type}-layer:unsupported-operation`,\"Layer does not support geometry updates.\")}function R(e,t){const{feature:r,attachment:s}=e;if(!r||\"attributes\"in r&&!r.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to a feature with 'globalId'\");if(!(\"attributes\"in r)&&!r.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to 'globalId' of the parent feature\");if(!s.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'globalId'\");if(!s.data&&!s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'data' or 'uploadId'\");if(!(s.data instanceof File&&!!s.data.name)&&!s.name)throw new a(`${t.type}-layer:invalid-parameter`,\"'name' is required when attachment is specified as Base64 encoded string using 'data'\");if(!t.capabilities?.editing.supportsUploadWithItemId&&s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'\");if(\"string\"==typeof s.data){const e=i(s.data);if(e&&!e.isBase64)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment 'data' should be a Blob, File or Base64 encoded string\")}}async function O(e){const t=e.addFeatures??[],a=e.updateFeatures??[],r=t.concat(a).map((e=>e.geometry)),s=await n(r),o=t.length,i=a.length;return s.slice(0,o).forEach(((e,a)=>t[a].geometry=e)),s.slice(o,o+i).forEach(((e,t)=>a[t].geometry=e)),e}function j(t){const a=new e;return t.attributes||(t.attributes={}),a.geometry=t.geometry,a.attributes=t.attributes,a}async function U(e,t){if(null==t.infoFor3D)return;const{infoFor3D:r}=t,s=u(\"model/gltf-binary\",r.supportedFormats)??p(\"glb\",r.supportedFormats);if(!(!!s&&r.editFormats.includes(s)))throw new a(`${t.type}-layer:binary-gltf-asset-not-supported`,\"3DObjectFeatureLayer requires binary glTF (.glb) support for updating mesh geometry.\");e.addAssetFeatures??=[];const{addAssetFeatures:o}=e;for(const a of e.addFeatures??[])L(a)&&o.push(a);for(const a of e.updateFeatures??[])L(a)&&o.push(a)}function L(e){return\"mesh\"===e?.geometry?.type}function k(e,t,r,s){if(!m(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!t.uploadAssets)throw new a(`${e.type}-layer:no-asset-upload-support`,\"Layer source does not support uploadAssets capability\",{layer:e});return t.uploadAssets(r,s)}export{F as applyEdits,b as isFeatureIdentifierArrayWithGlobalId,f as isFeatureIdentifierArrayWithObjectId,g as isFeatureIdentifierWithGlobalId,y as isFeatureIdentifierWithObjectId,k as uploadAssets};\n"],"sourceRoot":""}
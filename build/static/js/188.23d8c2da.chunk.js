(this["webpackJsonpklw-bank"]=this["webpackJsonpklw-bank"]||[]).push([[188],{1342:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n(89),a=n(88),r=n(90),o=n(91),s=n(94),c=n(126),l=n(97),u=(n(96),n(98),n(93),n(95)),h=n(164),f=n(206),d=n(139),p=n(407),b=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(a.a)(n,[{key:"bounds",get:function(){var e=this.coords;return null==e||null==e.extent?null:Object(d.n)(e.extent)}},{key:"coords",get:function(){var e,t=null===(e=this.element.georeference)||void 0===e?void 0:e.coords;return Object(f.projectOrLoad)(t,this.spatialReference).geometry}},{key:"normalizedCoords",get:function(){return h.a.fromJSON(Object(p.b)(this.coords))}},{key:"normalizedBounds",get:function(){var e=null!=this.normalizedCoords?this.normalizedCoords.extent:null;return null!=e?Object(d.n)(e):null}}]),n}(c.a);Object(s.a)([Object(l.b)()],b.prototype,"spatialReference",void 0),Object(s.a)([Object(l.b)()],b.prototype,"element",void 0),Object(s.a)([Object(l.b)()],b.prototype,"bounds",null),Object(s.a)([Object(l.b)()],b.prototype,"coords",null),Object(s.a)([Object(l.b)()],b.prototype,"normalizedCoords",null),Object(s.a)([Object(l.b)()],b.prototype,"normalizedBounds",null),b=Object(s.a)([Object(u.a)("esri.layers.support.MediaElementView")],b)},1343:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d}));var i=n(99),a=n(178),r=n(340),o=n(171),s=n(167),c=n(157),l=Object(c.f)(),u=Object(r.b)(),h=Object(r.b)(),f=Object(r.b)();function d(e,t,n){return Object(s.x)(l,t[0],t[1],1),Object(s.y)(l,l,Object(a.p)(u,n)),0===l[2]?Object(o.p)(e,l[0],l[1]):Object(o.p)(e,l[0]/l[2],l[1]/l[2])}function p(e,t,n){return b(h,t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]),b(f,n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]),Object(a.l)(e,Object(a.a)(h,h),f),0!==e[8]&&(e[0]/=e[8],e[1]/=e[8],e[2]/=e[8],e[3]/=e[8],e[4]/=e[8],e[5]/=e[8],e[6]/=e[8],e[7]/=e[8],e[8]/=e[8]),e}function b(e,t,n,r,o,c,h,f,d){Object(a.o)(e,t,r,c,n,o,h,1,1,1),Object(s.x)(l,f,d,1),Object(a.a)(u,e);var p=Object(s.y)(l,l,Object(a.p)(u,u)),b=Object(i.a)(p,3),m=b[0],v=b[1],O=b[2];return Object(a.o)(u,m,0,0,0,v,0,0,0,O),Object(a.l)(e,u,e)}},1769:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Ke}));var i=n(89),a=n(88),r=n(90),o=n(91),s=n(94),c=n(145),l=n(101),u=n(102),h=n(281),f=n(97),d=n(191),p=(n(98),n(93),n(136)),b=n(95),m=n(137),v=n(259),O=n(330),j=n(311),y=n(302),x=n(4),_=n(12),g=n(1),P=n(129),w=n(128),k=n(564),R=(n(96),n(234)),M=n(105),I=n(329),B=n(99),L=n(112),S=n(126),X=n(1343),Y=n(108),T=n(178),C=n(340),E=n(171),z=n(222),V=n(135),A=n(164),H=n(206),N=n(125),W=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"projectOrWarn",value:function(e,t){if(null==e)return e;var n=Object(H.projectOrLoad)(e,t),i=n.geometry,a=n.pending;return a?null:a||i?i:(u.a.getLogger(this).warn("geometry could not be projected to the spatial reference",{georeference:this,geometry:e,sourceSpatialReference:e.spatialReference,targetSpatialReference:t}),null)}}]),n}(n(165).a),F=W=Object(s.a)([Object(b.a)("esri.layers.support.GeoreferenceBase")],W),J=Object(C.b)(),G=Object(z.b)(),D=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.apply(this,arguments)).sourcePoint=null,e.mapPoint=null,e}return Object(a.a)(n)}(S.a);Object(s.a)([Object(f.b)()],D.prototype,"sourcePoint",void 0),Object(s.a)([Object(f.b)({type:V.a})],D.prototype,"mapPoint",void 0),D=Object(s.a)([Object(b.a)("esri.layers.support.ControlPoint")],D);var U=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).controlPoints=null,a.height=0,a.type="control-points",a.width=0,a}return Object(a.a)(n,[{key:"readControlPoints",value:function(e,t){var n=N.a.fromJSON(t.spatialReference),i=C.c.apply(void 0,Object(L.a)(t.coefficients).concat([1]));return e.map((function(e){return Object(E.p)(G,e.x,e.y),Object(X.b)(G,G,i),{sourcePoint:e,mapPoint:new V.a({x:G[0],y:G[1],spatialReference:n})}}))}},{key:"writeControlPoints",value:function(e,t,n,i){if(null!=this.transform)null!=e&&q(e[0])&&(t.controlPoints=e.map((function(e){var t=e.sourcePoint;return{x:t.x,y:t.y}})),t.spatialReference=e[0].mapPoint.spatialReference.toJSON(),t.coefficients=this.transform.slice(0,8));else{var a=new l.a("web-document-write:invalid-georeference","Invalid 'controlPoints', 'width', 'height' configuration.",{layer:null===i||void 0===i?void 0:i.layer,georeference:this});null!==i&&void 0!==i&&i.messages?i.messages.push(a):u.a.getLogger(this).error(a.name,a.message)}}},{key:"coords",get:function(){if(null==this.controlPoints)return null;var e=this._updateTransform(J);if(null==e||!q(this.controlPoints[0]))return null;var t=this.controlPoints[0].mapPoint.spatialReference;return function(e,t,n,i){var a=Object(z.f)(0,n),r=Object(z.f)(0,0),o=Object(z.f)(t,0),s=Object(z.f)(t,n);return Object(X.b)(a,a,e),Object(X.b)(r,r,e),Object(X.b)(o,o,e),Object(X.b)(s,s,e),new A.a({rings:[[a,r,o,s,a]],spatialReference:i})}(e,this.width,this.height,t)},set:function(e){if(null!=this.controlPoints&&q(this.controlPoints[0])){var t=this.controlPoints[0].mapPoint.spatialReference;if(null!=(e=this.projectOrWarn(e,t))){var n=this.width,i=this.height,a=e,r=Object(B.a)(a.rings,1),o=Object(B.a)(r[0],4),s=o[0],c=o[1],l=o[2],u=o[3],h={sourcePoint:Object(Y.a)(0,i),mapPoint:new V.a({x:s[0],y:s[1],spatialReference:t})},f={sourcePoint:Object(Y.a)(0,0),mapPoint:new V.a({x:c[0],y:c[1],spatialReference:t})},d={sourcePoint:Object(Y.a)(n,0),mapPoint:new V.a({x:l[0],y:l[1],spatialReference:t})},p={sourcePoint:Object(Y.a)(n,i),mapPoint:new V.a({x:u[0],y:u[1],spatialReference:t})};q(h)&&q(f)&&q(d)&&q(p)&&(oe(J,h,f,d,p),this.controlPoints=this.controlPoints.map((function(e){var n=e.sourcePoint;return Object(E.p)(G,n.x,n.y),Object(X.b)(G,G,J),{sourcePoint:n,mapPoint:new V.a({x:G[0],y:G[1],spatialReference:t})}})))}}}},{key:"inverseTransform",get:function(){return null==this.transform?null:Object(T.e)(Object(C.b)(),this.transform)}},{key:"transform",get:function(){return this._updateTransform()}},{key:"toMap",value:function(e){if(null==e||null==this.transform||null==this.controlPoints||!q(this.controlPoints[0]))return null;Object(E.p)(G,e.x,e.y);var t=this.controlPoints[0].mapPoint.spatialReference;return Object(X.b)(G,G,this.transform),new V.a({x:G[0],y:G[1],spatialReference:t})}},{key:"toSource",value:function(e){if(null==e||null==this.inverseTransform||null==this.controlPoints||!q(this.controlPoints[0]))return null;var t=this.controlPoints[0].mapPoint.spatialReference;return e=e.normalize(),null==(e=Object(H.projectOrLoad)(e,t).geometry)?null:(Object(E.p)(G,e.x,e.y),Object(X.b)(G,G,this.inverseTransform),Object(Y.a)(G[0],G[1]))}},{key:"_updateTransform",value:function(e){var t=this.controlPoints,n=this.width,i=this.height;if(!(null!=t&&n>0&&i>0))return null;var a=Object(B.a)(t,4),r=a[0],o=a[1],s=a[2],c=a[3];if(!q(r))return null;var l=r.mapPoint.spatialReference,u=this._projectControlPoint(o,l),h=this._projectControlPoint(s,l),f=this._projectControlPoint(c,l);if(!u.valid||!h.valid||!f.valid)return null;if(!q(u.controlPoint))return null;null==e&&(e=Object(C.b)());var d=null;return d=q(h.controlPoint)&&q(f.controlPoint)?oe(e,r,u.controlPoint,h.controlPoint,f.controlPoint):q(h.controlPoint)?function(e,t,n,i){return re(K,ee,t),re(Q,te,n),re(Z,ne,i),Object(E.l)($,K,Q,.5),Object(E.o)($,Z,$,Math.PI),Object(E.l)(ie,ee,te,.5),Object(E.o)(ie,ne,ie,Math.PI),ue(e,K,Q,Z,$,ee,te,ne,ie)}(e,r,u.controlPoint,h.controlPoint):function(e,t,n){return re(K,ee,t),re(Q,te,n),Object(E.o)(Z,Q,K,ae),Object(E.o)($,K,Q,ae),Object(E.o)(ne,te,ee,-ae),Object(E.o)(ie,ee,te,-ae),ue(e,K,Q,Z,$,ee,te,ne,ie)}(e,r,u.controlPoint),d.every((function(e){return 0===e}))?null:d}},{key:"_projectControlPoint",value:function(e,t){if(!q(e))return{valid:!0,controlPoint:e};var n=e.sourcePoint,i=e.mapPoint,a=Object(H.projectOrLoad)(i,t),r=a.geometry,o=a.pending;return o?{valid:!1,controlPoint:null}:o||r?{valid:!0,controlPoint:{sourcePoint:n,mapPoint:r}}:(u.a.getLogger(this).warn("map point could not be projected to the spatial reference",{georeference:this,controlPoint:e,sourceSpatialReference:i.spatialReference,targetSpatialReference:t}),{valid:!1,controlPoint:null})}}]),n}(Object(M.b)(F));function q(e){return null!=e&&null!=e.sourcePoint&&null!=e.mapPoint}Object(s.a)([Object(f.b)({type:[D],json:{write:{allowNull:!1,isRequired:!0}}})],U.prototype,"controlPoints",void 0),Object(s.a)([Object(p.a)("controlPoints")],U.prototype,"readControlPoints",null),Object(s.a)([Object(m.a)("controlPoints")],U.prototype,"writeControlPoints",null),Object(s.a)([Object(f.b)()],U.prototype,"coords",null),Object(s.a)([Object(f.b)({json:{write:!0}})],U.prototype,"height",void 0),Object(s.a)([Object(f.b)({readOnly:!0})],U.prototype,"inverseTransform",null),Object(s.a)([Object(f.b)({readOnly:!0})],U.prototype,"transform",null),Object(s.a)([Object(f.b)({json:{write:!0}})],U.prototype,"width",void 0),U=Object(s.a)([Object(b.a)("esri.layers.support.ControlPointsGeoreference")],U);var K=Object(z.b)(),Q=Object(z.b)(),Z=Object(z.b)(),$=Object(z.b)(),ee=Object(z.b)(),te=Object(z.b)(),ne=Object(z.b)(),ie=Object(z.b)(),ae=Math.PI/2;function re(e,t,n){Object(E.p)(e,n.sourcePoint.x,n.sourcePoint.y),Object(E.p)(t,n.mapPoint.x,n.mapPoint.y)}function oe(e,t,n,i,a){return re(K,ee,t),re(Q,te,n),re(Z,ne,i),re($,ie,a),ue(e,K,Q,Z,$,ee,te,ne,ie)}var se=new Array(8).fill(0),ce=new Array(8).fill(0);function le(e,t,n,i,a){return e[0]=t[0],e[1]=t[1],e[2]=n[0],e[3]=n[1],e[4]=i[0],e[5]=i[1],e[6]=a[0],e[7]=a[1],e}function ue(e,t,n,i,a,r,o,s,c){return Object(X.a)(e,le(se,t,n,i,a),le(ce,r,o,s,c))}var he=U,fe=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).bottomLeft=null,a.bottomRight=null,a.topLeft=null,a.topRight=null,a.type="corners",a}return Object(a.a)(n,[{key:"coords",get:function(){var e=this.topLeft,t=this.topRight,n=this.bottomLeft,i=this.bottomRight;if(null==e||null==t||null==n||null==i)return null;var a=e.spatialReference;return t=this.projectOrWarn(t,a),n=this.projectOrWarn(n,a),i=this.projectOrWarn(i,a),null==t||null==n||null==i?null:new A.a({rings:[[[n.x,n.y],[e.x,e.y],[t.x,t.y],[i.x,i.y],[n.x,n.y]]],spatialReference:a})},set:function(e){var t=this.topLeft;if(null!=t){var n=t.spatialReference;if(null!=(e=this.projectOrWarn(e,n))){var i=e,a=Object(B.a)(i.rings,1),r=Object(B.a)(a[0],4),o=r[0],s=r[1],c=r[2],l=r[3];this.bottomLeft=new V.a({x:o[0],y:o[1],spatialReference:n}),this.topLeft=new V.a({x:s[0],y:s[1],spatialReference:n}),this.topRight=new V.a({x:c[0],y:c[1],spatialReference:n}),this.bottomRight=new V.a({x:l[0],y:l[1],spatialReference:n})}}}}]),n}(F);Object(s.a)([Object(f.b)()],fe.prototype,"coords",null),Object(s.a)([Object(f.b)({type:V.a})],fe.prototype,"bottomLeft",void 0),Object(s.a)([Object(f.b)({type:V.a})],fe.prototype,"bottomRight",void 0),Object(s.a)([Object(f.b)({type:V.a})],fe.prototype,"topLeft",void 0),Object(s.a)([Object(f.b)({type:V.a})],fe.prototype,"topRight",void 0);var de=fe=Object(s.a)([Object(b.a)("esri.layers.support.CornersGeoreference")],fe),pe=n(141),be=n(403),me=n(130),ve=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).extent=null,a.rotation=0,a.type="extent-and-rotation",a}return Object(a.a)(n,[{key:"coords",get:function(){if(null==this.extent)return null;var e,t=this.extent,n=t.xmin,i=t.ymin,a=t.xmax,r=t.ymax,o=t.spatialReference;if(this.rotation){var s=this.extent.center,c=Oe(s.x,s.y,this.rotation);(e=[c(n,i),c(n,r),c(a,r),c(a,i)]).push(e[0])}else e=[[n,i],[n,r],[a,r],[a,i],[n,i]];return new A.a({rings:[e],spatialReference:o})},set:function(e){if(null!=e&&null!=this.extent){var t=this.extent.spatialReference;if(null!=(e=this.projectOrWarn(e,t))&&null!=e.extent){var n=e,i=Object(B.a)(n.rings,1),a=Object(B.a)(i[0],3),r=a[0],o=a[1],s=a[2],c=n.extent.center,l=c.x,u=c.y,h=Object(pe.n)(Math.PI/2-Math.atan2(o[1]-r[1],o[0]-r[0])),f=Oe(l,u,-h),d=f(r[0],r[1]),p=Object(B.a)(d,2),b=p[0],m=p[1],v=f(s[0],s[1]),O=Object(B.a)(v,2),j=O[0],y=O[1];this.extent=new me.a({xmin:b,ymin:m,xmax:j,ymax:y,spatialReference:t}),this.rotation=h}}}}]),n}(F);function Oe(e,t,n){var i=Object(be.d)(n),a=Math.cos(i),r=Math.sin(i);return function(n,i){return[a*(n-e)+r*(i-t)+e,a*(i-t)-r*(n-e)+t]}}Object(s.a)([Object(f.b)()],ve.prototype,"coords",null),Object(s.a)([Object(f.b)({type:me.a})],ve.prototype,"extent",void 0),Object(s.a)([Object(f.b)({type:Number})],ve.prototype,"rotation",void 0),ve=Object(s.a)([Object(b.a)("esri.layers.support.ExtentAndRotationGeoreference")],ve);var je={key:"type",base:F,typeMap:{"control-points":he,corners:de,"extent-and-rotation":ve}},ye=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).georeference=null,a.opacity=1,a}return Object(a.a)(n,[{key:"readGeoreference",value:function(e){return he.fromJSON(e)}}]),n}(Object(R.b)(Object(M.b)(I.a)));Object(s.a)([Object(f.b)({types:je,json:{write:!0}})],ye.prototype,"georeference",void 0),Object(s.a)([Object(p.a)("georeference")],ye.prototype,"readGeoreference",null),Object(s.a)([Object(f.b)()],ye.prototype,"opacity",void 0);var xe=ye=Object(s.a)([Object(b.a)("esri.layers.support.MediaElementBase")],ye),_e=n(701),ge=n(215),Pe=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).content=null,a.image=null,a.type="image",a.image=null,a}return Object(a.a)(n,[{key:"load",value:function(){var e=this,t=this.image;if("string"==typeof t){var n=Object(P.default)(t,{responseType:"image"}).then((function(t){var n=t.data;e._set("content",n)}));this.addResolvingPromise(n)}else if(t instanceof HTMLImageElement){var i=t.decode().then((function(){e._set("content",t)}));this.addResolvingPromise(i)}else t?this._set("content",t):this.addResolvingPromise(Promise.reject(new l.a("image-element:invalid-image-type","Invalid image type",{image:t})));return Promise.resolve(this)}},{key:"readImage",value:function(e,t,n){return Object(ge.d)(t.url,n)}},{key:"writeImage",value:function(e,t,n,i){var a=this;if(null!=e){var r=null===i||void 0===i?void 0:i.portalItem,o=null===i||void 0===i?void 0:i.resources;if(r&&o){var s="string"!=typeof e||Object(w.y)(e)||Object(w.x)(e)?null:e;if(s){if(null==Object(ge.e)(s))return void(t[n]=s);var c=Object(ge.h)(s,Object(g.a)(Object(g.a)({},i),{},{verifyItemRelativeUrls:i&&i.verifyItemRelativeUrls?{writtenUrls:i.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0}),ge.a.NO);if(r&&c&&!Object(w.w)(c))return o.toKeep.push({resource:r.resourceFromPath(c),compress:!1}),void(t[n]=c)}t[n]="<pending>",o.pendingOperations.push(ke(e).then((function(e){var i=function(e,t){var n=Object(k.b)(),i="".concat(Object(w.D)("media",n),".").concat(Object(_e.a)(e));return t.resourceFromPath(i)}(e,r);t[n]=i.itemRelativeUrl,o.toAdd.push({resource:i,content:e,compress:!1,finish:function(e){a.image=e.url}})})))}else"string"==typeof e&&(t[n]=Object(ge.h)(e,i))}}}]),n}(xe);Object(s.a)([Object(f.b)({readOnly:!0})],Pe.prototype,"content",void 0),Object(s.a)([Object(f.b)({json:{name:"url",type:String}})],Pe.prototype,"image",void 0),Object(s.a)([Object(p.a)("image",["url"])],Pe.prototype,"readImage",null),Object(s.a)([Object(m.a)("image")],Pe.prototype,"writeImage",null),Object(s.a)([Object(f.b)({readOnly:!0,json:{name:"mediaType"}})],Pe.prototype,"type",void 0);var we=Pe=Object(s.a)([Object(b.a)("esri.layers.support.ImageElement")],Pe);function ke(e){return Re.apply(this,arguments)}function Re(){return(Re=Object(_.a)(Object(x.a)().mark((function e(t){var n,i;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=14;break}if(!Object(w.x)(t)){e.next=7;break}return e.next=4,Object(P.default)(t,{responseType:"blob"});case 4:return n=e.sent,i=n.data,e.abrupt("return",i);case 7:if(!Object(w.y)(t)){e.next=9;break}return e.abrupt("return",Object(w.j)(t));case 9:return e.t0=ke,e.next=12,Object(P.default)(t,{responseType:"image"});case 12:return e.t1=e.sent.data,e.abrupt("return",(0,e.t0)(e.t1));case 14:return e.abrupt("return",new Promise((function(e){return Me(t).toBlob(e)})));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(e){if(e instanceof HTMLCanvasElement)return e;var t=e instanceof HTMLImageElement?e.naturalWidth:e.width,n=e instanceof HTMLImageElement?e.naturalHeight:e.height,i=document.createElement("canvas"),a=i.getContext("2d");return i.width=t,i.height=n,e instanceof HTMLImageElement?a.drawImage(e,0,0,e.width,e.height):e instanceof ImageData&&a.putImageData(e,0,0),i}var Ie=n(92),Be=n(120),Le=(n(119),n(264)),Se=n(193),Xe=n(189),Ye=n(266),Te=n(110),Ce=n(127),Ee=n(139),ze=n(248),Ve=n(132),Ae=n(634),He=n(1342),Ne=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).content=null,a.type="video",a}return Object(a.a)(n,[{key:"load",value:function(){var e=this,t=this.video;if("string"==typeof t){var n=document.createElement("video");n.src=t,n.crossOrigin="anonymous",n.autoplay=!0,n.muted=!0,n.loop=!0,this.addResolvingPromise(this._loadVideo(n).then((function(){e._set("content",n)})))}else t instanceof HTMLVideoElement?this.addResolvingPromise(this._loadVideo(t).then((function(){e._set("content",t)}))):this.addResolvingPromise(Promise.reject(new l.a("video-element:invalid-video-type","Invalid video type",{video:t})));return Promise.resolve(this)}},{key:"video",set:function(e){"not-loaded"===this.loadStatus?this._set("video",e):u.a.getLogger(this).error("#video","video cannot be changed after the element is loaded.")}},{key:"_loadVideo",value:function(e){return new Promise((function(t,n){e.oncanplay=function(){e.oncanplay=null,e.play().then(t,n)},"anonymous"!==e.crossOrigin&&(e.crossOrigin="anonymous",e.src=e.src)}))}}]),n}(xe);Object(s.a)([Object(f.b)({readOnly:!0})],Ne.prototype,"content",void 0),Object(s.a)([Object(f.b)()],Ne.prototype,"video",null);var We=Ne=Object(s.a)([Object(b.a)("esri.layers.support.VideoElement")],Ne),Fe={key:"type",defaultKeyValue:"image",base:xe,typeMap:{image:we,video:We}},Je=c.a.ofType(Fe),Ge=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e))._index=new Ae.a,a._elementViewsMap=new Map,a._elementsIndexes=new Map,a._elementsChangedHandler=function(e){var t,n=Object(Ie.a)(e.removed);try{for(n.s();!(t=n.n()).done;){var i=t.value,r=a._elementViewsMap.get(i);a._elementViewsMap.delete(i),a._index.delete(r),a.handles.remove(r),r.destroy(),a.notifyChange("fullExtent")}}catch(u){n.e(u)}finally{n.f()}var o,s=Object(Be.a)(a).spatialReference,c=Object(Ie.a)(e.added);try{var l=function(){var e=o.value;if(a._elementViewsMap.get(e))return 1;var t=new He.a({spatialReference:s,element:e});a._elementViewsMap.set(e,t);var n=Object(Ce.e)((function(){return t.coords}),(function(){return a._updateIndexForElement(t,!1)}));a._updateIndexForElement(t,!0),a.handles.add(n,t)};for(c.s();!(o=c.n()).done;)l()}catch(u){c.e(u)}finally{c.f()}a._elementsIndexes.clear(),a.elements.forEach((function(e,t){return a._elementsIndexes.set(e,t)})),a.emit("refresh")},a.elements=new Je,a}return Object(a.a)(n,[{key:"load",value:function(){var e=Object(_.a)(Object(x.a)().mark((function e(t){var n;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(Te.n)(t),this.spatialReference||(n=this.elements.find((function(e){return null!=e.georeference&&null!=e.georeference.coords})),this._set("spatialReference",n?n.georeference.coords.spatialReference:N.a.WGS84)),e.abrupt("return",(this._elementsChangedHandler({added:this.elements.items,removed:[]}),this.handles.add(this.elements.on("change",this._elementsChangedHandler)),this));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){this._index.clear(),this._elementViewsMap.clear(),this._elementsIndexes.clear()}},{key:"elements",set:function(e){this._set("elements",Object(Le.b)(e,this._get("elements"),Je))}},{key:"fullExtent",get:function(){if("not-loaded"===this.loadStatus)return null;var e=this._index.fullBounds;return null==e?null:new me.a({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:this.spatialReference})}},{key:"spatialReference",set:function(e){"not-loaded"===this.loadStatus?this._set("spatialReference",e):u.a.getLogger(this).error("#spatialReference","spatialReference cannot be changed after the source is loaded.")}},{key:"queryElements",value:function(){var e=Object(_.a)(Object(x.a)().mark((function e(t,n){var i,a,r,o,s,c,l=this;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load();case 2:return e.next=4,Object(H.initializeProjection)(t.spatialReference,this.spatialReference,null,n);case 4:if(i=Object(Ve.d)(t.spatialReference,this.spatialReference)?t:Object(H.project)(t,this.spatialReference)){e.next=7;break}return e.abrupt("return",[]);case 7:a=i.normalize(),r=[],o=Object(Ie.a)(a),e.prev=9,c=Object(x.a)().mark((function e(){var t;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=s.value,l._index.forEachInBounds(Object(Ee.n)(t),(function(e){var n=e.normalizedCoords,i=e.element;null!=n&&Object(ze.b)(t,n)&&r.push(i)}));case 2:case"end":return e.stop()}}),e)})),o.s();case 12:if((s=o.n()).done){e.next=16;break}return e.delegateYield(c(),"t0",14);case 14:e.next=12;break;case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(9),o.e(e.t1);case 21:return e.prev=21,o.f(),e.finish(21);case 24:return e.abrupt("return",(r.sort((function(e,t){return l._elementsIndexes.get(e)-l._elementsIndexes.get(t)})),r));case 25:case"end":return e.stop()}}),e,this,[[9,18,21,24]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_updateIndexForElement",value:function(e,t){var n=e.normalizedBounds,i=this._index.has(e),a=null!=n;this._index.delete(e),a&&this._index.set(e,n),this.notifyChange("fullExtent"),t||(i!==a?this.emit("refresh"):this.emit("change",{element:e.element}))}}]),n}(I.a.LoadableMixin(Object(Ye.b)(Object(Xe.b)(Se.a.EventedAccessor))));Object(s.a)([Object(f.b)()],Ge.prototype,"elements",null),Object(s.a)([Object(f.b)({readOnly:!0})],Ge.prototype,"fullExtent",null),Object(s.a)([Object(f.b)()],Ge.prototype,"spatialReference",null);var De=Ge=Object(s.a)([Object(b.a)("esri.layers.support.LocalMediaElementSource")],Ge);function Ue(e){return"object"==typeof e&&null!=e&&"type"in e}var qe=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).effectiveSource=null,a.copyright=null,a.operationalLayerType="MediaLayer",a.spatialReference=null,a.type="media",a.source=new De,a}return Object(a.a)(n,[{key:"load",value:function(e){var t=this,n=this.source;if(!n)return this.addResolvingPromise(Promise.reject(new l.a("media-layer:source-missing","Set 'MediaLayer.source' before loading the layer."))),Promise.resolve(this);var i=Ue(n)?new De({elements:new c.a([n])}):n;this._set("effectiveSource",i),this.spatialReference&&(i.spatialReference=this.spatialReference);var a=i.load(e).then((function(){t.spatialReference=i.spatialReference}));return this.addResolvingPromise(a),Promise.resolve(this)}},{key:"destroy",value:function(){var e,t;null!==(e=this.effectiveSource)&&void 0!==e&&e.destroy(),null===(t=this.source)||void 0===t||t.destroy()}},{key:"fullExtent",get:function(){return this.loaded?this.effectiveSource.fullExtent:null}},{key:"source",set:function(e){"not-loaded"===this.loadStatus?this._set("source",e):u.a.getLogger(this).error("#source","source cannot be changed after the layer is loaded.")}},{key:"castSource",value:function(e){return e?Array.isArray(e)?new De({elements:new c.a(e)}):e instanceof c.a?new De({elements:e}):e:null}},{key:"readSource",value:function(e,t,n){var i="image"===t.mediaType?new we:"video"===t.mediaType?new We:null;return null!==i&&void 0!==i&&i.read(t,n),i}},{key:"writeSource",value:function(e,t,n,i){var a;e&&Ue(e)&&"image"===e.type?e.write(t,i):(null===i||void 0===i?void 0:i.messages)&&(null===i||void 0===i||null===(a=i.messages)||void 0===a||a.push(new l.a("media-layer:unsupported-source","source must be an 'ImageElement'")))}}]),n}(Object(O.a)(Object(y.a)(Object(j.a)(Object(h.a)(v.a)))));Object(s.a)([Object(f.b)({readOnly:!0})],qe.prototype,"effectiveSource",void 0),Object(s.a)([Object(f.b)({type:String})],qe.prototype,"copyright",void 0),Object(s.a)([Object(f.b)({readOnly:!0})],qe.prototype,"fullExtent",null),Object(s.a)([Object(f.b)({type:["MediaLayer"]})],qe.prototype,"operationalLayerType",void 0),Object(s.a)([Object(f.b)({type:["show","hide"]})],qe.prototype,"listMode",void 0),Object(s.a)([Object(f.b)({nonNullable:!0,json:{write:{enabled:!0,allowNull:!1}}})],qe.prototype,"source",null),Object(s.a)([Object(d.a)("source")],qe.prototype,"castSource",null),Object(s.a)([Object(p.a)("source",["url"])],qe.prototype,"readSource",null),Object(s.a)([Object(m.a)("source")],qe.prototype,"writeSource",null),Object(s.a)([Object(f.b)()],qe.prototype,"spatialReference",void 0),Object(s.a)([Object(f.b)({readOnly:!0})],qe.prototype,"type",void 0);var Ke=qe=Object(s.a)([Object(b.a)("esri.layers.MediaLayer")],qe)},242:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l}));var i=n(92),a=n(192),r=n(125),o=n(122),s={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new a.a({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:r.a.WebMercator}),minus180Line:new a.a({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:r.a.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new a.a({paths:[[[180,-180],[180,180]]],spatialReference:r.a.WGS84}),minus180Line:new a.a({paths:[[[-180,-180],[-180,180]]],spatialReference:r.a.WGS84})}};function c(e,t){return Math.ceil((e-t)/(2*t))}function l(e,t){var n,a=u(e),r=Object(i.a)(a);try{for(r.s();!(n=r.n()).done;){var o,s=n.value,c=Object(i.a)(s);try{for(c.s();!(o=c.n()).done;){o.value[0]+=t}}catch(l){c.e(l)}finally{c.f()}}}catch(l){r.e(l)}finally{r.f()}return e}function u(e){return Object(o.g)(e)?e.rings:e.paths}},407:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d}));var i=n(88),a=n(89),r=n(92),o=n(99),s=n(139),c=n(153),l=n(241),u=n(122),h=n(242),f=n(132);function d(e){return b(e,!0)}function p(e){return b(e,!1)}function b(e,t){if(null==e)return null;var n=e.spatialReference,i=Object(f.e)(n),a="toJSON"in e?e.toJSON():e;if(!i)return a;var r=Object(f.p)(n)?102100:4326,o=h.a[r].maxX,s=h.a[r].minX;if(Object(u.f)(a))return v(a,o,s);if(Object(u.e)(a))return a.points=a.points.map((function(e){return v(e,o,s)})),a;if(Object(u.d)(a))return m(a,i);if(Object(u.g)(a)||Object(u.h)(a)){var l=Object(c.b)(g,a),d={xmin:l[0],ymin:l[1],xmax:l[2],ymax:l[3]},p=Object(h.c)(d.xmin,s)*(2*o),b=0===p?a:Object(h.d)(a,p);return d.xmin+=p,d.xmax+=p,d.xmax>o?x(b,o,t):d.xmin<s?x(b,s,t):b}return a}function m(e,t){if(!t)return e;var n=function(e,t){var n=[],i=e.ymin,a=e.ymax,r=e.xmin,s=e.xmax,c=e.xmax-e.xmin,l=Object(o.a)(t.valid,2),u=l[0],h=l[1],f=O(e.xmin,t),d=f.x,p=f.frameId,b=O(e.xmax,t),m=b.x,v=b.frameId,y=d===m&&c>0;if(c>2*h){var x={xmin:r<s?d:m,ymin:i,xmax:h,ymax:a},g={xmin:u,ymin:i,xmax:r<s?m:d,ymax:a},P={xmin:0,ymin:i,xmax:h,ymax:a},w={xmin:u,ymin:i,xmax:0,ymax:a},k=[],R=[];j(x,P)&&k.push(p),j(x,w)&&R.push(p),j(g,P)&&k.push(v),j(g,w)&&R.push(v);for(var M=p+1;M<v;M++)k.push(M),R.push(M);n.push(new _(x,[p]),new _(g,[v]),new _(P,k),new _(w,R))}else d>m||y?n.push(new _({xmin:d,ymin:i,xmax:h,ymax:a},[p]),new _({xmin:u,ymin:i,xmax:m,ymax:a},[v])):n.push(new _({xmin:d,ymin:i,xmax:m,ymax:a},[p]));return n}(e,t).map((function(e){return e.extent}));return n.length<2?n[0]||e:n.length>2?(e.xmin=t.valid[0],e.xmax=t.valid[1],e):{rings:n.map((function(e){return[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]}))}}function v(e,t,n){if(Array.isArray(e)){var i=e[0];if(i>t){var a=Object(h.c)(i,t);e[0]=i+a*(-2*t)}else if(i<n){var r=Object(h.c)(i,n);e[0]=i+r*(-2*n)}}else{var o=e.x;if(o>t){var s=Object(h.c)(o,t);e.x+=s*(-2*t)}else if(o<n){var c=Object(h.c)(o,n);e.x+=c*(-2*n)}}return e}function O(e,t){var n,i=Object(o.a)(t.valid,2),a=i[0],r=i[1],s=2*r,c=0;return e>r?(e-=(n=Math.ceil(Math.abs(e-r)/s))*s,c=n):e<a&&(e+=(n=Math.ceil(Math.abs(e-a)/s))*s,c=-n),{x:e,frameId:c}}function j(e,t){var n=t.xmin,i=t.ymin,a=t.xmax,r=t.ymax;return y(e,n,i)&&y(e,n,r)&&y(e,a,r)&&y(e,a,i)}function y(e,t,n){return t>=e.xmin&&t<=e.xmax&&n>=e.ymin&&n<=e.ymax}function x(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!Object(u.h)(e);if(i&&Object(l.a)(e),n)return(new P).cut(e,t);for(var a=i?e.rings:e.paths,o=i?4:2,s=a.length,c=-2*t,h=0;h<s;h++){var f=a[h];if(f&&f.length>=o){var d,p=[],b=Object(r.a)(f);try{for(b.s();!(d=b.n()).done;){var m=d.value;p.push([m[0]+c,m[1]])}}catch(v){b.e(v)}finally{b.f()}a.push(p)}}return i?e.rings=a:e.paths=a,e}var _=Object(i.a)((function e(t,n){Object(a.a)(this,e),this.extent=t,this.frameIds=n})),g=Object(s.h)(),P=function(){function e(){Object(a.a)(this,e),this._linesIn=[],this._linesOut=[]}return Object(i.a)(e,[{key:"cut",value:function(e,t){var n;if(this._xCut=t,e.rings)this._closed=!0,n=e.rings,this._minPts=4;else{if(!e.paths)return null;this._closed=!1,n=e.paths,this._minPts=2}var i,a=Object(r.a)(n);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(o&&!(o.length<this._minPts)){var s,c=!0,l=Object(r.a)(o);try{for(l.s();!(s=l.n()).done;){var u=s.value;c?(this.moveTo(u),c=!1):this.lineTo(u)}}catch(y){l.e(y)}finally{l.f()}this._closed&&this.close()}}}catch(y){a.e(y)}finally{a.f()}this._pushLineIn(),this._pushLineOut(),n=[];var h,f=Object(r.a)(this._linesIn);try{for(f.s();!(h=f.n()).done;){var d=h.value;d&&d.length>=this._minPts&&n.push(d)}}catch(y){f.e(y)}finally{f.f()}var p,b=-2*this._xCut,m=Object(r.a)(this._linesOut);try{for(m.s();!(p=m.n()).done;){var v=p.value;if(v&&v.length>=this._minPts){var O,j=Object(r.a)(v);try{for(j.s();!(O=j.n()).done;){O.value[0]+=b}}catch(y){j.e(y)}finally{j.f()}n.push(v)}}}catch(y){m.e(y)}finally{m.f()}return this._closed?e.rings=n:e.paths=n,e}},{key:"moveTo",value:function(e){this._pushLineIn(),this._pushLineOut(),this._prevSide=this._side(e[0]),this._moveTo(e[0],e[1],this._prevSide),this._prevPt=e,this._firstPt=e}},{key:"lineTo",value:function(e){var t=this._side(e[0]);if(t*this._prevSide==-1){var n=this._intersect(this._prevPt,e);this._lineTo(this._xCut,n,0),this._prevSide=0,this._lineTo(e[0],e[1],t)}else this._lineTo(e[0],e[1],t);this._prevSide=t,this._prevPt=e}},{key:"close",value:function(){var e=this._firstPt,t=this._prevPt;e[0]===t[0]&&e[1]===t[1]||this.lineTo(e),this._checkClosingPt(this._lineIn),this._checkClosingPt(this._lineOut)}},{key:"_moveTo",value:function(e,t,n){this._closed?(this._lineIn.push([n<=0?e:this._xCut,t]),this._lineOut.push([n>=0?e:this._xCut,t])):(n<=0&&this._lineIn.push([e,t]),n>=0&&this._lineOut.push([e,t]))}},{key:"_lineTo",value:function(e,t,n){this._closed?(this._addPolyVertex(this._lineIn,n<=0?e:this._xCut,t),this._addPolyVertex(this._lineOut,n>=0?e:this._xCut,t)):n<0?(0===this._prevSide&&this._pushLineOut(),this._lineIn.push([e,t])):n>0?(0===this._prevSide&&this._pushLineIn(),this._lineOut.push([e,t])):this._prevSide<0?(this._lineIn.push([e,t]),this._lineOut.push([e,t])):this._prevSide>0&&(this._lineOut.push([e,t]),this._lineIn.push([e,t]))}},{key:"_addPolyVertex",value:function(e,t,n){var i=e.length;i>1&&e[i-1][0]===t&&e[i-2][0]===t?e[i-1][1]=n:e.push([t,n])}},{key:"_checkClosingPt",value:function(e){var t=e.length;t>3&&e[0][0]===this._xCut&&e[t-2][0]===this._xCut&&e[1][0]===this._xCut&&(e[0][1]=e[t-2][1],e.pop())}},{key:"_side",value:function(e){return e<this._xCut?-1:e>this._xCut?1:0}},{key:"_intersect",value:function(e,t){var n=(this._xCut-e[0])/(t[0]-e[0]);return e[1]+n*(t[1]-e[1])}},{key:"_pushLineIn",value:function(){this._lineIn&&this._lineIn.length>=this._minPts&&this._linesIn.push(this._lineIn),this._lineIn=[]}},{key:"_pushLineOut",value:function(){this._lineOut&&this._lineOut.length>=this._minPts&&this._linesOut.push(this._lineOut),this._lineOut=[]}}]),e}()},597:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n(90),a=n(91),r=n(92),o=n(89),s=n(88),c=n(98),l=n(111),u=n(440),h=n(670),f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,n=arguments.length>1?arguments[1]:void 0;Object(o.a)(this,e),this._compareMinX=m,this._compareMinY=v,this._toBBox=function(e){return e},this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&("function"==typeof n?this._toBBox=n:this._initFormat(n)),this.clear()}return Object(s.a)(e,[{key:"destroy",value:function(){this.clear(),w.prune(),k.prune(),R.prune(),M.prune()}},{key:"all",value:function(e){this._all(this._data,e)}},{key:"search",value:function(e,t){var n=this._data,i=this._toBBox;if(g(e,n))for(w.clear();n;){for(var a=0,r=n.children.length;a<r;a++){var o=n.children[a],s=n.leaf?i(o):o;g(e,s)&&(n.leaf?t(o):_(e,s)?this._all(o,t):w.push(o))}n=w.pop()}}},{key:"collides",value:function(e){var t=this._data,n=this._toBBox;if(!g(e,t))return!1;for(w.clear();t;){for(var i=0,a=t.children.length;i<a;i++){var r=t.children[i],o=t.leaf?n(r):r;if(g(e,o)){if(t.leaf||_(e,o))return!0;w.push(r)}}t=w.pop()}return!1}},{key:"load",value:function(e){if(!e.length)return this;if(e.length<this._minEntries){for(var t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}var i=this._build(e.slice(0,e.length),0,e.length-1,0);if(this._data.children.length)if(this._data.height===i.height)this._splitRoot(this._data,i);else{if(this._data.height<i.height){var a=this._data;this._data=i,i=a}this._insert(i,this._data.height-i.height-1,!0)}else this._data=i;return this}},{key:"insert",value:function(e){return e&&this._insert(e,this._data.height-1),this}},{key:"clear",value:function(){return this._data=new B([]),this}},{key:"remove",value:function(e){if(!e)return this;var t,n=this._data,i=null,a=0,r=!1,o=this._toBBox(e);for(R.clear(),M.clear();n||R.length>0;){var s;if(n||(n=Object(l.d)(R.pop()),i=R.data[R.length-1],a=null!==(s=M.pop())&&void 0!==s?s:0,r=!0),n.leaf&&-1!==(t=Object(c.g)(n.children,e,n.children.length,n.indexHint)))return n.children.splice(t,1),R.push(n),this._condense(R),this;r||n.leaf||!_(n,o)?i?(a++,n=i.children[a],r=!1):n=null:(R.push(n),M.push(a),a=0,i=n,n=n.children[0])}return this}},{key:"toJSON",value:function(){return this._data}},{key:"fromJSON",value:function(e){return this._data=e,this}},{key:"_all",value:function(e,t){var n=e;for(k.clear();n;){var i;if(!0===n.leaf){var a,o=Object(r.a)(n.children);try{for(o.s();!(a=o.n()).done;){t(a.value)}}catch(s){o.e(s)}finally{o.f()}}else k.pushArray(n.children);n=null!==(i=k.pop())&&void 0!==i?i:null}}},{key:"_build",value:function(e,t,n,i){var a=n-t+1,r=this._maxEntries;if(a<=r){var o=new B(e.slice(t,n+1));return d(o,this._toBBox),o}i||(i=Math.ceil(Math.log(a)/Math.log(r)),r=Math.ceil(a/Math.pow(r,i-1)));var s=new L([]);s.height=i;var c=Math.ceil(a/r),l=c*Math.ceil(Math.sqrt(r));P(e,t,n,l,this._compareMinX);for(var u=t;u<=n;u+=l){var h=Math.min(u+l-1,n);P(e,u,h,c,this._compareMinY);for(var f=u;f<=h;f+=c){var p=Math.min(f+c-1,h);s.children.push(this._build(e,f,p,i-1))}}return d(s,this._toBBox),s}},{key:"_chooseSubtree",value:function(e,t,n,i){for(;i.push(t),!0!==t.leaf&&i.length-1!==n;){for(var a=void 0,r=1/0,o=1/0,s=0,c=t.children.length;s<c;s++){var l=t.children[s],u=O(l),h=y(e,l)-u;h<o?(o=h,r=u<r?u:r,a=l):h===o&&u<r&&(r=u,a=l)}t=a||t.children[0]}return t}},{key:"_insert",value:function(e,t,n){var i=this._toBBox,a=n?e:i(e);R.clear();var r=this._chooseSubtree(a,this._data,t,R);for(r.children.push(e),b(r,a);t>=0&&R.data[t].children.length>this._maxEntries;)this._split(R,t),t--;this._adjustParentBBoxes(a,R,t)}},{key:"_split",value:function(e,t){var n=e.data[t],i=n.children.length,a=this._minEntries;this._chooseSplitAxis(n,a,i);var r=this._chooseSplitIndex(n,a,i);if(r){var o=n.children.splice(r,n.children.length-r),s=n.leaf?new B(o):new L(o);s.height=n.height,d(n,this._toBBox),d(s,this._toBBox),t?e.data[t-1].children.push(s):this._splitRoot(n,s)}else console.log("  Error: assertion failed at PooledRBush._split: no valid split index")}},{key:"_splitRoot",value:function(e,t){this._data=new L([e,t]),this._data.height=e.height+1,d(this._data,this._toBBox)}},{key:"_chooseSplitIndex",value:function(e,t,n){var i,a,r;i=a=1/0;for(var o=t;o<=n-t;o++){var s=p(e,0,o,this._toBBox),c=p(e,o,n,this._toBBox),l=x(s,c),u=O(s)+O(c);l<i?(i=l,r=o,a=u<a?u:a):l===i&&u<a&&(a=u,r=o)}return r}},{key:"_chooseSplitAxis",value:function(e,t,n){var i=e.leaf?this._compareMinX:m,a=e.leaf?this._compareMinY:v;this._allDistMargin(e,t,n,i)<this._allDistMargin(e,t,n,a)&&e.children.sort(i)}},{key:"_allDistMargin",value:function(e,t,n,i){e.children.sort(i);for(var a=this._toBBox,r=p(e,0,t,a),o=p(e,n-t,n,a),s=j(r)+j(o),c=t;c<n-t;c++){var l=e.children[c];b(r,e.leaf?a(l):l),s+=j(r)}for(var u=n-t-1;u>=t;u--){var h=e.children[u];b(o,e.leaf?a(h):h),s+=j(o)}return s}},{key:"_adjustParentBBoxes",value:function(e,t,n){for(var i=n;i>=0;i--)b(t.data[i],e)}},{key:"_condense",value:function(e){for(var t=e.length-1;t>=0;t--){var n=e.data[t];if(0===n.children.length)if(t>0){var i=e.data[t-1],a=i.children;a.splice(Object(c.g)(a,n,a.length,i.indexHint),1)}else this.clear();else d(n,this._toBBox)}}},{key:"_initFormat",value:function(e){var t=["return a"," - b",";"];this._compareMinX=new Function("a","b",t.join(e[0])),this._compareMinY=new Function("a","b",t.join(e[1])),this._toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}]),e}();function d(e,t){p(e,0,e.children.length,t,e)}function p(e,t,n,i,a){a||(a=new B([])),a.minX=1/0,a.minY=1/0,a.maxX=-1/0,a.maxY=-1/0;for(var r,o=t;o<n;o++)r=e.children[o],b(a,e.leaf?i(r):r);return a}function b(e,t){e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY)}function m(e,t){return e.minX-t.minX}function v(e,t){return e.minY-t.minY}function O(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function j(e){return e.maxX-e.minX+(e.maxY-e.minY)}function y(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function x(e,t){var n=Math.max(e.minX,t.minX),i=Math.max(e.minY,t.minY),a=Math.min(e.maxX,t.maxX),r=Math.min(e.maxY,t.maxY);return Math.max(0,a-n)*Math.max(0,r-i)}function _(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function g(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function P(e,t,n,i,a){for(var r=[t,n];r.length;){var o=Object(l.d)(r.pop()),s=Object(l.d)(r.pop());if(!(o-s<=i)){var c=s+Math.ceil((o-s)/i/2)*i;Object(h.a)(e,c,s,o,a),r.push(s,c,c,o)}}}var w=new u.a,k=new u.a,R=new u.a,M=new u.a({deallocator:void 0}),I=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).height=1,e.indexHint=new c.a,e}return Object(s.a)(n)}(Object(s.a)((function e(){Object(o.a)(this,e),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}))),B=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this)).children=e,i.leaf=!0,i}return Object(s.a)(n)}(I),L=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this)).children=e,i.leaf=!1,i}return Object(s.a)(n)}(I)},634:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(92),a=n(89),r=n(88),o=n(93),s=n(597),c=n(139),l={minX:0,minY:0,maxX:0,maxY:0};function u(e,t,n){(function(e){l.minX=e[0],l.minY=e[1],l.maxX=e[2],l.maxY=e[3]})(t),e.search(l,n)}var h=function(){function e(){var t=this;Object(a.a)(this,e),this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new s.a(9,Object(o.a)("esri-csp-restrictions")?function(e){return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}}:["[0]","[1]","[2]","[3]"]),this._loadIndex=function(){if(t._indexInvalid){var e=new Array(t._idByBounds.size),n=0;t._idByBounds.forEach((function(t,i){e[n++]=i})),t._indexInvalid=!1,t._index.clear(),t._index.load(e)}else t._boundsToLoad.length&&(t._index.load(Array.from(new Set(t._boundsToLoad.filter((function(e){return t._idByBounds.has(e)}))))),t._boundsToLoad.length=0)}}return Object(r.a)(e,[{key:"fullBounds",get:function(){if(!this._boundsById.size)return null;var e,t=Object(c.i)(),n=Object(i.a)(this._boundsById.values());try{for(n.s();!(e=n.n()).done;){var a=e.value;a&&(t[0]=Math.min(a[0],t[0]),t[1]=Math.min(a[1],t[1]),t[2]=Math.max(a[2],t[2]),t[3]=Math.max(a[3],t[3]))}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"valid",get:function(){return!this._indexInvalid}},{key:"clear",value:function(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}},{key:"delete",value:function(e){var t=this._boundsById.get(e);this._boundsById.delete(e),t&&(this._idByBounds.delete(t),this._indexInvalid||this._index.remove(t))}},{key:"forEachInBounds",value:function(e,t){var n=this;this._loadIndex(),u(this._index,e,(function(e){return t(n._idByBounds.get(e))}))}},{key:"get",value:function(e){return this._boundsById.get(e)}},{key:"has",value:function(e){return this._boundsById.has(e)}},{key:"invalidateIndex",value:function(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}},{key:"set",value:function(e,t){if(!this._indexInvalid){var n=this._boundsById.get(e);n&&(this._index.remove(n),this._idByBounds.delete(n))}this._boundsById.set(e,t),t&&(this._idByBounds.set(t,e),this._indexInvalid||(this._boundsToLoad.push(t),this._boundsToLoad.length>5e4&&this._loadIndex()))}}]),e}()},701:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(128);function a(e){return r[function(e){return e instanceof Blob?e.type:function(e){var t=Object(i.q)(e);return c[t]||o}(e.url)}(e)]||s}var r={},o="text/plain",s=r[o],c={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(var l in c)r[c[l]]=l}}]);
//# sourceMappingURL=188.23d8c2da.chunk.js.map
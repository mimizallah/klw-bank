{"version":3,"sources":["../node_modules/@arcgis/core/layers/ogc/ogcFeatureUtils.js","../node_modules/@arcgis/core/layers/graphics/sources/OGCFeatureSource.js","../node_modules/@arcgis/core/layers/OGCFeatureLayer.js","../node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js","../node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js","../node_modules/@babel/runtime/helpers/esm/wrapRegExp.js","../node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js"],"names":["y","n","getLogger","w","b","concat","h","_x","_x2","_h","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","i","r","a","s","o","_yield$e","l","d","g","j","F","_e2","_iterator","_step","_e4","_e3","_t","_t2","_t3","_args","wrap","_context","prev","next","length","undefined","links","$","t","e","href","signal","query","_objectSpread","limit","customParameters","token","apiKey","headers","accept","sent","data","c","u","geometryType","fields","hasZ","objectIdField","objectIdFieldName","timeInfo","find","_ref3","name","editable","nullable","objectIdFieldType","unshift","alias","type","_ref4","unknownFields","warn","message","details","_createForOfIteratorHelper","done","value","field","f","jsonValues","includes","t0","finish","p","startTimeField","get","endTimeField","trackIdField","abrupt","drawingInfo","m","extent","M","stop","_x3","_j","_callee2","_yield$e2","_args2","_context2","_x4","_F","_callee3","_yield$e3","_args3","_context3","I","_x5","_I","_callee4","_yield$e4","_args4","_context4","T","_x6","_T","_callee5","_yield$e5","_args5","_context5","k","_wrapRegExp","authority","version","code","exec","groups","toLowerCase","GCS_NAD_1927","wkid","WGS84","Number","parseInt","isNaN","x","_x7","_x8","_x9","_x10","_callee6","_context6","S","_x11","_x12","_x13","_S","_callee7","_a$outSpatialReferenc","_n$queryParameters","v","q","G","W","D","_yield$e6","P","Z","_e5","K","L","J","z","A","_iterator2","_step2","_e6","_t4","_iterator3","_step3","_e7","E","U","_context7","collection","layerDefinition","maxRecordCount","queryParameters","spatialReference","supportedCrs","geometry","num","start","timeExtent","where","objectIds","fromJSON","outSpatialReference","isWGS84","N","C","O","crs","datetime","startindex","rel","isInteger","numberMatched","numberReturned","isWebMercator","err","objectId","attributes","toJSON","exceededTransferLimit","features","_ref","_ref2","_t$","xmin","ymin","xmax","ymax","end","toISOString","bbox","_e$extent","spatial","zmin","zmax","_s","_inherits","_super","_createSuper","_this","_classCallCheck","featureDefinition","_createClass","key","this","addResolvingPromise","_loadOGCServices","layer","when","_this$featureDefiniti","_this$layer","effectiveMaxRecordCount","queryFeaturesJSON","then","getSource","load","_e$conformsTo$some","RegExp","conformsTo","some","test","analytics","supportsCacheHint","attachment","isVersioned","supportsAttachment","supportsM","supportsZ","metadata","supportsAdvancedFieldProperties","operations","supportsCalculate","supportsTruncate","supportsValidateSql","supportsAdd","supportsDelete","supportsEditing","supportsChangeTracking","supportsQuery","supportsQueryAnalytics","supportsQueryAttachments","supportsQueryTopFeatures","supportsResizeAttachments","supportsSync","supportsUpdate","supportsExceedsLimitStatistics","supportsAsyncConvert3D","maxRecordCountFactor","standardMaxRecordCount","supportsCentroid","supportsDisjointSpatialRelationship","supportsDistance","supportsDistinct","supportsExtent","supportsFormatPBF","supportsGeometryProperties","supportsHavingClause","supportsHistoricMoment","supportsMaxRecordCountFactor","supportsOrderBy","supportsPagination","supportsPercentileStatistics","supportsQuantization","supportsQuantizationEditMode","supportsQueryByOthers","supportsQueryGeometry","supportsResultType","supportsStandardizedQueriesOnly","supportsTopFeaturesQuery","supportsStatistics","supportsSpatialAggregationStatistics","supportedSpatialAggregationStatistics","envelope","centroid","convexHull","supportsDefaultSpatialReference","supportsFullTextSearch","supportsCompactGeometry","supportsSqlExpression","tileMaxRecordCount","queryRelated","supportsCount","queryTopFeatures","editing","supportsDeleteByAnonymous","supportsDeleteByOthers","supportsGeometryUpdate","supportsGlobalId","supportsReturnServiceEditsInSourceSpatialReference","supportsRollbackOnFailure","supportsUpdateByAnonymous","supportsUpdateByOthers","supportsUploadWithItemId","supportsUpdateWithoutM","supportsAsyncApplyEdits","_e$components","_t$limit$schema$maxim","_t$limit","_t$limitFeatures","components","parameters","schema","maximum","limitFeatures","_e$storageCrs","storageCrs","_e$crs","_t$crs","filter","_loadOGCServices2","R","_yield$Promise$all","_yield$Promise$all2","_","_e","collectionId","url","map","Promise","all","_slicedToArray","_conformsToType","collections","id","_getMaxRecordCount","_getCapabilities","_getStorageSpatialReference","_getSupportedSpatialReferences","replace","capabilities","prototype","constructOnly","B","_d","call","copyright","definitionExpression","description","displayField","elevationInfo","fieldsIndex","fullExtent","labelingInfo","labelsVisible","legendEnabled","operationalLayerType","popupEnabled","popupTemplate","screenSizePerspectiveEnabled","source","_assertThisInitialized","title","typeIdField","types","_this$source","destroy","_this2","loadFromPortal","supportedTypes","_fetchService","createPopupTemplate","_this$maxRecordCount","_this$capabilities","loaded","set","_set","_get","_getPrototypeOf","_r$feature","_this3","feature","_r$domains","domains","_getLayerDomain","_this4","queryFeatures","from","createQuery","_e$features","forEach","sourceLayer","_this$source$serviceS","_this$source2","serviceSupportsSpatialReference","_fetchService2","read","origin","renderer","domain","readOnly","json","origins","service","String","write","apiValues","reader","Boolean","enabled","ignoreOrigin","isRequired","V","symbol","has","_defineProperty","JSON","stringify","Function","BabelRegExp","WeakMap","buildGroups","Object","keys","reduce","create","indices","Symbol","Array","isArray","join","slice","push","_marked2","LineString","MultiLineString","MultiPoint","Point","Polygon","MultiPolygon","t1","t2","_marked","_iterator4","_step4","coordinates","delegateYield","t3","t5","t6","_step7","_iterator7","_step8","_iterator8","_step9","_iterator9","lengths","_t6","coords","properties","_o6","_p","_step10","Set","_t$geometryType","_iterator10","_loop","_step6","_iterator6","delete","add","_step11","_iterator11","_iterator5","_step5","_a2","_c","_u","_l","_f","_a","_y"],"mappings":"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","file":"static/js/193.d2a26461.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import e from\"../../request.js\";import t from\"../../core/Error.js\";import n from\"../../core/Logger.js\";import{WGS84 as i}from\"../../geometry/support/spatialReferenceUtils.js\";import{project as r}from\"../../geometry/support/webMercatorUtils.js\";import{convertToFeatureSet as a,convertToGeometry as s,convertFromGeometry as o}from\"../graphics/featureConversionUtils.js\";import l from\"../graphics/OptimizedFeatureSet.js\";import{validateGeoJSON as c,inferLayerProperties as u,createOptimizedFeatures as d}from\"../graphics/sources/geojson/geojson.js\";import{createDrawingInfo as m}from\"../graphics/sources/support/clientSideDefaults.js\";import p from\"../support/FieldsIndex.js\";import{kebabDict as f}from\"../support/fieldType.js\";import g from\"../../geometry/SpatialReference.js\";const y=n.getLogger(\"esri.layers.graphics.sources.ogcfeature\"),w=\"http://www.opengis.net/def/crs/\",b=`${w}OGC/1.3/CRS84`;async function h(n,i,r={},a=5){const{links:s}=n,o=$(s,\"items\",\"application/geo+json\")||$(s,\"http://www.opengis.net/def/rel/ogc/1.0/items\",\"application/geo+json\");if(null==o)throw new t(\"ogc-feature-layer:missing-items-page\",\"Missing items url\");const{data:l}=await e(o.href,{signal:r.signal,query:{limit:a,...r.customParameters,token:r.apiKey},headers:{accept:\"application/geo+json\"}});await c(l);const d=u(l,{geometryType:i.geometryType}),g=i.fields||d.fields||[],w=null!=i.hasZ?i.hasZ:d.hasZ,b=d.geometryType,h=i.objectIdField||d.objectIdFieldName||\"OBJECTID\";let j=i.timeInfo;const F=g.find((({name:e})=>e===h));if(F)F.editable=!1,F.nullable=!1;else{if(!d.objectIdFieldType)throw new t(\"ogc-feature-layer:missing-feature-id\",\"Collection geojson require a feature id as a unique identifier\");g.unshift({name:h,alias:h,type:\"number\"===d.objectIdFieldType?\"esriFieldTypeOID\":\"esriFieldTypeString\",editable:!1,nullable:!1})}if(h!==d.objectIdFieldName){const e=g.find((({name:e})=>e===d.objectIdFieldName));e&&(e.type=\"esriFieldTypeInteger\")}g===d.fields&&d.unknownFields.length>0&&y.warn({name:\"ogc-feature-layer:unknown-field-types\",message:\"Some fields types couldn't be inferred from the features and were dropped\",details:{unknownFields:d.unknownFields}});for(const e of g){if(null==e.name&&(e.name=e.alias),null==e.alias&&(e.alias=e.name),\"esriFieldTypeOID\"!==e.type&&\"esriFieldTypeGlobalID\"!==e.type&&(e.editable=null==e.editable||!!e.editable,e.nullable=null==e.nullable||!!e.nullable),!e.name)throw new t(\"ogc-feature-layer:invalid-field-name\",\"field name is missing\",{field:e});if(!f.jsonValues.includes(e.type))throw new t(\"ogc-feature-layer:invalid-field-type\",`invalid type for field \"${e.name}\"`,{field:e})}if(j){const e=new p(g);if(j.startTimeField){const t=e.get(j.startTimeField);t?(j.startTimeField=t.name,t.type=\"esriFieldTypeDate\"):j.startTimeField=null}if(j.endTimeField){const t=e.get(j.endTimeField);t?(j.endTimeField=t.name,t.type=\"esriFieldTypeDate\"):j.endTimeField=null}if(j.trackIdField){const t=e.get(j.trackIdField);t?j.trackIdField=t.name:(j.trackIdField=null,y.warn({name:\"ogc-feature-layer:invalid-timeInfo-trackIdField\",message:\"trackIdField is missing\",details:{timeInfo:j}}))}j.startTimeField||j.endTimeField||(y.warn({name:\"ogc-feature-layer:invalid-timeInfo\",message:\"startTimeField and endTimeField are missing\",details:{timeInfo:j}}),j=null)}return{drawingInfo:b?m(b):null,extent:M(n),geometryType:b,fields:g,hasZ:!!w,objectIdField:h,timeInfo:j}}async function j(n,i={}){const{links:r}=n,a=$(r,\"data\",\"application/json\")||$(r,\"http://www.opengis.net/def/rel/ogc/1.0/data\",\"application/json\");if(null==a)throw new t(\"ogc-feature-layer:missing-collections-page\",\"Missing collections url\");const{apiKey:s,customParameters:o,signal:l}=i,{data:c}=await e(a.href,{signal:l,headers:{accept:\"application/json\"},query:{...o,token:s}});return c}async function F(n,i={}){const{links:r}=n,a=$(r,\"conformance\",\"application/json\")||$(r,\"http://www.opengis.net/def/rel/ogc/1.0/conformance\",\"application/json\");if(null==a)throw new t(\"ogc-feature-layer:missing-conformance-page\",\"Missing conformance url\");const{apiKey:s,customParameters:o,signal:l}=i,{data:c}=await e(a.href,{signal:l,headers:{accept:\"application/json\"},query:{...o,token:s}});return c}async function I(t,n={}){const{apiKey:i,customParameters:r,signal:a}=n,{data:s}=await e(t,{signal:a,headers:{accept:\"application/json\"},query:{...r,token:i}});return s}async function T(t,n={}){const i=\"application/vnd.oai.openapi+json;version=3.0\",r=$(t.links,\"service-desc\",i);if(null==r)return y.warn(\"ogc-feature-layer:missing-openapi-page\",\"The OGC API-Features server does not have an OpenAPI page.\"),null;const{apiKey:a,customParameters:s,signal:o}=n,{data:l}=await e(r.href,{signal:o,headers:{accept:i},query:{...s,token:a}});return l}function k(e){const t=/^http:\\/\\/www\\.opengis.net\\/def\\/crs\\/(?<authority>.*)\\/(?<version>.*)\\/(?<code>.*)$/i.exec(e),n=t?.groups;if(!n)return null;const{authority:i,code:r}=n;switch(i.toLowerCase()){case\"ogc\":switch(r.toLowerCase()){case\"crs27\":return g.GCS_NAD_1927.wkid;case\"crs83\":return 4269;case\"crs84\":case\"crs84h\":return g.WGS84.wkid;default:return null}case\"esri\":case\"epsg\":{const e=Number.parseInt(r,10);return Number.isNaN(e)?null:e}default:return null}}async function x(e,t,n){const i=await S(e,t,n);return a(i)}async function S(n,a,c){const{collection:u,layerDefinition:m,maxRecordCount:p,queryParameters:{apiKey:f,customParameters:y},spatialReference:w,supportedCrs:b}=n,{links:h}=u,j=$(h,\"items\",\"application/geo+json\")||$(h,\"http://www.opengis.net/def/rel/ogc/1.0/items\",\"application/geo+json\");if(null==j)throw new t(\"ogc-feature-layer:missing-items-page\",\"Missing items url\");const{geometry:F,num:I,start:T,timeExtent:k,where:x}=a;if(a.objectIds)throw new t(\"ogc-feature-layer:query-by-objectids-not-supported\",\"Queries with objectids are not supported\");const S=g.fromJSON(w),v=a.outSpatialReference??S,q=v.isWGS84?null:N(v,b),M=C(F,b),G=O(k),W=R(x),D=I??(null!=T&&void 0!==T?10:p),{data:P}=await e(j.href,{...c,query:{...y,...M,crs:q,datetime:G,query:W,limit:D,startindex:T,token:f},headers:{accept:\"application/geo+json\"}});let Z=!1;if(P.links){const e=P.links.find((e=>\"next\"===e.rel));Z=!!e}!Z&&Number.isInteger(P.numberMatched)&&Number.isInteger(P.numberReturned)&&(Z=P.numberReturned<P.numberMatched);const{fields:K,geometryType:L,hasZ:J,objectIdField:z}=m,A=d(P,{geometryType:L,hasZ:J,objectIdField:z});if(!q&&v.isWebMercator)for(const e of A)if(null!=e.geometry&&null!=L){const t=s(e.geometry,L,J,!1);t.spatialReference=g.WGS84,e.geometry=o(r(t,v))}for(const e of A)e.objectId=e.attributes[z];const E=q||!q&&v.isWebMercator?v.toJSON():i,U=new l;return U.exceededTransferLimit=Z,U.features=A,U.fields=K,U.geometryType=L,U.hasZ=J,U.objectIdFieldName=z,U.spatialReference=E,U}function v(e){return null!=e&&\"extent\"===e.type}function N(e,t){const{isWebMercator:n,wkid:i}=e;if(!i)return null;const r=n?t[3857]??t[102100]??t[102113]??t[900913]:t[e.wkid];return r?`${w}${r}`:null}function q(e){if(null==e)return\"\";const{xmin:t,ymin:n,xmax:i,ymax:r}=e;return`${t},${n},${i},${r}`}function O(e){if(null==e)return null;const{start:t,end:n}=e;return`${null!=t?t.toISOString():\"..\"}/${null!=n?n.toISOString():\"..\"}`}function R(e){return null!=e&&e&&\"1=1\"!==e?e:null}function C(e,t){if(!v(e))return null;const{spatialReference:n}=e;if(!n||n.isWGS84)return{bbox:q(e)};const i=N(n,t);return null!=i?{bbox:q(e),\"bbox-crs\":i}:n.isWebMercator?{bbox:q(r(e,g.WGS84))}:null}function M(e){const t=e.extent?.spatial;if(!t)return null;const n=t.bbox[0],i=4===n.length,r=n[0],a=n[1],s=i?void 0:n[2];return{xmin:r,ymin:a,xmax:i?n[2]:n[3],ymax:i?n[3]:n[4],zmin:s,zmax:i?void 0:n[5],spatialReference:g.WGS84.toJSON()}}function $(e,t,n){return e.find((e=>e.rel===t&&e.type===n))||e.find((e=>e.rel===t&&!e.type))}export{b as crsDefault,w as crsPrefix,h as getCollectionDefinition,j as getServerCollections,F as getServerConformance,I as getServerLandingPage,T as getServerOpenApi,k as getSpatialReferenceWkid,x as queryFeatureSetJSON,S as queryOptimizedFeatureSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../core/Error.js\";import s from\"../../../core/Loadable.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{queryFeatureSetJSON as p,crsDefault as i,getSpatialReferenceWkid as a,getServerLandingPage as u,getServerConformance as n,getServerCollections as c,getServerOpenApi as l,getCollectionDefinition as d,crsPrefix as m}from\"../../ogc/ogcFeatureUtils.js\";import y from\"../../../rest/support/FeatureSet.js\";import f from\"../../../geometry/SpatialReference.js\";import{typeKebabDictionary as g}from\"../../../geometry/support/typeUtils.js\";let h=class extends s{constructor(){super(...arguments),this.featureDefinition=null,this.type=\"ogc-feature\"}load(e){return this.addResolvingPromise(this._loadOGCServices(this.layer,e)),this.when()}getSource(){const{featureDefinition:{collection:e,layerDefinition:t,spatialReference:s,supportedCrs:r},layer:{apiKey:o,customParameters:p,effectiveMaxRecordCount:i}}=this;return{type:\"ogc-source\",collection:e,layerDefinition:t,maxRecordCount:i,queryParameters:{apiKey:o,customParameters:p},spatialReference:s,supportedCrs:r}}queryExtent(e,t={}){return null}queryFeatureCount(e,t={}){return null}queryFeatures(e,t={}){return this.queryFeaturesJSON(e,t).then((e=>y.fromJSON(e)))}queryFeaturesJSON(e,t={}){const s=this.getSource();return this.load(t).then((()=>p(s,e,t)))}queryObjectIds(e,t={}){return null}serviceSupportsSpatialReference(e){return!(!e.isWGS84&&!e.isWebMercator)||!!this.featureDefinition.supportedCrs[e.wkid]}_conformsToType(e,t){const s=new RegExp(`^${t}$`,\"i\");return e.conformsTo.some((e=>s.test(e)))??!1}_getCapabilities(e,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1,supportsAsyncConvert3D:!1},query:{maxRecordCount:t,maxRecordCountFactor:void 0,standardMaxRecordCount:void 0,supportsCacheHint:!1,supportsCentroid:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsStatistics:!1,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,supportsSqlExpression:!1,tileMaxRecordCount:void 0},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUploadWithItemId:!1,supportsUpdateWithoutM:!1,supportsAsyncApplyEdits:!1}}}_getMaxRecordCount(e){const t=e?.components?.parameters;return t?.limit?.schema?.maximum??t?.limitFeatures?.schema?.maximum}_getStorageSpatialReference(e){const t=e.storageCrs??i,s=a(t);return null==s?f.WGS84:new f({wkid:s})}_getSupportedSpatialReferences(e,t){const s=\"#/crs\",r=e.crs??[i],o=r.includes(s)?r.filter((e=>e!==s)).concat(t.crs??[]):r,p=/^http:\\/\\/www\\.opengis.net\\/def\\/crs\\/epsg\\/.*\\/3785$/i;return o.filter((e=>!p.test(e)))}async _loadOGCServices(e,s){const r=null!=s?s.signal:null,{apiKey:o,collectionId:p,customParameters:i,fields:y,geometryType:f,hasZ:h,objectIdField:S,timeInfo:C,url:R}=e,w={fields:y?.map((e=>e.toJSON())),geometryType:g.toJSON(f),hasZ:h??!1,objectIdField:S,timeInfo:C?.toJSON()},x={apiKey:o,customParameters:i,signal:r},j=await u(R,x),[F,v]=await Promise.all([n(j,x),c(j,x)]);if(!this._conformsToType(F,\"http://www.opengis.net/spec/ogcapi-features-1/1.0/conf/geojson\"))throw new t(\"ogc-feature-layer:no-geojson-support\",\"Server does not support geojson\");const O=v.collections.find((e=>e.id===p));if(!O)throw new t(\"ogc-feature-layer:collection-not-found\",\"Server does not contain the named collection\");const T=this._conformsToType(F,\"http://www.opengis.net/spec/ogcapi-features-1/1.0/conf/oas30\")?await l(j,x):null,D=await d(O,w,x),_=this._getMaxRecordCount(T),A=this._getCapabilities(D.hasZ,_),P=this._getStorageSpatialReference(O).toJSON(),b=this._getSupportedSpatialReferences(O,v),q=new RegExp(`^${m}`,\"i\"),E={};for(const t of b){const e=a(t);null!=e&&(E[e]||(E[e]=t.replace(q,\"\")))}this.featureDefinition={capabilities:A,collection:O,layerDefinition:D,spatialReference:P,supportedCrs:E}}};e([r()],h.prototype,\"featureDefinition\",void 0),e([r({constructOnly:!0})],h.prototype,\"layer\",void 0),e([r()],h.prototype,\"type\",void 0),h=e([o(\"esri.layers.graphics.sources.OGCFeatureSource\")],h);export{h as OGCFeatureSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../geometry.js\";import r from\"../PopupTemplate.js\";import\"../renderers/ClassBreaksRenderer.js\";import\"../renderers/DictionaryRenderer.js\";import\"../renderers/DotDensityRenderer.js\";import\"../renderers/HeatmapRenderer.js\";import\"../renderers/PieChartRenderer.js\";import\"../renderers/Renderer.js\";import\"../renderers/SimpleRenderer.js\";import\"../renderers/UniqueValueRenderer.js\";import\"../renderers/support/jsonUtils.js\";import{rendererTypes as t,webSceneRendererTypes as i}from\"../renderers/support/types.js\";import{MultiOriginJSONMixin as o}from\"../core/MultiOriginJSONSupport.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import{featureGeometryTypeKebabDictionary as p}from\"../geometry/support/typeUtils.js\";import l from\"./Layer.js\";import{OGCFeatureSource as a}from\"./graphics/sources/OGCFeatureSource.js\";import{APIKeyMixin as d}from\"./mixins/APIKeyMixin.js\";import{BlendLayer as y}from\"./mixins/BlendLayer.js\";import{CustomParametersMixin as m}from\"./mixins/CustomParametersMixin.js\";import{FeatureEffectLayer as u}from\"./mixins/FeatureEffectLayer.js\";import{FeatureReductionLayer as c}from\"./mixins/FeatureReductionLayer.js\";import{OperationalLayer as f}from\"./mixins/OperationalLayer.js\";import{OrderedLayer as h}from\"./mixins/OrderedLayer.js\";import{PortalLayer as j}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as g}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as v}from\"./mixins/ScaleRangeLayer.js\";import{TemporalLayer as x}from\"./mixins/TemporalLayer.js\";import{elevationInfo as b,labelsVisible as I,legendEnabled as S,popupEnabled as R,screenSizePerspectiveEnabled as F,url as L}from\"./support/commonProperties.js\";import O from\"./support/FeatureType.js\";import T from\"./support/Field.js\";import{defineFieldProperties as w}from\"./support/fieldProperties.js\";import{fixRendererFields as D,fixTimeInfoFields as C}from\"./support/fieldUtils.js\";import P from\"./support/LabelClass.js\";import{reader as E}from\"./support/labelingInfo.js\";import _ from\"../rest/support/Query.js\";import{createPopupTemplate as U}from\"../support/popupUtils.js\";import q from\"../geometry/Extent.js\";import G from\"../geometry/SpatialReference.js\";const M=w();let B=class extends(d(m(c(u(y(h(x(v(f(j(g(o(l))))))))))))){constructor(e){super(e),this.capabilities=null,this.collectionId=null,this.copyright=null,this.definitionExpression=null,this.description=null,this.displayField=null,this.elevationInfo=null,this.fields=null,this.fieldsIndex=null,this.fullExtent=null,this.geometryType=null,this.hasZ=void 0,this.labelingInfo=null,this.labelsVisible=!0,this.legendEnabled=!0,this.maxRecordCount=null,this.objectIdField=null,this.operationalLayerType=\"OGCFeatureLayer\",this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.source=new a({layer:this}),this.spatialReference=null,this.title=null,this.type=\"ogc-feature\",this.typeIdField=null,this.types=null,this.url=null}destroy(){this.source?.destroy()}load(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"OGCFeatureServer\"]},e).then((()=>this._fetchService(e)))),this.when()}get defaultPopupTemplate(){return this.createPopupTemplate()}get effectiveMaxRecordCount(){return this.maxRecordCount??this.capabilities?.query.maxRecordCount??5e3}get isTable(){return this.loaded&&null==this.geometryType}set renderer(e){D(e,this.fieldsIndex),this._set(\"renderer\",e)}on(e,r){return super.on(e,r)}createPopupTemplate(e){return U(this,e)}createQuery(){return new _}getField(e){return this.fieldsIndex.get(e)}getFieldDomain(e,r){let t,i=!1;const o=r?.feature?.attributes,s=this.typeIdField&&o?.[this.typeIdField];return null!=s&&this.types&&(i=this.types.some((r=>r.id==s&&(t=r.domains?.[e],\"inherited\"===t?.type&&(t=this._getLayerDomain(e)),!0)))),i||t||(t=this._getLayerDomain(e)),t}queryFeatures(e,r){return this.load().then((()=>this.source.queryFeatures(_.from(e)||this.createQuery(),r))).then((e=>(e?.features?.forEach((e=>{e.layer=e.sourceLayer=this})),e)))}serviceSupportsSpatialReference(e){return this.source?.serviceSupportsSpatialReference(e)??!1}async _fetchService(e){await this.source.load(e),this.read(this.source.featureDefinition,{origin:\"service\"}),D(this.renderer,this.fieldsIndex),C(this.timeInfo,this.fieldsIndex)}_getLayerDomain(e){if(!this.fields)return null;for(const r of this.fields)if(r.name===e&&r.domain)return r.domain;return null}};e([s({readOnly:!0,json:{origins:{service:{read:!0}}}})],B.prototype,\"capabilities\",void 0),e([s({type:String,json:{write:!0}})],B.prototype,\"collectionId\",void 0),e([s({type:String})],B.prototype,\"copyright\",void 0),e([s({readOnly:!0})],B.prototype,\"defaultPopupTemplate\",null),e([s({type:String})],B.prototype,\"definitionExpression\",void 0),e([s({readOnly:!0,type:String,json:{origins:{service:{name:\"collection.description\"}}}})],B.prototype,\"description\",void 0),e([s({type:String})],B.prototype,\"displayField\",void 0),e([s({type:Number})],B.prototype,\"effectiveMaxRecordCount\",null),e([s(b)],B.prototype,\"elevationInfo\",void 0),e([s({type:[T],json:{origins:{service:{name:\"layerDefinition.fields\"}}}})],B.prototype,\"fields\",void 0),e([s(M.fieldsIndex)],B.prototype,\"fieldsIndex\",void 0),e([s({readOnly:!0,type:q,json:{origins:{service:{name:\"layerDefinition.extent\"}}}})],B.prototype,\"fullExtent\",void 0),e([s({type:p.apiValues,json:{origins:{service:{name:\"layerDefinition.geometryType\",read:{reader:p.read}}}}})],B.prototype,\"geometryType\",void 0),e([s({type:Boolean,json:{origins:{service:{name:\"layerDefinition.hasZ\"}}}})],B.prototype,\"hasZ\",void 0),e([s({type:Boolean,readOnly:!0})],B.prototype,\"isTable\",null),e([s({type:[P],json:{origins:{\"web-document\":{name:\"layerDefinition.drawingInfo.labelingInfo\",read:{reader:E},write:!0}}}})],B.prototype,\"labelingInfo\",void 0),e([s(I)],B.prototype,\"labelsVisible\",void 0),e([s(S)],B.prototype,\"legendEnabled\",void 0),e([s({type:Number})],B.prototype,\"maxRecordCount\",void 0),e([s({type:String,json:{origins:{service:{name:\"layerDefinition.objectIdField\"}}}})],B.prototype,\"objectIdField\",void 0),e([s({type:[\"OGCFeatureLayer\"]})],B.prototype,\"operationalLayerType\",void 0),e([s(R)],B.prototype,\"popupEnabled\",void 0),e([s({type:r,json:{name:\"popupInfo\",write:!0}})],B.prototype,\"popupTemplate\",void 0),e([s({types:t,json:{origins:{service:{name:\"layerDefinition.drawingInfo.renderer\",write:!1},\"web-scene\":{types:i,name:\"layerDefinition.drawingInfo.renderer\",write:!0}},name:\"layerDefinition.drawingInfo.renderer\",write:!0}})],B.prototype,\"renderer\",null),e([s(F)],B.prototype,\"screenSizePerspectiveEnabled\",void 0),e([s({readOnly:!0})],B.prototype,\"source\",void 0),e([s({readOnly:!0,type:G,json:{origins:{service:{read:!0}}}})],B.prototype,\"spatialReference\",void 0),e([s({type:String,json:{write:{enabled:!0,ignoreOrigin:!0,isRequired:!0},origins:{service:{name:\"collection.title\"}}}})],B.prototype,\"title\",void 0),e([s({readOnly:!0,json:{read:!1}})],B.prototype,\"type\",void 0),e([s({type:String,readOnly:!0})],B.prototype,\"typeIdField\",void 0),e([s({type:[O]})],B.prototype,\"types\",void 0),e([s(L)],B.prototype,\"url\",void 0),B=e([n(\"esri.layers.OGCFeatureLayer\")],B);const V=B;export{V as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{clone as t}from\"../../../../core/lang.js\";import{queryCapabilities as s}from\"../../data/QueryEngineCapabilities.js\";import{defaultPointSymbolJSON as r,defaultPolylineSymbolJSON as e,defaultPolygonSymbolJSON as p}from\"../../../../symbols/support/defaultsJSON.js\";function o(t){return{renderer:{type:\"simple\",symbol:\"esriGeometryPoint\"===t||\"esriGeometryMultipoint\"===t?r:\"esriGeometryPolyline\"===t?e:p}}}const u=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let n=1;function i(t,s){if(has(\"esri-csp-restrictions\"))return()=>({[s]:null,...t});try{let r=`this.${s} = null;`;for(const s in t){r+=`this${u.test(s)?`.${s}`:`[\"${s}\"]`} = ${JSON.stringify(t[s])};`}const e=new Function(`\\n      return class AttributesClass$${n++} {\\n        constructor() {\\n          ${r};\\n        }\\n      }\\n    `)();return()=>new e}catch(r){return()=>({[s]:null,...t})}}function a(s={}){return[{name:\"New Feature\",description:\"\",prototype:{attributes:t(s)}}]}function c(t,r){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:r,supportsDelete:r,supportsEditing:r,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:r,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:s,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:r,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1}}}export{c as createCapabilities,i as createDefaultAttributesFunction,a as createDefaultTemplate,o as createDrawingInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nconst t={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};export{t as queryCapabilities};\n","import _typeof from \"./typeof.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nimport inherits from \"./inherits.js\";\nexport default function _wrapRegExp() {\n  _wrapRegExp = function _wrapRegExp(e, r) {\n    return new BabelRegExp(e, void 0, r);\n  };\n  var e = RegExp.prototype,\n    r = new WeakMap();\n  function BabelRegExp(e, t, p) {\n    var o = new RegExp(e, t);\n    return r.set(o, p || r.get(e)), setPrototypeOf(o, BabelRegExp.prototype);\n  }\n  function buildGroups(e, t) {\n    var p = r.get(t);\n    return Object.keys(p).reduce(function (r, t) {\n      var o = p[t];\n      if (\"number\" == typeof o) r[t] = e[o];else {\n        for (var i = 0; void 0 === e[o[i]] && i + 1 < o.length;) i++;\n        r[t] = e[o[i]];\n      }\n      return r;\n    }, Object.create(null));\n  }\n  return inherits(BabelRegExp, RegExp), BabelRegExp.prototype.exec = function (r) {\n    var t = e.exec.call(this, r);\n    if (t) {\n      t.groups = buildGroups(t, this);\n      var p = t.indices;\n      p && (p.groups = buildGroups(p, this));\n    }\n    return t;\n  }, BabelRegExp.prototype[Symbol.replace] = function (t, p) {\n    if (\"string\" == typeof p) {\n      var o = r.get(this);\n      return e[Symbol.replace].call(this, t, p.replace(/\\$<([^>]+)>/g, function (e, r) {\n        var t = o[r];\n        return \"$\" + (Array.isArray(t) ? t.join(\"$\") : t);\n      }));\n    }\n    if (\"function\" == typeof p) {\n      var i = this;\n      return e[Symbol.replace].call(this, t, function () {\n        var e = arguments;\n        return \"object\" != _typeof(e[e.length - 1]) && (e = [].slice.call(e)).push(buildGroups(e, i)), p.apply(this, e);\n      });\n    }\n    return e[Symbol.replace].call(this, t, p);\n  }, _wrapRegExp.apply(this, arguments);\n}","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{OptimizedFeature as t}from\"../../OptimizedFeature.js\";import n from\"../../OptimizedGeometry.js\";import{normalizeFieldName as o,isNumericField as r}from\"../../../support/fieldUtils.js\";const i={LineString:\"esriGeometryPolyline\",MultiLineString:\"esriGeometryPolyline\",MultiPoint:\"esriGeometryMultipoint\",Point:\"esriGeometryPoint\",Polygon:\"esriGeometryPolygon\",MultiPolygon:\"esriGeometryPolygon\"};function s(e){return i[e]}function*c(e){switch(e.type){case\"Feature\":yield e;break;case\"FeatureCollection\":for(const t of e.features)t&&(yield t)}}function*u(e){if(e)switch(e.type){case\"Point\":yield e.coordinates;break;case\"LineString\":case\"MultiPoint\":yield*e.coordinates;break;case\"MultiLineString\":case\"Polygon\":for(const t of e.coordinates)yield*t;break;case\"MultiPolygon\":for(const t of e.coordinates)for(const e of t)yield*e}}function*l(e,o={}){const{geometryType:r,objectIdField:i}=o;for(const c of e){const{geometry:e,properties:u,id:l}=c;if(e&&s(e.type)!==r)continue;const f=u||{};let a;i&&(a=f[i],null==l||a||(f[i]=a=l));const y=new t(e?g(new n,e,o):null,f,null,a??void 0);yield y}}function f(e){for(const t of e)if(t.length>2)return!0;return!1}function a(e){return!p(e)}function y(e){return p(e)}function p(e){let t=0;for(let n=0;n<e.length;n++){const o=e[n],r=e[(n+1)%e.length];t+=o[0]*r[1]-r[0]*o[1]}return t<=0}function d(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function g(e,t,n){switch(t.type){case\"LineString\":return m(e,t,n);case\"MultiLineString\":return h(e,t,n);case\"MultiPoint\":return w(e,t,n);case\"MultiPolygon\":return P(e,t,n);case\"Point\":return b(e,t,n);case\"Polygon\":return j(e,t,n)}}function m(e,t,n){return G(e,t.coordinates,n),e}function h(e,t,n){for(const o of t.coordinates)G(e,o,n);return e}function w(e,t,n){return G(e,t.coordinates,n),e}function P(e,t,n){for(const o of t.coordinates){S(e,o[0],n);for(let t=1;t<o.length;t++)F(e,o[t],n)}return e}function b(e,t,n){return k(e,t.coordinates,n),e}function j(e,t,n){const o=t.coordinates;S(e,o[0],n);for(let r=1;r<o.length;r++)F(e,o[r],n);return e}function S(e,t,n){const o=d(t);a(o)?M(e,o,n):G(e,o,n)}function F(e,t,n){const o=d(t);y(o)?M(e,o,n):G(e,o,n)}function G(e,t,n){for(const o of t)k(e,o,n);e.lengths.push(t.length)}function M(e,t,n){for(let o=t.length-1;o>=0;o--)k(e,t[o],n);e.lengths.push(t.length)}function k(e,t,n){const[o,r,i]=t;e.coords.push(o,r),n.hasZ&&e.coords.push(i||0)}function O(e){switch(typeof e){case\"string\":return\"esriFieldTypeString\";case\"number\":return\"esriFieldTypeDouble\";default:return\"unknown\"}}function T(t){if(!t)throw new e(\"geojson-layer:empty\",\"GeoJSON data is empty\");if(\"Feature\"!==t.type&&\"FeatureCollection\"!==t.type)throw new e(\"geojson-layer:unsupported-geojson-object\",\"missing or not supported GeoJSON object type\",{data:t});const{crs:n}=t;if(!n)return;const o=\"string\"==typeof n?n:\"name\"===n.type?n.properties.name:\"EPSG\"===n.type?n.properties.code:null,r=new RegExp(\".*(CRS84H?|4326)$\",\"i\");if(!o||!r.test(o))throw new e(\"geojson-layer:unsupported-crs\",\"unsupported GeoJSON 'crs' member\",{crs:n})}function L(e,t={}){const n=[],i=new Set,l=new Set;let a,y=!1,p=null,d=!1,{geometryType:g=null}=t,m=!1;for(const r of c(e)){const{geometry:e,properties:t,id:c}=r;if(!e||(g||(g=s(e.type)),s(e.type)===g)){if(!y){y=f(u(e))}if(d||(d=null!=c,d&&(a=typeof c,t&&(p=Object.keys(t).filter((e=>t[e]===c))))),t&&p&&d&&null!=c&&(p.length>1?p=p.filter((e=>t[e]===c)):1===p.length&&(p=t[p[0]]===c?p:[])),!m&&t){let e=!0;for(const r in t){if(i.has(r))continue;const s=t[r];if(null==s){e=!1,l.add(r);continue}const c=O(s);if(\"unknown\"===c){l.add(r);continue}l.delete(r),i.add(r);const u=o(r);u&&n.push({name:u,alias:r,type:c})}m=e}}}const h=o(1===p?.length&&p[0]||null)??void 0;if(h)for(const o of n)if(o.name===h&&r(o)){o.type=\"esriFieldTypeOID\";break}return{fields:n,geometryType:g,hasZ:y,objectIdFieldName:h,objectIdFieldType:a,unknownFields:Array.from(l)}}function I(e,t){return Array.from(l(c(e),t))}export{I as createOptimizedFeatures,s as getGeometryType,L as inferLayerProperties,T as validateGeoJSON};\n"],"sourceRoot":""}